var $w=t=>{throw TypeError(t)};var Yd=(t,e,n)=>e.has(t)||$w("Cannot "+n);var O=(t,e,n)=>(Yd(t,e,"read from private field"),n?n.call(t):e.get(t)),te=(t,e,n)=>e.has(t)?$w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G=(t,e,n,r)=>(Yd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),he=(t,e,n)=>(Yd(t,e,"access private method"),n);var ju=(t,e,n,r)=>({set _(s){G(t,e,s,n)},get _(){return O(t,e,r)}});function E1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wS={exports:{}},Fh={},_S={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),T1=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),I1=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),b1=Symbol.for("react.memo"),k1=Symbol.for("react.lazy"),zw=Symbol.iterator;function D1(t){return t===null||typeof t!="object"?null:(t=zw&&t[zw]||t["@@iterator"],typeof t=="function"?t:null)}var ES={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TS=Object.assign,SS={};function Go(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||ES}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PS(){}PS.prototype=Go.prototype;function lg(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||ES}var ug=lg.prototype=new PS;ug.constructor=lg;TS(ug,Go.prototype);ug.isPureReactComponent=!0;var Hw=Array.isArray,AS=Object.prototype.hasOwnProperty,cg={current:null},xS={key:!0,ref:!0,__self:!0,__source:!0};function IS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)AS.call(e,r)&&!xS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yl,type:t,key:i,ref:o,props:s,_owner:cg.current}}function N1(t,e){return{$$typeof:Yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yl}function O1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ww=/\/+/g;function Xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O1(""+t.key):e.toString(36)}function gc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yl:case T1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xd(o,0):r,Hw(s)?(n="",t!=null&&(n=t.replace(Ww,"$&/")+"/"),gc(s,e,n,"",function(c){return c})):s!=null&&(hg(s)&&(s=N1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ww,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xd(i,a);o+=gc(i,e,n,l,s)}else if(l=D1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xd(i,a++),o+=gc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uu(t,e,n){if(t==null)return t;var r=[],s=0;return gc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function M1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},yc={transition:null},V1={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:yc,ReactCurrentOwner:cg};function CS(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Uu,forEach:function(t,e,n){Uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Go;ce.Fragment=S1;ce.Profiler=A1;ce.PureComponent=lg;ce.StrictMode=P1;ce.Suspense=R1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;ce.act=CS;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=cg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)AS.call(e,l)&&!xS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yl,type:t.type,key:s,ref:i,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:I1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x1,_context:t},t.Consumer=t};ce.createElement=IS;ce.createFactory=function(t){var e=IS.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:C1,render:t}};ce.isValidElement=hg;ce.lazy=function(t){return{$$typeof:k1,_payload:{_status:-1,_result:t},_init:M1}};ce.memo=function(t,e){return{$$typeof:b1,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};ce.unstable_act=CS;ce.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ce.useContext=function(t){return Ot.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ce.useId=function(){return Ot.current.useId()};ce.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ce.useRef=function(t){return Ot.current.useRef(t)};ce.useState=function(t){return Ot.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Ot.current.useTransition()};ce.version="18.3.1";_S.exports=ce;var C=_S.exports;const er=vS(C),RS=E1({__proto__:null,default:er},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=C,F1=Symbol.for("react.element"),j1=Symbol.for("react.fragment"),U1=Object.prototype.hasOwnProperty,B1=L1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$1={key:!0,ref:!0,__self:!0,__source:!0};function bS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)U1.call(e,r)&&!$1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:F1,type:t,key:i,ref:o,props:s,_owner:B1.current}}Fh.Fragment=j1;Fh.jsx=bS;Fh.jsxs=bS;wS.exports=Fh;var V=wS.exports,kS={exports:{}},Zt={},DS={exports:{}},NS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var q=j.length;j.push(z);e:for(;0<q;){var J=q-1>>>1,re=j[J];if(0<s(re,z))j[J]=z,j[q]=re,q=J;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],q=j.pop();if(q!==z){j[0]=q;e:for(var J=0,re=j.length,ue=re>>>1;J<ue;){var be=2*(J+1)-1,ke=j[be],ft=be+1,rt=j[ft];if(0>s(ke,q))ft<re&&0>s(rt,ke)?(j[J]=rt,j[ft]=q,J=ft):(j[J]=ke,j[be]=q,J=be);else if(ft<re&&0>s(rt,q))j[J]=rt,j[ft]=q,J=ft;else break e}}return z}function s(j,z){var q=j.sortIndex-z.sortIndex;return q!==0?q:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,g=!1,E=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function b(j){if(_=!1,T(j),!E)if(n(l)!==null)E=!0,se(D);else{var z=n(c);z!==null&&X(b,z.startTime-j)}}function D(j,z){E=!1,_&&(_=!1,w(y),y=-1),g=!0;var q=p;try{for(T(z),d=n(l);d!==null&&(!(d.expirationTime>z)||j&&!k());){var J=d.callback;if(typeof J=="function"){d.callback=null,p=d.priorityLevel;var re=J(d.expirationTime<=z);z=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),T(z)}else r(l);d=n(l)}if(d!==null)var ue=!0;else{var be=n(c);be!==null&&X(b,be.startTime-z),ue=!1}return ue}finally{d=null,p=q,g=!1}}var M=!1,S=null,y=-1,I=5,x=-1;function k(){return!(t.unstable_now()-x<I)}function N(){if(S!==null){var j=t.unstable_now();x=j;var z=!0;try{z=S(!0,j)}finally{z?R():(M=!1,S=null)}}else M=!1}var R;if(typeof v=="function")R=function(){v(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=N,R=function(){oe.postMessage(null)}}else R=function(){P(N,0)};function se(j){S=j,M||(M=!0,R())}function X(j,z){y=P(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,se(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var q=p;p=z;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return z()}finally{p=q}},t.unstable_scheduleCallback=function(j,z,q){var J=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,j){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=q+re,j={id:h++,callback:z,priorityLevel:j,startTime:q,expirationTime:re,sortIndex:-1},q>J?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(_?(w(y),y=-1):_=!0,X(b,q-J))):(j.sortIndex=re,e(l,j),E||g||(E=!0,se(D))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var z=p;return function(){var q=p;p=z;try{return j.apply(this,arguments)}finally{p=q}}}})(NS);DS.exports=NS;var z1=DS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=C,Xt=z1;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OS=new Set,cl={};function _i(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(cl[t]=e,t=0;t<e.length;t++)OS.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,W1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qw={},Kw={};function q1(t){return ip.call(Kw,t)?!0:ip.call(qw,t)?!1:W1.test(t)?Kw[t]=!0:(qw[t]=!0,!1)}function K1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G1(t,e,n,r){if(e===null||typeof e>"u"||K1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dg=/[\-:]([a-z])/g;function fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dg,fg);ht[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dg,fg);ht[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dg,fg);ht[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function pg(t,e,n,r){var s=ht.hasOwnProperty(e)?ht[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G1(e,n,s,r)&&(n=null),r||s===null?q1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ar=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),MS=Symbol.for("react.provider"),VS=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),LS=Symbol.for("react.offscreen"),Gw=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=Gw&&t[Gw]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Jd;function Oa(t){if(Jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jd=e&&e[1]||""}return`
`+Jd+t}var Zd=!1;function ef(t,e){if(!t||Zd)return"";Zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oa(t):""}function Q1(t){switch(t.tag){case 5:return Oa(t.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mi:return"Fragment";case Oi:return"Portal";case op:return"Profiler";case mg:return"StrictMode";case ap:return"Suspense";case lp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VS:return(t.displayName||"Context")+".Consumer";case MS:return(t._context.displayName||"Context")+".Provider";case gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yg:return e=t.displayName||null,e!==null?e:up(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return up(t(e))}catch{}}return null}function Y1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(e);case 8:return e===mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X1(t){var e=FS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $u(t){t._valueTracker||(t._valueTracker=X1(t))}function jS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cp(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function US(t,e){e=e.checked,e!=null&&pg(t,"checked",e,!1)}function hp(t,e){US(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&dp(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dp(t,e,n){(e!=="number"||$c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ma=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ma(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function BS(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $S(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$S(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,zS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J1=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){J1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function HS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function WS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=HS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Z1=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(t,e){if(e){if(Z1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vp=null,Ji=null,Zi=null;function Zw(t){if(t=Zl(t)){if(typeof vp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=zh(e),vp(t.stateNode,t.type,e))}}function qS(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function KS(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,Zw(t),e)for(t=0;t<e.length;t++)Zw(e[t])}}function GS(t,e){return t(e)}function QS(){}var tf=!1;function YS(t,e,n){if(tf)return t(e,n);tf=!0;try{return GS(t,e,n)}finally{tf=!1,(Ji!==null||Zi!==null)&&(QS(),KS())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var wp=!1;if(mr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){wp=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{wp=!1}function ek(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var qa=!1,zc=null,Hc=!1,_p=null,tk={onError:function(t){qa=!0,zc=t}};function nk(t,e,n,r,s,i,o,a,l){qa=!1,zc=null,ek.apply(tk,arguments)}function rk(t,e,n,r,s,i,o,a,l){if(nk.apply(this,arguments),qa){if(qa){var c=zc;qa=!1,zc=null}else throw Error(B(198));Hc||(Hc=!0,_p=c)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function e0(t){if(Ei(t)!==t)throw Error(B(188))}function sk(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return e0(s),t;if(i===r)return e0(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function JS(t){return t=sk(t),t!==null?ZS(t):null}function ZS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZS(t);if(e!==null)return e;t=t.sibling}return null}var eP=Xt.unstable_scheduleCallback,t0=Xt.unstable_cancelCallback,ik=Xt.unstable_shouldYield,ok=Xt.unstable_requestPaint,He=Xt.unstable_now,ak=Xt.unstable_getCurrentPriorityLevel,wg=Xt.unstable_ImmediatePriority,tP=Xt.unstable_UserBlockingPriority,Wc=Xt.unstable_NormalPriority,lk=Xt.unstable_LowPriority,nP=Xt.unstable_IdlePriority,jh=null,Fn=null;function uk(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:dk,ck=Math.log,hk=Math.LN2;function dk(t){return t>>>=0,t===0?32:31-(ck(t)/hk|0)|0}var Hu=64,Wu=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Va(a):(i&=o,i!==0&&(r=Va(i)))}else o=n&~s,o!==0?r=Va(o):i!==0&&(r=Va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-En(e),s=1<<n,r|=t[n],e&=~s;return r}function fk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-En(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=fk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ep(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rP(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-En(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function _g(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-En(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function sP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iP,Eg,oP,aP,lP,Tp=!1,qu=[],ts=null,ns=null,rs=null,fl=new Map,pl=new Map,jr=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function Pa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zl(e),e!==null&&Eg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yk(t,e,n,r,s){switch(e){case"focusin":return ts=Pa(ts,t,e,n,r,s),!0;case"dragenter":return ns=Pa(ns,t,e,n,r,s),!0;case"mouseover":return rs=Pa(rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return fl.set(i,Pa(fl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pl.set(i,Pa(pl.get(i)||null,t,e,n,r,s)),!0}return!1}function uP(t){var e=Bs(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=XS(n),e!==null){t.blockedOn=e,lP(t.priority,function(){oP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yp=r,n.target.dispatchEvent(r),yp=null}else return e=Zl(n),e!==null&&Eg(e),t.blockedOn=n,!1;e.shift()}return!0}function r0(t,e,n){vc(t)&&n.delete(e)}function vk(){Tp=!1,ts!==null&&vc(ts)&&(ts=null),ns!==null&&vc(ns)&&(ns=null),rs!==null&&vc(rs)&&(rs=null),fl.forEach(r0),pl.forEach(r0)}function Aa(t,e){t.blockedOn===e&&(t.blockedOn=null,Tp||(Tp=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,vk)))}function ml(t){function e(s){return Aa(s,t)}if(0<qu.length){Aa(qu[0],t);for(var n=1;n<qu.length;n++){var r=qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&Aa(ts,t),ns!==null&&Aa(ns,t),rs!==null&&Aa(rs,t),fl.forEach(e),pl.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)uP(n),n.blockedOn===null&&jr.shift()}var eo=Ar.ReactCurrentBatchConfig,Kc=!0;function wk(t,e,n,r){var s=Ee,i=eo.transition;eo.transition=null;try{Ee=1,Tg(t,e,n,r)}finally{Ee=s,eo.transition=i}}function _k(t,e,n,r){var s=Ee,i=eo.transition;eo.transition=null;try{Ee=4,Tg(t,e,n,r)}finally{Ee=s,eo.transition=i}}function Tg(t,e,n,r){if(Kc){var s=Sp(t,e,n,r);if(s===null)ff(t,e,r,Gc,n),n0(t,r);else if(yk(s,t,e,n,r))r.stopPropagation();else if(n0(t,r),e&4&&-1<gk.indexOf(t)){for(;s!==null;){var i=Zl(s);if(i!==null&&iP(i),i=Sp(t,e,n,r),i===null&&ff(t,e,r,Gc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ff(t,e,r,null,n)}}var Gc=null;function Sp(t,e,n,r){if(Gc=null,t=vg(r),t=Bs(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gc=t,null}function cP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ak()){case wg:return 1;case tP:return 4;case Wc:case lk:return 16;case nP:return 536870912;default:return 16}default:return 16}}var Xr=null,Sg=null,wc=null;function hP(){if(wc)return wc;var t,e=Sg,n=e.length,r,s="value"in Xr?Xr.value:Xr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wc=s.slice(t,1<r?1-r:void 0)}function _c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function s0(){return!1}function en(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ku:s0,this.isPropagationStopped=s0,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pg=en(Qo),Jl=Ve({},Qo,{view:0,detail:0}),Ek=en(Jl),rf,sf,xa,Uh=Ve({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ag,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(rf=t.screenX-xa.screenX,sf=t.screenY-xa.screenY):sf=rf=0,xa=t),rf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),i0=en(Uh),Tk=Ve({},Uh,{dataTransfer:0}),Sk=en(Tk),Pk=Ve({},Jl,{relatedTarget:0}),of=en(Pk),Ak=Ve({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=en(Ak),Ik=Ve({},Qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ck=en(Ik),Rk=Ve({},Qo,{data:0}),o0=en(Rk),bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dk[t])?!!e[t]:!1}function Ag(){return Nk}var Ok=Ve({},Jl,{key:function(t){if(t.key){var e=bk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ag,charCode:function(t){return t.type==="keypress"?_c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mk=en(Ok),Vk=Ve({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=en(Vk),Lk=Ve({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ag}),Fk=en(Lk),jk=Ve({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uk=en(jk),Bk=Ve({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=en(Bk),zk=[9,13,27,32],xg=mr&&"CompositionEvent"in window,Ka=null;mr&&"documentMode"in document&&(Ka=document.documentMode);var Hk=mr&&"TextEvent"in window&&!Ka,dP=mr&&(!xg||Ka&&8<Ka&&11>=Ka),l0=" ",u0=!1;function fP(t,e){switch(t){case"keyup":return zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vi=!1;function Wk(t,e){switch(t){case"compositionend":return pP(e);case"keypress":return e.which!==32?null:(u0=!0,l0);case"textInput":return t=e.data,t===l0&&u0?null:t;default:return null}}function qk(t,e){if(Vi)return t==="compositionend"||!xg&&fP(t,e)?(t=hP(),wc=Sg=Xr=null,Vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dP&&e.locale!=="ko"?null:e.data;default:return null}}var Kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kk[t.type]:e==="textarea"}function mP(t,e,n,r){qS(r),e=Qc(e,"onChange"),0<e.length&&(n=new Pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,gl=null;function Gk(t){xP(t,0)}function Bh(t){var e=ji(t);if(jS(e))return t}function Qk(t,e){if(t==="change")return e}var gP=!1;if(mr){var af;if(mr){var lf="oninput"in document;if(!lf){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),lf=typeof h0.oninput=="function"}af=lf}else af=!1;gP=af&&(!document.documentMode||9<document.documentMode)}function d0(){Ga&&(Ga.detachEvent("onpropertychange",yP),gl=Ga=null)}function yP(t){if(t.propertyName==="value"&&Bh(gl)){var e=[];mP(e,gl,t,vg(t)),YS(Gk,e)}}function Yk(t,e,n){t==="focusin"?(d0(),Ga=e,gl=n,Ga.attachEvent("onpropertychange",yP)):t==="focusout"&&d0()}function Xk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bh(gl)}function Jk(t,e){if(t==="click")return Bh(e)}function Zk(t,e){if(t==="input"||t==="change")return Bh(e)}function eD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:eD;function yl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ip.call(e,s)||!Pn(t[s],e[s]))return!1}return!0}function f0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p0(t,e){var n=f0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f0(n)}}function vP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wP(){for(var t=window,e=$c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$c(t.document)}return e}function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tD(t){var e=wP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vP(n.ownerDocument.documentElement,n)){if(r!==null&&Ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=p0(n,i);var o=p0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nD=mr&&"documentMode"in document&&11>=document.documentMode,Li=null,Pp=null,Qa=null,Ap=!1;function m0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ap||Li==null||Li!==$c(r)||(r=Li,"selectionStart"in r&&Ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&yl(Qa,r)||(Qa=r,r=Qc(Pp,"onSelect"),0<r.length&&(e=new Pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Li)))}function Gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fi={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},uf={},_P={};mr&&(_P=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function $h(t){if(uf[t])return uf[t];if(!Fi[t])return t;var e=Fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _P)return uf[t]=e[n];return t}var EP=$h("animationend"),TP=$h("animationiteration"),SP=$h("animationstart"),PP=$h("transitionend"),AP=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){AP.set(t,e),_i(e,[t])}for(var cf=0;cf<g0.length;cf++){var hf=g0[cf],rD=hf.toLowerCase(),sD=hf[0].toUpperCase()+hf.slice(1);Ps(rD,"on"+sD)}Ps(EP,"onAnimationEnd");Ps(TP,"onAnimationIteration");Ps(SP,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(PP,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iD=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function y0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rk(r,e,void 0,t),t.currentTarget=null}function xP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;y0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;y0(s,a,c),i=l}}}if(Hc)throw t=_p,Hc=!1,_p=null,t}function xe(t,e){var n=e[bp];n===void 0&&(n=e[bp]=new Set);var r=t+"__bubble";n.has(r)||(IP(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),IP(n,t,r,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Qu]){t[Qu]=!0,OS.forEach(function(n){n!=="selectionchange"&&(iD.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,df("selectionchange",!1,e))}}function IP(t,e,n,r){switch(cP(e)){case 1:var s=wk;break;case 4:s=_k;break;default:s=Tg}n=s.bind(null,e,n,t),s=void 0,!wp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ff(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}YS(function(){var c=i,h=vg(n),d=[];e:{var p=AP.get(t);if(p!==void 0){var g=Pg,E=t;switch(t){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":g=Mk;break;case"focusin":E="focus",g=of;break;case"focusout":E="blur",g=of;break;case"beforeblur":case"afterblur":g=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Fk;break;case EP:case TP:case SP:g=xk;break;case PP:g=Uk;break;case"scroll":g=Ek;break;case"wheel":g=$k;break;case"copy":case"cut":case"paste":g=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=a0}var _=(e&4)!==0,P=!_&&t==="scroll",w=_?p!==null?p+"Capture":null:p;_=[];for(var v=c,T;v!==null;){T=v;var b=T.stateNode;if(T.tag===5&&b!==null&&(T=b,w!==null&&(b=dl(v,w),b!=null&&_.push(wl(v,b,T)))),P)break;v=v.return}0<_.length&&(p=new g(p,E,null,n,h),d.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==yp&&(E=n.relatedTarget||n.fromElement)&&(Bs(E)||E[gr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?Bs(E):null,E!==null&&(P=Ei(E),E!==P||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(_=i0,b="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=a0,b="onPointerLeave",w="onPointerEnter",v="pointer"),P=g==null?p:ji(g),T=E==null?p:ji(E),p=new _(b,v+"leave",g,n,h),p.target=P,p.relatedTarget=T,b=null,Bs(h)===c&&(_=new _(w,v+"enter",E,n,h),_.target=T,_.relatedTarget=P,b=_),P=b,g&&E)t:{for(_=g,w=E,v=0,T=_;T;T=bi(T))v++;for(T=0,b=w;b;b=bi(b))T++;for(;0<v-T;)_=bi(_),v--;for(;0<T-v;)w=bi(w),T--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=bi(_),w=bi(w)}_=null}else _=null;g!==null&&v0(d,p,g,_,!1),E!==null&&P!==null&&v0(d,P,E,_,!0)}}e:{if(p=c?ji(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=Qk;else if(c0(p))if(gP)D=Zk;else{D=Xk;var M=Yk}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=Jk);if(D&&(D=D(t,c))){mP(d,D,n,h);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&dp(p,"number",p.value)}switch(M=c?ji(c):window,t){case"focusin":(c0(M)||M.contentEditable==="true")&&(Li=M,Pp=c,Qa=null);break;case"focusout":Qa=Pp=Li=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,m0(d,n,h);break;case"selectionchange":if(nD)break;case"keydown":case"keyup":m0(d,n,h)}var S;if(xg)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vi?fP(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(dP&&n.locale!=="ko"&&(Vi||y!=="onCompositionStart"?y==="onCompositionEnd"&&Vi&&(S=hP()):(Xr=h,Sg="value"in Xr?Xr.value:Xr.textContent,Vi=!0)),M=Qc(c,y),0<M.length&&(y=new o0(y,t,null,n,h),d.push({event:y,listeners:M}),S?y.data=S:(S=pP(n),S!==null&&(y.data=S)))),(S=Hk?Wk(t,n):qk(t,n))&&(c=Qc(c,"onBeforeInput"),0<c.length&&(h=new o0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}xP(d,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=dl(t,n),i!=null&&r.unshift(wl(t,i,s)),i=dl(t,e),i!=null&&r.push(wl(t,i,s))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=dl(n,i),l!=null&&o.unshift(wl(n,l,a))):s||(l=dl(n,i),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oD=/\r\n?/g,aD=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(oD,`
`).replace(aD,"")}function Yu(t,e,n){if(e=w0(e),w0(t)!==e&&n)throw Error(B(425))}function Yc(){}var xp=null,Ip=null;function Cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,lD=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,uD=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(cD)}:Rp;function cD(t){setTimeout(function(){throw t})}function pf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ml(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Yo,_l="__reactProps$"+Yo,gr="__reactContainer$"+Yo,bp="__reactEvents$"+Yo,hD="__reactListeners$"+Yo,dD="__reactHandles$"+Yo;function Bs(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E0(t);t!==null;){if(n=t[Mn])return n;t=E0(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Mn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function zh(t){return t[_l]||null}var kp=[],Ui=-1;function As(t){return{current:t}}function Ie(t){0>Ui||(t.current=kp[Ui],kp[Ui]=null,Ui--)}function Se(t,e){Ui++,kp[Ui]=t.current,t.current=e}var ps={},xt=As(ps),Ut=As(!1),li=ps;function xo(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function Xc(){Ie(Ut),Ie(xt)}function T0(t,e,n){if(xt.current!==ps)throw Error(B(168));Se(xt,e),Se(Ut,n)}function CP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Y1(t)||"Unknown",s));return Ve({},n,r)}function Jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,li=xt.current,Se(xt,t),Se(Ut,Ut.current),!0}function S0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=CP(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,Ie(Ut),Ie(xt),Se(xt,t)):Ie(Ut),Se(Ut,n)}var nr=null,Hh=!1,mf=!1;function RP(t){nr===null?nr=[t]:nr.push(t)}function fD(t){Hh=!0,RP(t)}function xs(){if(!mf&&nr!==null){mf=!0;var t=0,e=Ee;try{var n=nr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,Hh=!1}catch(s){throw nr!==null&&(nr=nr.slice(t+1)),eP(wg,xs),s}finally{Ee=e,mf=!1}}return null}var Bi=[],$i=0,Zc=null,eh=0,an=[],ln=0,ui=null,or=1,ar="";function Vs(t,e){Bi[$i++]=eh,Bi[$i++]=Zc,Zc=t,eh=e}function bP(t,e,n){an[ln++]=or,an[ln++]=ar,an[ln++]=ui,ui=t;var r=or;t=ar;var s=32-En(r)-1;r&=~(1<<s),n+=1;var i=32-En(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,or=1<<32-En(e)+s|n<<s|r,ar=i+t}else or=1<<i|n<<s|r,ar=t}function Cg(t){t.return!==null&&(Vs(t,1),bP(t,1,0))}function Rg(t){for(;t===Zc;)Zc=Bi[--$i],Bi[$i]=null,eh=Bi[--$i],Bi[$i]=null;for(;t===ui;)ui=an[--ln],an[ln]=null,ar=an[--ln],an[ln]=null,or=an[--ln],an[ln]=null}var Gt=null,Kt=null,Re=!1,_n=null;function kP(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Kt=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ui!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Kt=null,!0):!1;default:return!1}}function Dp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Np(t){if(Re){var e=Kt;if(e){var n=e;if(!P0(t,e)){if(Dp(t))throw Error(B(418));e=ss(n.nextSibling);var r=Gt;e&&P0(t,e)?kP(r,n):(t.flags=t.flags&-4097|2,Re=!1,Gt=t)}}else{if(Dp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Re=!1,Gt=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function Xu(t){if(t!==Gt)return!1;if(!Re)return A0(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cp(t.type,t.memoizedProps)),e&&(e=Kt)){if(Dp(t))throw DP(),Error(B(418));for(;e;)kP(t,e),e=ss(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Gt?ss(t.stateNode.nextSibling):null;return!0}function DP(){for(var t=Kt;t;)t=ss(t.nextSibling)}function Io(){Kt=Gt=null,Re=!1}function bg(t){_n===null?_n=[t]:_n.push(t)}var pD=Ar.ReactCurrentBatchConfig;function Ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function x0(t){var e=t._init;return e(t._payload)}function NP(t){function e(w,v){if(t){var T=w.deletions;T===null?(w.deletions=[v],w.flags|=16):T.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=ls(w,v),w.index=0,w.sibling=null,w}function i(w,v,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<v?(w.flags|=2,v):T):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,T,b){return v===null||v.tag!==6?(v=Tf(T,w.mode,b),v.return=w,v):(v=s(v,T),v.return=w,v)}function l(w,v,T,b){var D=T.type;return D===Mi?h(w,v,T.props.children,b,T.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Lr&&x0(D)===v.type)?(b=s(v,T.props),b.ref=Ia(w,v,T),b.return=w,b):(b=Ic(T.type,T.key,T.props,null,w.mode,b),b.ref=Ia(w,v,T),b.return=w,b)}function c(w,v,T,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Sf(T,w.mode,b),v.return=w,v):(v=s(v,T.children||[]),v.return=w,v)}function h(w,v,T,b,D){return v===null||v.tag!==7?(v=ni(T,w.mode,b,D),v.return=w,v):(v=s(v,T),v.return=w,v)}function d(w,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Tf(""+v,w.mode,T),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bu:return T=Ic(v.type,v.key,v.props,null,w.mode,T),T.ref=Ia(w,null,v),T.return=w,T;case Oi:return v=Sf(v,w.mode,T),v.return=w,v;case Lr:var b=v._init;return d(w,b(v._payload),T)}if(Ma(v)||Ta(v))return v=ni(v,w.mode,T,null),v.return=w,v;Ju(w,v)}return null}function p(w,v,T,b){var D=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(w,v,""+T,b);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bu:return T.key===D?l(w,v,T,b):null;case Oi:return T.key===D?c(w,v,T,b):null;case Lr:return D=T._init,p(w,v,D(T._payload),b)}if(Ma(T)||Ta(T))return D!==null?null:h(w,v,T,b,null);Ju(w,T)}return null}function g(w,v,T,b,D){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(T)||null,a(v,w,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bu:return w=w.get(b.key===null?T:b.key)||null,l(v,w,b,D);case Oi:return w=w.get(b.key===null?T:b.key)||null,c(v,w,b,D);case Lr:var M=b._init;return g(w,v,T,M(b._payload),D)}if(Ma(b)||Ta(b))return w=w.get(T)||null,h(v,w,b,D,null);Ju(v,b)}return null}function E(w,v,T,b){for(var D=null,M=null,S=v,y=v=0,I=null;S!==null&&y<T.length;y++){S.index>y?(I=S,S=null):I=S.sibling;var x=p(w,S,T[y],b);if(x===null){S===null&&(S=I);break}t&&S&&x.alternate===null&&e(w,S),v=i(x,v,y),M===null?D=x:M.sibling=x,M=x,S=I}if(y===T.length)return n(w,S),Re&&Vs(w,y),D;if(S===null){for(;y<T.length;y++)S=d(w,T[y],b),S!==null&&(v=i(S,v,y),M===null?D=S:M.sibling=S,M=S);return Re&&Vs(w,y),D}for(S=r(w,S);y<T.length;y++)I=g(S,w,y,T[y],b),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),v=i(I,v,y),M===null?D=I:M.sibling=I,M=I);return t&&S.forEach(function(k){return e(w,k)}),Re&&Vs(w,y),D}function _(w,v,T,b){var D=Ta(T);if(typeof D!="function")throw Error(B(150));if(T=D.call(T),T==null)throw Error(B(151));for(var M=D=null,S=v,y=v=0,I=null,x=T.next();S!==null&&!x.done;y++,x=T.next()){S.index>y?(I=S,S=null):I=S.sibling;var k=p(w,S,x.value,b);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(w,S),v=i(k,v,y),M===null?D=k:M.sibling=k,M=k,S=I}if(x.done)return n(w,S),Re&&Vs(w,y),D;if(S===null){for(;!x.done;y++,x=T.next())x=d(w,x.value,b),x!==null&&(v=i(x,v,y),M===null?D=x:M.sibling=x,M=x);return Re&&Vs(w,y),D}for(S=r(w,S);!x.done;y++,x=T.next())x=g(S,w,y,x.value,b),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?y:x.key),v=i(x,v,y),M===null?D=x:M.sibling=x,M=x);return t&&S.forEach(function(N){return e(w,N)}),Re&&Vs(w,y),D}function P(w,v,T,b){if(typeof T=="object"&&T!==null&&T.type===Mi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Bu:e:{for(var D=T.key,M=v;M!==null;){if(M.key===D){if(D=T.type,D===Mi){if(M.tag===7){n(w,M.sibling),v=s(M,T.props.children),v.return=w,w=v;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Lr&&x0(D)===M.type){n(w,M.sibling),v=s(M,T.props),v.ref=Ia(w,M,T),v.return=w,w=v;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===Mi?(v=ni(T.props.children,w.mode,b,T.key),v.return=w,w=v):(b=Ic(T.type,T.key,T.props,null,w.mode,b),b.ref=Ia(w,v,T),b.return=w,w=b)}return o(w);case Oi:e:{for(M=T.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(w,v.sibling),v=s(v,T.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Sf(T,w.mode,b),v.return=w,w=v}return o(w);case Lr:return M=T._init,P(w,v,M(T._payload),b)}if(Ma(T))return E(w,v,T,b);if(Ta(T))return _(w,v,T,b);Ju(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,T),v.return=w,w=v):(n(w,v),v=Tf(T,w.mode,b),v.return=w,w=v),o(w)):n(w,v)}return P}var Co=NP(!0),OP=NP(!1),th=As(null),nh=null,zi=null,kg=null;function Dg(){kg=zi=nh=null}function Ng(t){var e=th.current;Ie(th),t._currentValue=e}function Op(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){nh=t,kg=zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(kg!==t)if(t={context:t,memoizedValue:e,next:null},zi===null){if(nh===null)throw Error(B(308));zi=t,nh.dependencies={lanes:0,firstContext:t}}else zi=zi.next=t;return e}var $s=null;function Og(t){$s===null?$s=[t]:$s.push(t)}function MP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Og(e)):(n.next=s.next,s.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yr(t,n)}return s=r.interleaved,s===null?(e.next=e,Og(r)):(e.next=s.next,s.next=e),r.interleaved=e,yr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}function I0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rh(t,e,n,r){var s=t.updateQueue;Fr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,_=a;switch(p=e,g=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){d=E.call(g,d,p);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(g,d,p):E,p==null)break e;d=Ve({},d,p);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hi|=o,t.lanes=o,t.memoizedState=d}}function C0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var eu={},jn=As(eu),El=As(eu),Tl=As(eu);function zs(t){if(t===eu)throw Error(B(174));return t}function Vg(t,e){switch(Se(Tl,e),Se(El,t),Se(jn,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pp(e,t)}Ie(jn),Se(jn,e)}function Ro(){Ie(jn),Ie(El),Ie(Tl)}function LP(t){zs(Tl.current);var e=zs(jn.current),n=pp(e,t.type);e!==n&&(Se(El,t),Se(jn,n))}function Lg(t){El.current===t&&(Ie(jn),Ie(El))}var De=As(0);function sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function Fg(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var Tc=Ar.ReactCurrentDispatcher,yf=Ar.ReactCurrentBatchConfig,ci=0,Me=null,Qe=null,tt=null,ih=!1,Ya=!1,Sl=0,mD=0;function yt(){throw Error(B(321))}function jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Ug(t,e,n,r,s,i){if(ci=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?wD:_D,t=n(r,s),Ya){i=0;do{if(Ya=!1,Sl=0,25<=i)throw Error(B(301));i+=1,tt=Qe=null,e.updateQueue=null,Tc.current=ED,t=n(r,s)}while(Ya)}if(Tc.current=oh,e=Qe!==null&&Qe.next!==null,ci=0,tt=Qe=Me=null,ih=!1,e)throw Error(B(300));return t}function Bg(){var t=Sl!==0;return Sl=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Me.memoizedState=tt=t:tt=tt.next=t,tt}function dn(){if(Qe===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=tt===null?Me.memoizedState:tt.next;if(e!==null)tt=e,Qe=t;else{if(t===null)throw Error(B(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},tt===null?Me.memoizedState=tt=t:tt=tt.next=t}return tt}function Pl(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=dn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((ci&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Me.lanes|=h,hi|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Pn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,hi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wf(t){var e=dn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Pn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FP(){}function jP(t,e){var n=Me,r=dn(),s=e(),i=!Pn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,$g($P.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Al(9,BP.bind(null,n,r,s,e),void 0,null),nt===null)throw Error(B(349));ci&30||UP(n,e,s)}return s}function UP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BP(t,e,n,r){e.value=n,e.getSnapshot=r,zP(e)&&HP(t)}function $P(t,e,n){return n(function(){zP(e)&&HP(t)})}function zP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function HP(t){var e=yr(t,1);e!==null&&Tn(e,t,1,-1)}function R0(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=vD.bind(null,Me,t),[e.memoizedState,t]}function Al(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WP(){return dn().memoizedState}function Sc(t,e,n,r){var s=kn();Me.flags|=t,s.memoizedState=Al(1|e,n,void 0,r===void 0?null:r)}function Wh(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Qe!==null){var o=Qe.memoizedState;if(i=o.destroy,r!==null&&jg(r,o.deps)){s.memoizedState=Al(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Al(1|e,n,i,r)}function b0(t,e){return Sc(8390656,8,t,e)}function $g(t,e){return Wh(2048,8,t,e)}function qP(t,e){return Wh(4,2,t,e)}function KP(t,e){return Wh(4,4,t,e)}function GP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QP(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4,4,GP.bind(null,e,t),n)}function zg(){}function YP(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XP(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JP(t,e,n){return ci&21?(Pn(n,e)||(n=rP(),Me.lanes|=n,hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function gD(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=yf.transition;yf.transition={};try{t(!1),e()}finally{Ee=n,yf.transition=r}}function ZP(){return dn().memoizedState}function yD(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eA(t))tA(e,n);else if(n=MP(t,e,n,r),n!==null){var s=Nt();Tn(n,t,r,s),nA(n,e,r)}}function vD(t,e,n){var r=as(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eA(t))tA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(s.next=s,Og(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=MP(t,e,s,r),n!==null&&(s=Nt(),Tn(n,t,r,s),nA(n,e,r))}}function eA(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function tA(t,e){Ya=ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}var oh={readContext:hn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},wD={readContext:hn,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:b0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4194308,4,GP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sc(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yD.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:R0,useDebugValue:zg,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=R0(!1),e=t[0];return t=gD.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=kn();if(Re){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),nt===null)throw Error(B(349));ci&30||UP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,b0($P.bind(null,r,i,t),[t]),r.flags|=2048,Al(9,BP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=kn(),e=nt.identifierPrefix;if(Re){var n=ar,r=or;n=(r&~(1<<32-En(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_D={readContext:hn,useCallback:YP,useContext:hn,useEffect:$g,useImperativeHandle:QP,useInsertionEffect:qP,useLayoutEffect:KP,useMemo:XP,useReducer:vf,useRef:WP,useState:function(){return vf(Pl)},useDebugValue:zg,useDeferredValue:function(t){var e=dn();return JP(e,Qe.memoizedState,t)},useTransition:function(){var t=vf(Pl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:FP,useSyncExternalStore:jP,useId:ZP,unstable_isNewReconciler:!1},ED={readContext:hn,useCallback:YP,useContext:hn,useEffect:$g,useImperativeHandle:QP,useInsertionEffect:qP,useLayoutEffect:KP,useMemo:XP,useReducer:wf,useRef:WP,useState:function(){return wf(Pl)},useDebugValue:zg,useDeferredValue:function(t){var e=dn();return Qe===null?e.memoizedState=t:JP(e,Qe.memoizedState,t)},useTransition:function(){var t=wf(Pl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:FP,useSyncExternalStore:jP,useId:ZP,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=as(t),i=dr(r,s);i.payload=e,n!=null&&(i.callback=n),e=is(t,i,s),e!==null&&(Tn(e,t,s,r),Ec(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=as(t),i=dr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=is(t,i,s),e!==null&&(Tn(e,t,s,r),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=as(t),s=dr(n,r);s.tag=2,e!=null&&(s.callback=e),e=is(t,s,r),e!==null&&(Tn(e,t,r,n),Ec(e,t,r))}};function k0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!yl(n,r)||!yl(s,i):!0}function rA(t,e,n){var r=!1,s=ps,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Bt(e)?li:xt.current,r=e.contextTypes,i=(r=r!=null)?xo(t,s):ps),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function D0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Bt(e)?li:xt.current,s.context=xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qh.enqueueReplaceState(s,s.state,null),rh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,e){try{var n="",r=e;do n+=Q1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TD=typeof WeakMap=="function"?WeakMap:Map;function sA(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lh||(lh=!0,Kp=r),Lp(t,e)},n}function iA(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lp(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function N0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=VD.bind(null,t,e,n),e.then(t,t))}function O0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,is(n,e,1))),n.lanes|=1),t)}var SD=Ar.ReactCurrentOwner,jt=!1;function Dt(t,e,n,r){e.child=t===null?OP(e,null,n,r):Co(e,t.child,n,r)}function V0(t,e,n,r,s){n=n.render;var i=e.ref;return to(e,s),r=Ug(t,e,n,r,i,s),n=Bg(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Re&&n&&Cg(e),e.flags|=1,Dt(t,e,r,s),e.child)}function L0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Xg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oA(t,e,i,r,s)):(t=Ic(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(o,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=ls(i,r),t.ref=e.ref,t.return=e,e.child=t}function oA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(yl(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,vr(t,e,s)}return Fp(t,e,n,r,s)}function aA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Wi,Wt),Wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Wi,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(Wi,Wt),Wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(Wi,Wt),Wt|=r;return Dt(t,e,s,n),e.child}function lA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fp(t,e,n,r,s){var i=Bt(n)?li:xt.current;return i=xo(e,i),to(e,s),n=Ug(t,e,n,r,i,s),r=Bg(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Re&&r&&Cg(e),e.flags|=1,Dt(t,e,n,s),e.child)}function F0(t,e,n,r,s){if(Bt(n)){var i=!0;Jc(e)}else i=!1;if(to(e,s),e.stateNode===null)Pc(t,e),rA(e,n,r),Vp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Bt(n)?li:xt.current,c=xo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&D0(e,o,r,c),Fr=!1;var p=e.memoizedState;o.state=p,rh(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ut.current||Fr?(typeof h=="function"&&(Mp(e,n,h,r),l=e.memoizedState),(a=Fr||k0(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:gn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Bt(n)?li:xt.current,l=xo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&D0(e,o,r,l),Fr=!1,p=e.memoizedState,o.state=p,rh(e,r,o,s);var E=e.memoizedState;a!==d||p!==E||Ut.current||Fr?(typeof g=="function"&&(Mp(e,n,g,r),E=e.memoizedState),(c=Fr||k0(e,n,c,r,p,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return jp(t,e,n,r,i,s)}function jp(t,e,n,r,s,i){lA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&S0(e,n,!1),vr(t,e,i);r=e.stateNode,SD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,i),e.child=Co(e,null,a,i)):Dt(t,e,a,i),e.memoizedState=r.state,s&&S0(e,n,!0),e.child}function uA(t){var e=t.stateNode;e.pendingContext?T0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T0(t,e.context,!1),Vg(t,e.containerInfo)}function j0(t,e,n,r,s){return Io(),bg(s),e.flags|=256,Dt(t,e,n,r),e.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function Bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cA(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(De,s&1),t===null)return Np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qh(o,r,0,null),t=ni(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bp(n),e.memoizedState=Up,t):Hg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return PD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ls(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ls(a,i):(i=ni(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Up,r}return i=t.child,t=i.sibling,r=ls(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hg(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,n,r){return r!==null&&bg(r),Co(e,t.child,null,n),t=Hg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_f(Error(B(422))),Zu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Qh({mode:"visible",children:r.children},s,0,null),i=ni(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=Bp(o),e.memoizedState=Up,i);if(!(e.mode&1))return Zu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=_f(i,r,void 0),Zu(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yr(t,s),Tn(r,t,s,-1))}return Yg(),r=_f(Error(B(421))),Zu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Kt=ss(s.nextSibling),Gt=e,Re=!0,_n=null,t!==null&&(an[ln++]=or,an[ln++]=ar,an[ln++]=ui,or=t.id,ar=t.overflow,ui=e),e=Hg(e,r.children),e.flags|=4096,e)}function U0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Op(t.return,e,n)}function Ef(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Dt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U0(t,n,e);else if(t.tag===19)U0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ef(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ef(e,!0,n,null,i);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AD(t,e,n){switch(e.tag){case 3:uA(e),Io();break;case 5:LP(e);break;case 1:Bt(e.type)&&Jc(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(th,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?cA(t,e,n):(Se(De,De.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Se(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,aA(t,e,n)}return vr(t,e,n)}var dA,$p,fA,pA;dA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$p=function(){};fA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zs(jn.current);var i=null;switch(n){case"input":s=cp(t,s),r=cp(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=fp(t,s),r=fp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yc)}mp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};pA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ca(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xD(t,e,n){var r=e.pendingProps;switch(Rg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Bt(e.type)&&Xc(),vt(e),null;case 3:return r=e.stateNode,Ro(),Ie(Ut),Ie(xt),Fg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Yp(_n),_n=null))),$p(t,e),vt(e),null;case 5:Lg(e);var s=zs(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)fA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return vt(e),null}if(t=zs(jn.current),Xu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Mn]=e,r[_l]=i,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<La.length;s++)xe(La[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Qw(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":Xw(r,i),xe("invalid",r)}mp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),s=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":$u(r),Yw(r,i,!0);break;case"textarea":$u(r),Jw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$S(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[_l]=r,dA(t,e,!1,!1),e.stateNode=t;e:{switch(o=gp(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<La.length;s++)xe(La[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":Qw(t,r),s=cp(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),xe("invalid",t);break;case"textarea":Xw(t,r),s=fp(t,r),xe("invalid",t);break;default:s=r}mp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?WS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hl(t,l):typeof l=="number"&&hl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",t):l!=null&&pg(t,i,l,o))}switch(n){case"input":$u(t),Yw(t,r,!1);break;case"textarea":$u(t),Jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)pA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=zs(Tl.current),zs(jn.current),Xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,(i=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:Yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r}return vt(e),null;case 13:if(Ie(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Kt!==null&&e.mode&1&&!(e.flags&128))DP(),Io(),e.flags|=98560,i=!1;else if(i=Xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Mn]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),i=!1}else _n!==null&&(Yp(_n),_n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Xe===0&&(Xe=3):Yg())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Ro(),$p(t,e),t===null&&vl(e.stateNode.containerInfo),vt(e),null;case 10:return Ng(e.type._context),vt(e),null;case 17:return Bt(e.type)&&Xc(),vt(e),null;case 19:if(Ie(De),i=e.memoizedState,i===null)return vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ca(i,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sh(t),o!==null){for(e.flags|=128,Ca(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>ko&&(e.flags|=128,r=!0,Ca(i,!1),e.lanes=4194304)}else{if(!r)if(t=sh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return vt(e),null}else 2*He()-i.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,r=!0,Ca(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=De.current,Se(De,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Qg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function ID(t,e){switch(Rg(e),e.tag){case 1:return Bt(e.type)&&Xc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),Ie(Ut),Ie(xt),Fg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lg(e),null;case 13:if(Ie(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(De),null;case 4:return Ro(),null;case 10:return Ng(e.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var ec=!1,Tt=!1,CD=typeof WeakSet=="function"?WeakSet:Set,K=null;function Hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function zp(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var B0=!1;function RD(t,e){if(xp=Kc,t=wP(),Ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ip={focusedElem:t,selectionRange:n},Kc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,P=E.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:gn(e.type,_),P);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){Ue(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return E=B0,B0=!1,E}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zp(e,n,i)}s=s.next}while(s!==r)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mA(t){var e=t.alternate;e!==null&&(t.alternate=null,mA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[_l],delete e[bp],delete e[hD],delete e[dD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gA(t){return t.tag===5||t.tag===3||t.tag===4}function $0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yc));else if(r!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}function qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}var it=null,wn=!1;function kr(t,e,n){for(n=n.child;n!==null;)yA(t,e,n),n=n.sibling}function yA(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:Tt||Hi(n,e);case 6:var r=it,s=wn;it=null,kr(t,e,n),it=r,wn=s,it!==null&&(wn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(wn?(t=it,n=n.stateNode,t.nodeType===8?pf(t.parentNode,n):t.nodeType===1&&pf(t,n),ml(t)):pf(it,n.stateNode));break;case 4:r=it,s=wn,it=n.stateNode.containerInfo,wn=!0,kr(t,e,n),it=r,wn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zp(n,e,o),s=s.next}while(s!==r)}kr(t,e,n);break;case 1:if(!Tt&&(Hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,kr(t,e,n),Tt=r):kr(t,e,n);break;default:kr(t,e,n)}}function z0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CD),e.forEach(function(r){var s=FD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,wn=!1;break e;case 3:it=a.stateNode.containerInfo,wn=!0;break e;case 4:it=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(it===null)throw Error(B(160));yA(i,o,s),it=null,wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vA(e,t),e=e.sibling}function vA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),bn(t),r&4){try{Xa(3,t,t.return),Kh(3,t)}catch(_){Ue(t,t.return,_)}try{Xa(5,t,t.return)}catch(_){Ue(t,t.return,_)}}break;case 1:pn(e,t),bn(t),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(pn(e,t),bn(t),r&512&&n!==null&&Hi(n,n.return),t.flags&32){var s=t.stateNode;try{hl(s,"")}catch(_){Ue(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&US(s,i),gp(a,o);var c=gp(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?WS(s,d):h==="dangerouslySetInnerHTML"?zS(s,d):h==="children"?hl(s,d):pg(s,h,d,c)}switch(a){case"input":hp(s,i);break;case"textarea":BS(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Xi(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Xi(s,!!i.multiple,i.defaultValue,!0):Xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(_){Ue(t,t.return,_)}}break;case 6:if(pn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Ue(t,t.return,_)}}break;case 3:if(pn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(_){Ue(t,t.return,_)}break;case 4:pn(e,t),bn(t);break;case 13:pn(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kg=He())),r&4&&z0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||h,pn(e,t),Tt=c):pn(e,t),bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(d=K=h;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:Xa(4,p,p.return);break;case 1:Hi(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Ue(r,n,_)}}break;case 5:Hi(p,p.return);break;case 22:if(p.memoizedState!==null){W0(d);continue}}g!==null?(g.return=p,K=g):W0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HS("display",o))}catch(_){Ue(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){Ue(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pn(e,t),bn(t),r&4&&z0(t);break;case 21:break;default:pn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gA(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hl(s,""),r.flags&=-33);var i=$0(t);qp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$0(t);Wp(t,a,o);break;default:throw Error(B(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bD(t,e,n){K=t,wA(t)}function wA(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ec;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=ec;var c=Tt;if(ec=o,(Tt=l)&&!c)for(K=s;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?q0(s):l!==null?(l.return=o,K=l):q0(s);for(;i!==null;)K=i,wA(i),i=i.sibling;K=s,ec=a,Tt=c}H0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):H0(t)}}function H0(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||Kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&C0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ml(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Tt||e.flags&512&&Hp(e)}catch(p){Ue(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function W0(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function q0(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kh(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ue(e,s,l)}}var i=e.return;try{Hp(e)}catch(l){Ue(e,i,l)}break;case 5:var o=e.return;try{Hp(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var kD=Math.ceil,ah=Ar.ReactCurrentDispatcher,Wg=Ar.ReactCurrentOwner,cn=Ar.ReactCurrentBatchConfig,ye=0,nt=null,Ke=null,ut=0,Wt=0,Wi=As(0),Xe=0,xl=null,hi=0,Gh=0,qg=0,Ja=null,Ft=null,Kg=0,ko=1/0,tr=null,lh=!1,Kp=null,os=null,tc=!1,Jr=null,uh=0,Za=0,Gp=null,Ac=-1,xc=0;function Nt(){return ye&6?He():Ac!==-1?Ac:Ac=He()}function as(t){return t.mode&1?ye&2&&ut!==0?ut&-ut:pD.transition!==null?(xc===0&&(xc=rP()),xc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:cP(t.type)),t):1}function Tn(t,e,n,r){if(50<Za)throw Za=0,Gp=null,Error(B(185));Xl(t,n,r),(!(ye&2)||t!==nt)&&(t===nt&&(!(ye&2)&&(Gh|=n),Xe===4&&Ur(t,ut)),$t(t,r),n===1&&ye===0&&!(e.mode&1)&&(ko=He()+500,Hh&&xs()))}function $t(t,e){var n=t.callbackNode;pk(t,e);var r=qc(t,t===nt?ut:0);if(r===0)n!==null&&t0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&t0(n),e===1)t.tag===0?fD(K0.bind(null,t)):RP(K0.bind(null,t)),uD(function(){!(ye&6)&&xs()}),n=null;else{switch(sP(r)){case 1:n=wg;break;case 4:n=tP;break;case 16:n=Wc;break;case 536870912:n=nP;break;default:n=Wc}n=IA(n,_A.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _A(t,e){if(Ac=-1,xc=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=qc(t,t===nt?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ch(t,r);else{e=r;var s=ye;ye|=2;var i=TA();(nt!==t||ut!==e)&&(tr=null,ko=He()+500,ti(t,e));do try{OD();break}catch(a){EA(t,a)}while(!0);Dg(),ah.current=i,ye=s,Ke!==null?e=0:(nt=null,ut=0,e=Xe)}if(e!==0){if(e===2&&(s=Ep(t),s!==0&&(r=s,e=Qp(t,s))),e===1)throw n=xl,ti(t,0),Ur(t,r),$t(t,He()),n;if(e===6)Ur(t,r);else{if(s=t.current.alternate,!(r&30)&&!DD(s)&&(e=ch(t,r),e===2&&(i=Ep(t),i!==0&&(r=i,e=Qp(t,i))),e===1))throw n=xl,ti(t,0),Ur(t,r),$t(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ls(t,Ft,tr);break;case 3:if(Ur(t,r),(r&130023424)===r&&(e=Kg+500-He(),10<e)){if(qc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rp(Ls.bind(null,t,Ft,tr),e);break}Ls(t,Ft,tr);break;case 4:if(Ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-En(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kD(r/1960))-r,10<r){t.timeoutHandle=Rp(Ls.bind(null,t,Ft,tr),r);break}Ls(t,Ft,tr);break;case 5:Ls(t,Ft,tr);break;default:throw Error(B(329))}}}return $t(t,He()),t.callbackNode===n?_A.bind(null,t):null}function Qp(t,e){var n=Ja;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=ch(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Yp(e)),t}function Yp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function DD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e){for(e&=~qg,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),r=1<<n;t[n]=-1,e&=~r}}function K0(t){if(ye&6)throw Error(B(327));no();var e=qc(t,0);if(!(e&1))return $t(t,He()),null;var n=ch(t,e);if(t.tag!==0&&n===2){var r=Ep(t);r!==0&&(e=r,n=Qp(t,r))}if(n===1)throw n=xl,ti(t,0),Ur(t,e),$t(t,He()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,Ft,tr),$t(t,He()),null}function Gg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(ko=He()+500,Hh&&xs())}}function di(t){Jr!==null&&Jr.tag===0&&!(ye&6)&&no();var e=ye;ye|=1;var n=cn.transition,r=Ee;try{if(cn.transition=null,Ee=1,t)return t()}finally{Ee=r,cn.transition=n,ye=e,!(ye&6)&&xs()}}function Qg(){Wt=Wi.current,Ie(Wi)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lD(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Rg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xc();break;case 3:Ro(),Ie(Ut),Ie(xt),Fg();break;case 5:Lg(r);break;case 4:Ro();break;case 13:Ie(De);break;case 19:Ie(De);break;case 10:Ng(r.type._context);break;case 22:case 23:Qg()}n=n.return}if(nt=t,Ke=t=ls(t.current,null),ut=Wt=e,Xe=0,xl=null,qg=Gh=hi=0,Ft=Ja=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$s=null}return t}function EA(t,e){do{var n=Ke;try{if(Dg(),Tc.current=oh,ih){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ih=!1}if(ci=0,tt=Qe=Me=null,Ya=!1,Sl=0,Wg.current=null,n===null||n.return===null){Xe=1,xl=e,Ke=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=O0(o);if(g!==null){g.flags&=-257,M0(g,o,a,i,e),g.mode&1&&N0(i,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var _=new Set;_.add(l),e.updateQueue=_}else E.add(l);break e}else{if(!(e&1)){N0(i,c,e),Yg();break e}l=Error(B(426))}}else if(Re&&a.mode&1){var P=O0(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),M0(P,o,a,i,e),bg(bo(l,a));break e}}i=l=bo(l,a),Xe!==4&&(Xe=2),Ja===null?Ja=[i]:Ja.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=sA(i,l,e);I0(i,w);break e;case 1:a=l;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(os===null||!os.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=iA(i,a,e);I0(i,b);break e}}i=i.return}while(i!==null)}PA(n)}catch(D){e=D,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function TA(){var t=ah.current;return ah.current=oh,t===null?oh:t}function Yg(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(hi&268435455)&&!(Gh&268435455)||Ur(nt,ut)}function ch(t,e){var n=ye;ye|=2;var r=TA();(nt!==t||ut!==e)&&(tr=null,ti(t,e));do try{ND();break}catch(s){EA(t,s)}while(!0);if(Dg(),ye=n,ah.current=r,Ke!==null)throw Error(B(261));return nt=null,ut=0,Xe}function ND(){for(;Ke!==null;)SA(Ke)}function OD(){for(;Ke!==null&&!ik();)SA(Ke)}function SA(t){var e=xA(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?PA(t):Ke=e,Wg.current=null}function PA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ID(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ke=null;return}}else if(n=xD(n,e,Wt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Xe===0&&(Xe=5)}function Ls(t,e,n){var r=Ee,s=cn.transition;try{cn.transition=null,Ee=1,MD(t,e,n,r)}finally{cn.transition=s,Ee=r}return null}function MD(t,e,n,r){do no();while(Jr!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mk(t,i),t===nt&&(Ke=nt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,IA(Wc,function(){return no(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Ee;Ee=1;var a=ye;ye|=4,Wg.current=null,RD(t,n),vA(n,t),tD(Ip),Kc=!!xp,Ip=xp=null,t.current=n,bD(n),ok(),ye=a,Ee=o,cn.transition=i}else t.current=n;if(tc&&(tc=!1,Jr=t,uh=s),i=t.pendingLanes,i===0&&(os=null),uk(n.stateNode),$t(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lh)throw lh=!1,t=Kp,Kp=null,t;return uh&1&&t.tag!==0&&no(),i=t.pendingLanes,i&1?t===Gp?Za++:(Za=0,Gp=t):Za=0,xs(),null}function no(){if(Jr!==null){var t=sP(uh),e=cn.transition,n=Ee;try{if(cn.transition=null,Ee=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,uh=0,ye&6)throw Error(B(331));var s=ye;for(ye|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Xa(8,h,i)}var d=h.child;if(d!==null)d.return=h,K=d;else for(;K!==null;){h=K;var p=h.sibling,g=h.return;if(mA(h),h===c){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var E=i.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,K=w;break e}K=i.return}}var v=t.current;for(K=v;K!==null;){o=K;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,K=T;else e:for(o=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(D){Ue(a,a.return,D)}if(a===o){K=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,K=b;break e}K=a.return}}if(ye=s,xs(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(jh,t)}catch{}r=!0}return r}finally{Ee=n,cn.transition=e}}return!1}function G0(t,e,n){e=bo(n,e),e=sA(t,e,1),t=is(t,e,1),e=Nt(),t!==null&&(Xl(t,1,e),$t(t,e))}function Ue(t,e,n){if(t.tag===3)G0(t,t,n);else for(;e!==null;){if(e.tag===3){G0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=bo(n,t),t=iA(e,t,1),e=is(e,t,1),t=Nt(),e!==null&&(Xl(e,1,t),$t(e,t));break}}e=e.return}}function VD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ut&n)===n&&(Xe===4||Xe===3&&(ut&130023424)===ut&&500>He()-Kg?ti(t,0):qg|=n),$t(t,e)}function AA(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var n=Nt();t=yr(t,e),t!==null&&(Xl(t,e,n),$t(t,n))}function LD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AA(t,n)}function FD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),AA(t,n)}var xA;xA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,AD(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Re&&e.flags&1048576&&bP(e,eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pc(t,e),t=e.pendingProps;var s=xo(e,xt.current);to(e,n),s=Ug(null,e,r,t,s,n);var i=Bg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,Jc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mg(e),s.updater=qh,e.stateNode=s,s._reactInternals=e,Vp(e,r,t,n),e=jp(null,e,r,!0,i,n)):(e.tag=0,Re&&i&&Cg(e),Dt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=UD(r),t=gn(r,t),s){case 0:e=Fp(null,e,r,t,n);break e;case 1:e=F0(null,e,r,t,n);break e;case 11:e=V0(null,e,r,t,n);break e;case 14:e=L0(null,e,r,gn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Fp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),F0(t,e,r,s,n);case 3:e:{if(uA(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,VP(t,e),rh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bo(Error(B(423)),e),e=j0(t,e,r,n,s);break e}else if(r!==s){s=bo(Error(B(424)),e),e=j0(t,e,r,n,s);break e}else for(Kt=ss(e.stateNode.containerInfo.firstChild),Gt=e,Re=!0,_n=null,n=OP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===s){e=vr(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return LP(e),t===null&&Np(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cp(r,s)?o=null:i!==null&&Cp(r,i)&&(e.flags|=32),lA(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&Np(e),null;case 13:return cA(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),V0(t,e,r,s,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(th,r._currentValue),r._currentValue=o,i!==null)if(Pn(i.value,o)){if(i.children===s.children&&!Ut.current){e=vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=dr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Op(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Op(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,to(e,n),s=hn(s),r=r(s),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,s=gn(r,e.pendingProps),s=gn(r.type,s),L0(t,e,r,s,n);case 15:return oA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Pc(t,e),e.tag=1,Bt(r)?(t=!0,Jc(e)):t=!1,to(e,n),rA(e,r,s),Vp(e,r,s,n),jp(null,e,r,!0,t,n);case 19:return hA(t,e,n);case 22:return aA(t,e,n)}throw Error(B(156,e.tag))};function IA(t,e){return eP(t,e)}function jD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,r){return new jD(t,e,n,r)}function Xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UD(t){if(typeof t=="function")return Xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gg)return 11;if(t===yg)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mi:return ni(n.children,s,i,e);case mg:o=8,s|=8;break;case op:return t=un(12,n,e,s|2),t.elementType=op,t.lanes=i,t;case ap:return t=un(13,n,e,s),t.elementType=ap,t.lanes=i,t;case lp:return t=un(19,n,e,s),t.elementType=lp,t.lanes=i,t;case LS:return Qh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MS:o=10;break e;case VS:o=9;break e;case gg:o=11;break e;case yg:o=14;break e;case Lr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ni(t,e,n,r){return t=un(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=un(22,t,r,e),t.elementType=LS,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jg(t,e,n,r,s,i,o,a,l){return t=new BD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(i),t}function $D(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CA(t){if(!t)return ps;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Bt(n))return CP(t,n,e)}return e}function RA(t,e,n,r,s,i,o,a,l){return t=Jg(n,r,!0,t,s,i,o,a,l),t.context=CA(null),n=t.current,r=Nt(),s=as(n),i=dr(r,s),i.callback=e??null,is(n,i,s),t.current.lanes=s,Xl(t,s,r),$t(t,r),t}function Yh(t,e,n,r){var s=e.current,i=Nt(),o=as(s);return n=CA(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=is(s,e,o),t!==null&&(Tn(t,s,o,i),Ec(t,s,o)),o}function hh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zg(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function zD(){return null}var bA=typeof reportError=="function"?reportError:function(t){console.error(t)};function ey(t){this._internalRoot=t}Xh.prototype.render=ey.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Yh(t,e,null,null)};Xh.prototype.unmount=ey.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Yh(null,t,null,null)}),e[gr]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=aP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&uP(t)}};function ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function HD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=hh(o);i.call(c)}}var o=RA(e,r,t,0,null,!1,!1,"",Y0);return t._reactRootContainer=o,t[gr]=o.current,vl(t.nodeType===8?t.parentNode:t),di(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=hh(l);a.call(c)}}var l=Jg(t,0,!1,null,null,!1,!1,"",Y0);return t._reactRootContainer=l,t[gr]=l.current,vl(t.nodeType===8?t.parentNode:t),di(function(){Yh(e,l,n,r)}),l}function Zh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hh(o);a.call(l)}}Yh(e,o,t,s)}else o=HD(n,e,t,s,r);return hh(o)}iP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(_g(e,n|1),$t(e,He()),!(ye&6)&&(ko=He()+500,xs()))}break;case 13:di(function(){var r=yr(t,1);if(r!==null){var s=Nt();Tn(r,t,1,s)}}),Zg(t,1)}};Eg=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Nt();Tn(e,t,134217728,n)}Zg(t,134217728)}};oP=function(t){if(t.tag===13){var e=as(t),n=yr(t,e);if(n!==null){var r=Nt();Tn(n,t,e,r)}Zg(t,e)}};aP=function(){return Ee};lP=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};vp=function(t,e,n){switch(e){case"input":if(hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zh(r);if(!s)throw Error(B(90));jS(r),hp(r,s)}}}break;case"textarea":BS(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};GS=Gg;QS=di;var WD={usingClientEntryPoint:!1,Events:[Zl,ji,zh,qS,KS,Gg]},Ra={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qD={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||zD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{jh=nc.inject(qD),Fn=nc}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WD;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(e))throw Error(B(200));return $D(t,e,null,n)};Zt.createRoot=function(t,e){if(!ty(t))throw Error(B(299));var n=!1,r="",s=bA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jg(t,1,!1,null,null,n,!1,r,s),t[gr]=e.current,vl(t.nodeType===8?t.parentNode:t),new ey(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=JS(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return di(t)};Zt.hydrate=function(t,e,n){if(!Jh(e))throw Error(B(200));return Zh(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!ty(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RA(e,null,t,1,n??null,s,!1,i,o),t[gr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xh(e)};Zt.render=function(t,e,n){if(!Jh(e))throw Error(B(200));return Zh(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(B(40));return t._reactRootContainer?(di(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};Zt.unstable_batchedUpdates=Gg;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Zh(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function kA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kA)}catch(t){console.error(t)}}kA(),kS.exports=Zt;var tu=kS.exports;const KD=vS(tu);var DA,X0=tu;DA=X0.createRoot,X0.hydrateRoot;function GD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var NA={exports:{}},OA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=C;function QD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YD=typeof Object.is=="function"?Object.is:QD,XD=Do.useState,JD=Do.useEffect,ZD=Do.useLayoutEffect,eN=Do.useDebugValue;function tN(t,e){var n=e(),r=XD({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return ZD(function(){s.value=n,s.getSnapshot=e,Pf(s)&&i({inst:s})},[t,n,e]),JD(function(){return Pf(s)&&i({inst:s}),t(function(){Pf(s)&&i({inst:s})})},[t]),eN(n),n}function Pf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!YD(t,n)}catch{return!0}}function nN(t,e){return e()}var rN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nN:tN;OA.useSyncExternalStore=Do.useSyncExternalStore!==void 0?Do.useSyncExternalStore:rN;NA.exports=OA;var sN=NA.exports;const iN=RS.useInsertionEffect,oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aN=oN?C.useLayoutEffect:C.useEffect,lN=iN||aN,MA=t=>{const e=C.useRef([t,(...n)=>e[0](...n)]).current;return lN(()=>{e[0]=t}),e[1]},uN="popstate",ny="pushState",ry="replaceState",cN="hashchange",J0=[uN,ny,ry,cN],hN=t=>{for(const e of J0)addEventListener(e,t);return()=>{for(const e of J0)removeEventListener(e,t)}},VA=(t,e)=>sN.useSyncExternalStore(hN,t,e),dN=()=>location.search,fN=({ssrSearch:t=""}={})=>VA(dN,()=>t),Z0=()=>location.pathname,pN=({ssrPath:t}={})=>VA(Z0,t?()=>t:Z0),mN=(t,{replace:e=!1,state:n=null}={})=>history[e?ry:ny](n,"",t),gN=(t={})=>[pN(t),mN],e_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[e_]>"u"){for(const t of[ny,ry]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,e_,{value:!0})}const yN=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",LA=(t="")=>t==="/"?"":t,vN=(t,e)=>t[0]==="~"?t.slice(1):LA(e)+t,wN=(t="",e)=>yN(t_(LA(t)),t_(e)),t_=t=>{try{return decodeURI(t)}catch{return t}},FA={hook:gN,searchHook:fN,parser:GD,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},jA=C.createContext(FA),ed=()=>C.useContext(jA),UA={},BA=C.createContext(UA),_N=()=>C.useContext(BA),sy=t=>{const[e,n]=t.hook(t);return[wN(t.base,e),MA((r,s)=>n(vN(r,t.base),s))]},$A=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((d,p)=>[d,l[p]])):o.groups;let h={...l};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},EN=({children:t,...e})=>{var h,d;const n=ed(),r=e.hook?FA:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=C.useRef({}),l=a.current,c=l;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&g!==c[p]&&(a.current=c={...c}),c[p]=g,(g!==r[p]||g!==s[p])&&(s=c)}return C.createElement(jA.Provider,{value:s,children:t})},n_=({children:t,component:e},n)=>e?C.createElement(e,{params:n}):typeof t=="function"?t(n):t,TN=t=>{let e=C.useRef(UA);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Af=({path:t,nest:e,match:n,...r})=>{const s=ed(),[i]=sy(s),[o,a,l]=n??$A(s.parser,t,i,e),c=TN({..._N(),...a});if(!o)return null;const h=l?C.createElement(EN,{base:l},n_(r,c)):n_(r,c);return C.createElement(BA.Provider,{value:c,children:h})};C.forwardRef((t,e)=>{const n=ed(),[r,s]=sy(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:h,replace:d,state:p,...g}=t,E=MA(P=>{P.ctrlKey||P.metaKey||P.altKey||P.shiftKey||P.button!==0||(a==null||a(P),P.defaultPrevented||(P.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&C.isValidElement(c)?C.cloneElement(c,{onClick:E,href:_}):C.createElement("a",{...g,onClick:E,href:_,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})});const zA=t=>Array.isArray(t)?t.flatMap(e=>zA(e&&e.type===C.Fragment?e.props.children:e)):[t],SN=({children:t,location:e})=>{const n=ed(),[r]=sy(n);for(const s of zA(t)){let i=0;if(C.isValidElement(s)&&(i=$A(n.parser,s.props.path,e||r,s.props.nest))[0])return C.cloneElement(s,{match:i})}return null};var nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fi=typeof window>"u"||"Deno"in globalThis;function Lt(){}function PN(t,e){return typeof t=="function"?t(e):t}function Xp(t){return typeof t=="number"&&t>=0&&t!==1/0}function HA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function us(t,e){return typeof t=="function"?t(e):t}function on(t,e){return typeof t=="function"?t(e):t}function r_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==iy(o,e.options))return!1}else if(!Cl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function s_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Il(e.options.mutationKey)!==Il(i))return!1}else if(!Cl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function iy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Il)(t)}function Il(t){return JSON.stringify(t,(e,n)=>Zp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Cl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Cl(t[n],e[n])):!1}function WA(t,e){if(t===e)return t;const n=i_(t)&&i_(e);if(n||Zp(t)&&Zp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let h=0;h<o;h++){const d=n?h:i[h];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=WA(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Jp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function i_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zp(t){if(!o_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!o_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function o_(t){return Object.prototype.toString.call(t)==="[object Object]"}function AN(t){return new Promise(e=>{setTimeout(e,t)})}function em(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WA(t,e):e}function xN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function IN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var oy=Symbol();function qA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function CN(t,e){return typeof t=="function"?t(...e):!!t}var Ks,Hr,ho,uS,RN=(uS=class extends nu{constructor(){super();te(this,Ks);te(this,Hr);te(this,ho);G(this,ho,e=>{if(!fi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Hr)||this.setEventListener(O(this,ho))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Hr))==null||e.call(this),G(this,Hr,void 0))}setEventListener(e){var n;G(this,ho,e),(n=O(this,Hr))==null||n.call(this),G(this,Hr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,Ks)!==e&&(G(this,Ks,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Ks)=="boolean"?O(this,Ks):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ks=new WeakMap,Hr=new WeakMap,ho=new WeakMap,uS),ay=new RN,fo,Wr,po,cS,bN=(cS=class extends nu{constructor(){super();te(this,fo,!0);te(this,Wr);te(this,po);G(this,po,e=>{if(!fi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,Wr)||this.setEventListener(O(this,po))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Wr))==null||e.call(this),G(this,Wr,void 0))}setEventListener(e){var n;G(this,po,e),(n=O(this,Wr))==null||n.call(this),G(this,Wr,e(this.setOnline.bind(this)))}setOnline(e){O(this,fo)!==e&&(G(this,fo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,fo)}},fo=new WeakMap,Wr=new WeakMap,po=new WeakMap,cS),dh=new bN;function tm(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function kN(t){return Math.min(1e3*2**t,3e4)}function KA(t){return(t??"online")==="online"?dh.isOnline():!0}var GA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function QA(t){let e=!1,n=0,r;const s=tm(),i=()=>s.status!=="pending",o=_=>{var P;i()||(p(new GA(_)),(P=t.abort)==null||P.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ay.isFocused()&&(t.networkMode==="always"||dh.isOnline())&&t.canRun(),h=()=>KA(t.networkMode)&&t.canRun(),d=_=>{i()||(r==null||r(),s.resolve(_))},p=_=>{i()||(r==null||r(),s.reject(_))},g=()=>new Promise(_=>{var P;r=w=>{(i()||c())&&_(w)},(P=t.onPause)==null||P.call(t)}).then(()=>{var _;r=void 0,i()||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(i())return;let _;const P=n===0?t.initialPromise:void 0;try{_=P??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(d).catch(w=>{var M;if(i())return;const v=t.retry??(fi?0:3),T=t.retryDelay??kN,b=typeof T=="function"?T(n,w):T,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!D){p(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),AN(b).then(()=>c()?void 0:g()).then(()=>{e?p(w):E()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?E():g().then(E),s)}}var DN=t=>setTimeout(t,0);function NN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=DN;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var lt=NN(),Gs,hS,YA=(hS=class{constructor(){te(this,Gs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xp(this.gcTime)&&G(this,Gs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Gs)&&(clearTimeout(O(this,Gs)),G(this,Gs,void 0))}},Gs=new WeakMap,hS),mo,go,sn,Qs,Ze,ql,Ys,yn,Zn,dS,ON=(dS=class extends YA{constructor(n){super();te(this,yn);te(this,mo);te(this,go);te(this,sn);te(this,Qs);te(this,Ze);te(this,ql);te(this,Ys);G(this,Ys,!1),G(this,ql,n.defaultOptions),this.setOptions(n.options),this.observers=[],G(this,Qs,n.client),G(this,sn,O(this,Qs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,G(this,mo,MN(this.options)),this.state=n.state??O(this,mo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=O(this,Ze))==null?void 0:n.promise}setOptions(n){this.options={...O(this,ql),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,sn).remove(this)}setData(n,r){const s=em(this.state.data,n,this.options);return he(this,yn,Zn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){he(this,yn,Zn).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=O(this,Ze))==null?void 0:s.promise;return(i=O(this,Ze))==null||i.cancel(n),r?r.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,mo))}isActive(){return this.observers.some(n=>on(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>us(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!HA(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,Ze))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,Ze))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),O(this,sn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(O(this,Ze)&&(O(this,Ys)?O(this,Ze).cancel({revert:!0}):O(this,Ze).cancelRetry()),this.scheduleGc()),O(this,sn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,yn,Zn).call(this,{type:"invalidate"})}async fetch(n,r){var c,h,d,p,g,E,_,P,w,v,T,b;if(this.state.fetchStatus!=="idle"&&((c=O(this,Ze))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,Ze))return O(this,Ze).continueRetry(),O(this,Ze).promise}if(n&&this.setOptions(n),!this.options.queryFn){const D=this.observers.find(M=>M.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,i=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(G(this,Ys,!0),s.signal)})},o=()=>{const D=qA(this.options,r),S=(()=>{const y={client:O(this,Qs),queryKey:this.queryKey,meta:this.meta};return i(y),y})();return G(this,Ys,!1),this.options.persister?this.options.persister(D,S,this):D(S)},l=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,Qs),state:this.state,fetchFn:o};return i(D),D})();(h=this.options.behavior)==null||h.onFetch(l,this),G(this,go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&he(this,yn,Zn).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),G(this,Ze,QA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onFail:(D,M)=>{he(this,yn,Zn).call(this,{type:"failed",failureCount:D,error:M})},onPause:()=>{he(this,yn,Zn).call(this,{type:"pause"})},onContinue:()=>{he(this,yn,Zn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const D=await O(this,Ze).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(E=(g=O(this,sn).config).onSuccess)==null||E.call(g,D,this),(P=(_=O(this,sn).config).onSettled)==null||P.call(_,D,this.state.error,this),D}catch(D){if(D instanceof GA){if(D.silent)return O(this,Ze).promise;if(D.revert){if(this.setState({...O(this,go),fetchStatus:"idle"}),this.state.data===void 0)throw D;return this.state.data}}throw he(this,yn,Zn).call(this,{type:"error",error:D}),(v=(w=O(this,sn).config).onError)==null||v.call(w,D,this),(b=(T=O(this,sn).config).onSettled)==null||b.call(T,this.state.data,D,this),D}finally{this.scheduleGc()}}},mo=new WeakMap,go=new WeakMap,sn=new WeakMap,Qs=new WeakMap,Ze=new WeakMap,ql=new WeakMap,Ys=new WeakMap,yn=new WeakSet,Zn=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...XA(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return G(this,go,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,sn).notify({query:this,type:"updated",action:n})})},dS);function XA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dn,fS,VN=(fS=class extends nu{constructor(e={}){super();te(this,Dn);this.config=e,G(this,Dn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??iy(s,n);let o=this.get(i);return o||(o=new ON({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,Dn).has(e.queryHash)||(O(this,Dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,Dn).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,Dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Dn).get(e)}getAll(){return[...O(this,Dn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>r_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>r_(e,r)):n}notify(e){lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dn=new WeakMap,fS),Nn,bt,Xs,On,Mr,pS,LN=(pS=class extends YA{constructor(n){super();te(this,On);te(this,Nn);te(this,bt);te(this,Xs);this.mutationId=n.mutationId,G(this,bt,n.mutationCache),G(this,Nn,[]),this.state=n.state||FN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){O(this,Nn).includes(n)||(O(this,Nn).push(n),this.clearGcTimeout(),O(this,bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){G(this,Nn,O(this,Nn).filter(r=>r!==n)),this.scheduleGc(),O(this,bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){O(this,Nn).length||(this.state.status==="pending"?this.scheduleGc():O(this,bt).remove(this))}continue(){var n;return((n=O(this,Xs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,h,d,p,g,E,_,P,w,v,T,b,D,M,S,y,I;const r=()=>{he(this,On,Mr).call(this,{type:"continue"})};G(this,Xs,QA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(x,k)=>{he(this,On,Mr).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{he(this,On,Mr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,bt).canRun(this)}));const s=this.state.status==="pending",i=!O(this,Xs).canStart();try{if(s)r();else{he(this,On,Mr).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=O(this,bt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));k!==this.state.context&&he(this,On,Mr).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const x=await O(this,Xs).start();return await((d=(h=O(this,bt).config).onSuccess)==null?void 0:d.call(h,x,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,x,n,this.state.context)),await((_=(E=O(this,bt).config).onSettled)==null?void 0:_.call(E,x,null,this.state.variables,this.state.context,this)),await((w=(P=this.options).onSettled)==null?void 0:w.call(P,x,null,n,this.state.context)),he(this,On,Mr).call(this,{type:"success",data:x}),x}catch(x){try{throw await((T=(v=O(this,bt).config).onError)==null?void 0:T.call(v,x,n,this.state.context,this)),await((D=(b=this.options).onError)==null?void 0:D.call(b,x,n,this.state.context)),await((S=(M=O(this,bt).config).onSettled)==null?void 0:S.call(M,void 0,x,this.state.variables,this.state.context,this)),await((I=(y=this.options).onSettled)==null?void 0:I.call(y,void 0,x,n,this.state.context)),x}finally{he(this,On,Mr).call(this,{type:"error",error:x})}}finally{O(this,bt).runNext(this)}}},Nn=new WeakMap,bt=new WeakMap,Xs=new WeakMap,On=new WeakSet,Mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{O(this,Nn).forEach(s=>{s.onMutationUpdate(n)}),O(this,bt).notify({mutation:this,type:"updated",action:n})})},pS);function FN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rr,vn,Kl,mS,jN=(mS=class extends nu{constructor(e={}){super();te(this,rr);te(this,vn);te(this,Kl);this.config=e,G(this,rr,new Set),G(this,vn,new Map),G(this,Kl,0)}build(e,n,r){const s=new LN({mutationCache:this,mutationId:++ju(this,Kl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){O(this,rr).add(e);const n=rc(e);if(typeof n=="string"){const r=O(this,vn).get(n);r?r.push(e):O(this,vn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,rr).delete(e)){const n=rc(e);if(typeof n=="string"){const r=O(this,vn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&O(this,vn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=rc(e);if(typeof n=="string"){const r=O(this,vn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=rc(e);if(typeof n=="string"){const s=(r=O(this,vn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{O(this,rr).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,rr).clear(),O(this,vn).clear()})}getAll(){return Array.from(O(this,rr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>s_(n,r))}findAll(e={}){return this.getAll().filter(n=>s_(e,n))}notify(e){lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Lt))))}},rr=new WeakMap,vn=new WeakMap,Kl=new WeakMap,mS);function rc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function a_(t){return{onFetch:(e,n)=>{var h,d,p,g,E;const r=e.options,s=(p=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const P=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=qA(e.options,e.fetchOptions),v=async(T,b,D)=>{if(_)return Promise.reject();if(b==null&&T.pages.length)return Promise.resolve(T);const S=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:b,direction:D?"backward":"forward",meta:e.options.meta};return P(k),k})(),y=await w(S),{maxPages:I}=e.options,x=D?IN:xN;return{pages:x(T.pages,y,I),pageParams:x(T.pageParams,b,I)}};if(s&&i.length){const T=s==="backward",b=T?UN:l_,D={pages:i,pageParams:o},M=b(r,D);a=await v(D,M,T)}else{const T=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:l_(r,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var _,P;return(P=(_=e.options).persister)==null?void 0:P.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function l_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function UN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Fe,qr,Kr,yo,vo,Gr,wo,_o,gS,BN=(gS=class{constructor(t={}){te(this,Fe);te(this,qr);te(this,Kr);te(this,yo);te(this,vo);te(this,Gr);te(this,wo);te(this,_o);G(this,Fe,t.queryCache||new VN),G(this,qr,t.mutationCache||new jN),G(this,Kr,t.defaultOptions||{}),G(this,yo,new Map),G(this,vo,new Map),G(this,Gr,0)}mount(){ju(this,Gr)._++,O(this,Gr)===1&&(G(this,wo,ay.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Fe).onFocus())})),G(this,_o,dh.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Fe).onOnline())})))}unmount(){var t,e;ju(this,Gr)._--,O(this,Gr)===0&&((t=O(this,wo))==null||t.call(this),G(this,wo,void 0),(e=O(this,_o))==null||e.call(this),G(this,_o,void 0))}isFetching(t){return O(this,Fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,qr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Fe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=O(this,Fe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(us(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return O(this,Fe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,Fe).get(r.queryHash),i=s==null?void 0:s.state.data,o=PN(e,i);if(o!==void 0)return O(this,Fe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return lt.batch(()=>O(this,Fe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Fe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,Fe);lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,Fe);return lt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=lt.batch(()=>O(this,Fe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Lt).catch(Lt)}invalidateQueries(t,e={}){return lt.batch(()=>(O(this,Fe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=lt.batch(()=>O(this,Fe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Lt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Lt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,Fe).build(this,e);return n.isStaleByTime(us(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Lt).catch(Lt)}fetchInfiniteQuery(t){return t.behavior=a_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Lt).catch(Lt)}ensureInfiniteQueryData(t){return t.behavior=a_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dh.isOnline()?O(this,qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Fe)}getMutationCache(){return O(this,qr)}getDefaultOptions(){return O(this,Kr)}setDefaultOptions(t){G(this,Kr,t)}setQueryDefaults(t,e){O(this,yo).set(Il(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,yo).values()],n={};return e.forEach(r=>{Cl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){O(this,vo).set(Il(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,vo).values()],n={};return e.forEach(r=>{Cl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Kr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Kr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Fe).clear(),O(this,qr).clear()}},Fe=new WeakMap,qr=new WeakMap,Kr=new WeakMap,yo=new WeakMap,vo=new WeakMap,Gr=new WeakMap,wo=new WeakMap,_o=new WeakMap,gS),Vt,de,Gl,kt,Js,Eo,sr,Qr,Ql,To,So,Zs,ei,Yr,Po,_e,Fa,nm,rm,sm,im,om,am,lm,JA,yS,$N=(yS=class extends nu{constructor(e,n){super();te(this,_e);te(this,Vt);te(this,de);te(this,Gl);te(this,kt);te(this,Js);te(this,Eo);te(this,sr);te(this,Qr);te(this,Ql);te(this,To);te(this,So);te(this,Zs);te(this,ei);te(this,Yr);te(this,Po,new Set);this.options=n,G(this,Vt,e),G(this,Qr,null),G(this,sr,tm()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,de).addObserver(this),u_(O(this,de),this.options)?he(this,_e,Fa).call(this):this.updateResult(),he(this,_e,im).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return um(O(this,de),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return um(O(this,de),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,_e,om).call(this),he(this,_e,am).call(this),O(this,de).removeObserver(this)}setOptions(e){const n=this.options,r=O(this,de);if(this.options=O(this,Vt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof on(this.options.enabled,O(this,de))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,_e,lm).call(this),O(this,de).setOptions(this.options),n._defaulted&&!Jp(this.options,n)&&O(this,Vt).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,de),observer:this});const s=this.hasListeners();s&&c_(O(this,de),r,this.options,n)&&he(this,_e,Fa).call(this),this.updateResult(),s&&(O(this,de)!==r||on(this.options.enabled,O(this,de))!==on(n.enabled,O(this,de))||us(this.options.staleTime,O(this,de))!==us(n.staleTime,O(this,de)))&&he(this,_e,nm).call(this);const i=he(this,_e,rm).call(this);s&&(O(this,de)!==r||on(this.options.enabled,O(this,de))!==on(n.enabled,O(this,de))||i!==O(this,Yr))&&he(this,_e,sm).call(this,i)}getOptimisticResult(e){const n=O(this,Vt).getQueryCache().build(O(this,Vt),e),r=this.createResult(n,e);return HN(this,r)&&(G(this,kt,r),G(this,Eo,this.options),G(this,Js,O(this,de).state)),r}getCurrentResult(){return O(this,kt)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&O(this,sr).status==="pending"&&O(this,sr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(e){O(this,Po).add(e)}getCurrentQuery(){return O(this,de)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=O(this,Vt).defaultQueryOptions(e),r=O(this,Vt).getQueryCache().build(O(this,Vt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return he(this,_e,Fa).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,kt)))}createResult(e,n){var I;const r=O(this,de),s=this.options,i=O(this,kt),o=O(this,Js),a=O(this,Eo),c=e!==r?e.state:O(this,Gl),{state:h}=e;let d={...h},p=!1,g;if(n._optimisticResults){const x=this.hasListeners(),k=!x&&u_(e,n),N=x&&c_(e,r,n,s);(k||N)&&(d={...d,...XA(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:E,errorUpdatedAt:_,status:P}=d;g=d.data;let w=!1;if(n.placeholderData!==void 0&&g===void 0&&P==="pending"){let x;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(x=i.data,w=!0):x=typeof n.placeholderData=="function"?n.placeholderData((I=O(this,So))==null?void 0:I.state.data,O(this,So)):n.placeholderData,x!==void 0&&(P="success",g=em(i==null?void 0:i.data,x,n),p=!0)}if(n.select&&g!==void 0&&!w)if(i&&g===(o==null?void 0:o.data)&&n.select===O(this,Ql))g=O(this,To);else try{G(this,Ql,n.select),g=n.select(g),g=em(i==null?void 0:i.data,g,n),G(this,To,g),G(this,Qr,null)}catch(x){G(this,Qr,x)}O(this,Qr)&&(E=O(this,Qr),g=O(this,To),_=Date.now(),P="error");const v=d.fetchStatus==="fetching",T=P==="pending",b=P==="error",D=T&&v,M=g!==void 0,y={status:P,fetchStatus:d.fetchStatus,isPending:T,isSuccess:P==="success",isError:b,isInitialLoading:D,isLoading:D,data:g,dataUpdatedAt:d.dataUpdatedAt,error:E,errorUpdatedAt:_,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!T,isLoadingError:b&&!M,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&M,isStale:ly(e,n),refetch:this.refetch,promise:O(this,sr),isEnabled:on(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const x=R=>{y.status==="error"?R.reject(y.error):y.data!==void 0&&R.resolve(y.data)},k=()=>{const R=G(this,sr,y.promise=tm());x(R)},N=O(this,sr);switch(N.status){case"pending":e.queryHash===r.queryHash&&x(N);break;case"fulfilled":(y.status==="error"||y.data!==N.value)&&k();break;case"rejected":(y.status!=="error"||y.error!==N.reason)&&k();break}}return y}updateResult(){const e=O(this,kt),n=this.createResult(O(this,de),this.options);if(G(this,Js,O(this,de).state),G(this,Eo,this.options),O(this,Js).data!==void 0&&G(this,So,O(this,de)),Jp(n,e))return;G(this,kt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!O(this,Po).size)return!0;const o=new Set(i??O(this,Po));return this.options.throwOnError&&o.add("error"),Object.keys(O(this,kt)).some(a=>{const l=a;return O(this,kt)[l]!==e[l]&&o.has(l)})};he(this,_e,JA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,_e,im).call(this)}},Vt=new WeakMap,de=new WeakMap,Gl=new WeakMap,kt=new WeakMap,Js=new WeakMap,Eo=new WeakMap,sr=new WeakMap,Qr=new WeakMap,Ql=new WeakMap,To=new WeakMap,So=new WeakMap,Zs=new WeakMap,ei=new WeakMap,Yr=new WeakMap,Po=new WeakMap,_e=new WeakSet,Fa=function(e){he(this,_e,lm).call(this);let n=O(this,de).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Lt)),n},nm=function(){he(this,_e,om).call(this);const e=us(this.options.staleTime,O(this,de));if(fi||O(this,kt).isStale||!Xp(e))return;const r=HA(O(this,kt).dataUpdatedAt,e)+1;G(this,Zs,setTimeout(()=>{O(this,kt).isStale||this.updateResult()},r))},rm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,de)):this.options.refetchInterval)??!1},sm=function(e){he(this,_e,am).call(this),G(this,Yr,e),!(fi||on(this.options.enabled,O(this,de))===!1||!Xp(O(this,Yr))||O(this,Yr)===0)&&G(this,ei,setInterval(()=>{(this.options.refetchIntervalInBackground||ay.isFocused())&&he(this,_e,Fa).call(this)},O(this,Yr)))},im=function(){he(this,_e,nm).call(this),he(this,_e,sm).call(this,he(this,_e,rm).call(this))},om=function(){O(this,Zs)&&(clearTimeout(O(this,Zs)),G(this,Zs,void 0))},am=function(){O(this,ei)&&(clearInterval(O(this,ei)),G(this,ei,void 0))},lm=function(){const e=O(this,Vt).getQueryCache().build(O(this,Vt),this.options);if(e===O(this,de))return;const n=O(this,de);G(this,de,e),G(this,Gl,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},JA=function(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(O(this,kt))}),O(this,Vt).getQueryCache().notify({query:O(this,de),type:"observerResultsUpdated"})})},yS);function zN(t,e){return on(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function u_(t,e){return zN(t,e)||t.state.data!==void 0&&um(t,e,e.refetchOnMount)}function um(t,e,n){if(on(e.enabled,t)!==!1&&us(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ly(t,e)}return!1}function c_(t,e,n,r){return(t!==e||on(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ly(t,n)}function ly(t,e){return on(e.enabled,t)!==!1&&t.isStaleByTime(us(e.staleTime,t))}function HN(t,e){return!Jp(t.getCurrentResult(),e)}var ZA=C.createContext(void 0),WN=t=>{const e=C.useContext(ZA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qN=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),V.jsx(ZA.Provider,{value:t,children:e})),ex=C.createContext(!1),KN=()=>C.useContext(ex);ex.Provider;function GN(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QN=C.createContext(GN()),YN=()=>C.useContext(QN),XN=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JN=t=>{C.useEffect(()=>{t.clearReset()},[t])},ZN=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||CN(n,[t.error,r])),eO=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},tO=(t,e)=>t.isLoading&&t.isFetching&&!e,nO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,h_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function rO(t,e,n){var d,p,g,E,_;const r=KN(),s=YN(),i=WN(),o=i.defaultQueryOptions(t);(p=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",eO(o),XN(o,s),JN(s);const a=!i.getQueryCache().get(o.queryHash),[l]=C.useState(()=>new e(i,o)),c=l.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(P=>{const w=h?l.subscribe(lt.batchCalls(P)):Lt;return l.updateResult(),w},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(o)},[o,l]),nO(o,c))throw h_(o,l,s);if(ZN({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((E=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||E.call(g,o,c),o.experimental_prefetchInRender&&!fi&&tO(c,r)){const P=a?h_(o,l,s):(_=i.getQueryCache().get(o.queryHash))==null?void 0:_.promise;P==null||P.catch(Lt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function xf(t,e){return rO(t,$N)}async function sO(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const iO=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await sO(n),await n.json()},oO=new BN({defaultOptions:{queries:{queryFn:iO({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),aO=1,lO=1e6;let If=0;function uO(){return If=(If+1)%Number.MAX_SAFE_INTEGER,If.toString()}const Cf=new Map,d_=t=>{if(Cf.has(t))return;const e=setTimeout(()=>{Cf.delete(t),el({type:"REMOVE_TOAST",toastId:t})},lO);Cf.set(t,e)},cO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,aO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?d_(n):t.toasts.forEach(r=>{d_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Cc=[];let Rc={toasts:[]};function el(t){Rc=cO(Rc,t),Cc.forEach(e=>{e(Rc)})}function hO({...t}){const e=uO(),n=s=>el({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>el({type:"DISMISS_TOAST",toastId:e});return el({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function dO(){const[t,e]=C.useState(Rc);return C.useEffect(()=>(Cc.push(e),()=>{const n=Cc.indexOf(e);n>-1&&Cc.splice(n,1)}),[t]),{...t,toast:hO,dismiss:n=>el({type:"DISMISS_TOAST",toastId:n})}}function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function f_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=f_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():f_(t[s],null)}}}}function An(...t){return C.useCallback(tx(...t),t)}function td(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),l=n.length;n=[...n,o];const c=d=>{var w;const{scope:p,children:g,...E}=d,_=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,P=C.useMemo(()=>E,Object.values(E));return V.jsx(_.Provider,{value:P,children:g})};c.displayName=i+"Provider";function h(d,p){var _;const g=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=C.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,fO(s,...e)]}function fO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function cm(t){const e=pO(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),l=a.find(gO);if(l){const c=l.props.children,h=a.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return V.jsx(e,{...o,ref:s,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return V.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function pO(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=vO(s),a=yO(i,s.props);return s.type!==C.Fragment&&(a.ref=r?tx(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nx=Symbol("radix.slottable");function mO(t){const e=({children:n})=>V.jsx(V.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=nx,e}function gO(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nx}function yO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function vO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wO(t){const e=t+"CollectionProvider",[n,r]=td(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:P,children:w}=_,v=er.useRef(null),T=er.useRef(new Map).current;return V.jsx(s,{scope:P,itemMap:T,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=cm(a),c=er.forwardRef((_,P)=>{const{scope:w,children:v}=_,T=i(a,w),b=An(P,T.collectionRef);return V.jsx(l,{ref:b,children:v})});c.displayName=a;const h=t+"CollectionItemSlot",d="data-radix-collection-item",p=cm(h),g=er.forwardRef((_,P)=>{const{scope:w,children:v,...T}=_,b=er.useRef(null),D=An(P,b),M=i(h,w);return er.useEffect(()=>(M.itemMap.set(b,{ref:b,...T}),()=>void M.itemMap.delete(b))),V.jsx(p,{[d]:"",ref:D,children:v})});g.displayName=h;function E(_){const P=i(t+"CollectionConsumer",_);return er.useCallback(()=>{const v=P.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(P.itemMap.values()).sort((M,S)=>T.indexOf(M.ref.current)-T.indexOf(S.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},E,r]}var _O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=_O.reduce((t,e)=>{const n=cm(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function rx(t,e){t&&tu.flushSync(()=>t.dispatchEvent(e))}function ms(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function EO(t,e=globalThis==null?void 0:globalThis.document){const n=ms(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TO="DismissableLayer",hm="dismissableLayer.update",SO="dismissableLayer.pointerDownOutside",PO="dismissableLayer.focusOutside",p_,sx=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uy=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=C.useContext(sx),[h,d]=C.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=C.useState({}),E=An(e,S=>d(S)),_=Array.from(c.layers),[P]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(P),v=h?_.indexOf(h):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,b=v>=w,D=xO(S=>{const y=S.target,I=[...c.branches].some(x=>x.contains(y));!b||I||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),M=IO(S=>{const y=S.target;[...c.branches].some(x=>x.contains(y))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return EO(S=>{v===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),C.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),m_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=p_)}},[h,p,n,c]),C.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),m_())},[h,c]),C.useEffect(()=>{const S=()=>g({});return document.addEventListener(hm,S),()=>document.removeEventListener(hm,S)},[]),V.jsx(zt.div,{...l,ref:E,style:{pointerEvents:T?b?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,D.onPointerDownCapture)})});uy.displayName=TO;var AO="DismissableLayerBranch",ix=C.forwardRef((t,e)=>{const n=C.useContext(sx),r=C.useRef(null),s=An(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),V.jsx(zt.div,{...t,ref:s})});ix.displayName=AO;function xO(t,e=globalThis==null?void 0:globalThis.document){const n=ms(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ox(SO,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function IO(t,e=globalThis==null?void 0:globalThis.document){const n=ms(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&ox(PO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m_(){const t=new CustomEvent(hm);document.dispatchEvent(t)}function ox(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rx(s,i):s.dispatchEvent(i)}var CO=uy,RO=ix,gs=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},bO="Portal",ax=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=C.useState(!1);gs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?KD.createPortal(V.jsx(zt.div,{...r,ref:e}),o):null});ax.displayName=bO;function kO(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var cy=t=>{const{present:e,children:n}=t,r=DO(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=An(r.ref,NO(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};cy.displayName="Presence";function DO(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,l]=kO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=sc(r.current);i.current=a==="mounted"?c:"none"},[a]),gs(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=sc(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),gs(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=g=>{const _=sc(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&_&&(l("ANIMATION_END"),!s.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},p=g=>{g.target===e&&(i.current=sc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function sc(t){return(t==null?void 0:t.animationName)||"none"}function NO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var OO=RS[" useInsertionEffect ".trim().toString()]||gs;function MO({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=VO({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const d=h.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=C.useCallback(h=>{var d;if(a){const p=LO(h)?h(t):h;p!==t&&((d=o.current)==null||d.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function VO({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return OO(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function LO(t){return typeof t=="function"}var FO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jO="VisuallyHidden",nd=C.forwardRef((t,e)=>V.jsx(zt.span,{...t,ref:e,style:{...FO,...t.style}}));nd.displayName=jO;var UO=nd,hy="ToastProvider",[dy,BO,$O]=wO("Toast"),[lx,y5]=td("Toast",[$O]),[zO,rd]=lx(hy),ux=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=C.useState(null),[c,h]=C.useState(0),d=C.useRef(!1),p=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hy}\`. Expected non-empty \`string\`.`),V.jsx(dy.Provider,{scope:e,children:V.jsx(zO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:C.useCallback(()=>h(g=>g+1),[]),onToastRemove:C.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};ux.displayName=hy;var cx="ToastViewport",HO=["F8"],dm="toast.viewportPause",fm="toast.viewportResume",hx=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=HO,label:s="Notifications ({hotkey})",...i}=t,o=rd(cx,n),a=BO(n),l=C.useRef(null),c=C.useRef(null),h=C.useRef(null),d=C.useRef(null),p=An(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;C.useEffect(()=>{const P=w=>{var T;r.length!==0&&r.every(b=>w[b]||w.code===b)&&((T=d.current)==null||T.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[r]),C.useEffect(()=>{const P=l.current,w=d.current;if(E&&P&&w){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(dm);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(fm);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},b=M=>{!P.contains(M.relatedTarget)&&T()},D=()=>{P.contains(document.activeElement)||T()};return P.addEventListener("focusin",v),P.addEventListener("focusout",b),P.addEventListener("pointermove",v),P.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{P.removeEventListener("focusin",v),P.removeEventListener("focusout",b),P.removeEventListener("pointermove",v),P.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[E,o.isClosePausedRef]);const _=C.useCallback(({tabbingDirection:P})=>{const v=a().map(T=>{const b=T.ref.current,D=[b,...rM(b)];return P==="forwards"?D:D.reverse()});return(P==="forwards"?v.reverse():v).flat()},[a]);return C.useEffect(()=>{const P=d.current;if(P){const w=v=>{var D,M,S;const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const y=document.activeElement,I=v.shiftKey;if(v.target===P&&I){(D=c.current)==null||D.focus();return}const N=_({tabbingDirection:I?"backwards":"forwards"}),R=N.findIndex(W=>W===y);Rf(N.slice(R+1))?v.preventDefault():I?(M=c.current)==null||M.focus():(S=h.current)==null||S.focus()}};return P.addEventListener("keydown",w),()=>P.removeEventListener("keydown",w)}},[a,_]),V.jsxs(RO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&V.jsx(pm,{ref:c,onFocusFromOutsideViewport:()=>{const P=_({tabbingDirection:"forwards"});Rf(P)}}),V.jsx(dy.Slot,{scope:n,children:V.jsx(zt.ol,{tabIndex:-1,...i,ref:p})}),E&&V.jsx(pm,{ref:h,onFocusFromOutsideViewport:()=>{const P=_({tabbingDirection:"backwards"});Rf(P)}})]})});hx.displayName=cx;var dx="ToastFocusProxy",pm=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=rd(dx,n);return V.jsx(nd,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});pm.displayName=dx;var ru="Toast",WO="toast.swipeStart",qO="toast.swipeMove",KO="toast.swipeCancel",GO="toast.swipeEnd",fx=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=MO({prop:r,defaultProp:s??!0,onChange:i,caller:ru});return V.jsx(cy,{present:n||a,children:V.jsx(XO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ms(t.onPause),onResume:ms(t.onResume),onSwipeStart:Ye(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(t.onSwipeMove,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ye(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(t.onSwipeEnd,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});fx.displayName=ru;var[QO,YO]=lx(ru,{onClose(){}}),XO=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:g,...E}=t,_=rd(ru,n),[P,w]=C.useState(null),v=An(e,W=>w(W)),T=C.useRef(null),b=C.useRef(null),D=s||_.duration,M=C.useRef(0),S=C.useRef(D),y=C.useRef(0),{onToastAdd:I,onToastRemove:x}=_,k=ms(()=>{var oe;(P==null?void 0:P.contains(document.activeElement))&&((oe=_.viewport)==null||oe.focus()),o()}),N=C.useCallback(W=>{!W||W===1/0||(window.clearTimeout(y.current),M.current=new Date().getTime(),y.current=window.setTimeout(k,W))},[k]);C.useEffect(()=>{const W=_.viewport;if(W){const oe=()=>{N(S.current),c==null||c()},se=()=>{const X=new Date().getTime()-M.current;S.current=S.current-X,window.clearTimeout(y.current),l==null||l()};return W.addEventListener(dm,se),W.addEventListener(fm,oe),()=>{W.removeEventListener(dm,se),W.removeEventListener(fm,oe)}}},[_.viewport,D,l,c,N]),C.useEffect(()=>{i&&!_.isClosePausedRef.current&&N(D)},[i,D,_.isClosePausedRef,N]),C.useEffect(()=>(I(),()=>x()),[I,x]);const R=C.useMemo(()=>P?_x(P):null,[P]);return _.viewport?V.jsxs(V.Fragment,{children:[R&&V.jsx(JO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),V.jsx(QO,{scope:n,onClose:k,children:tu.createPortal(V.jsx(dy.ItemSlot,{scope:n,children:V.jsx(CO,{asChild:!0,onEscapeKeyDown:Ye(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||k(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:V.jsx(zt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...E,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ye(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ye(t.onPointerDown,W=>{W.button===0&&(T.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ye(t.onPointerMove,W=>{if(!T.current)return;const oe=W.clientX-T.current.x,se=W.clientY-T.current.y,X=!!b.current,j=["left","right"].includes(_.swipeDirection),z=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,q=j?z(0,oe):0,J=j?0:z(0,se),re=W.pointerType==="touch"?10:2,ue={x:q,y:J},be={originalEvent:W,delta:ue};X?(b.current=ue,ic(qO,d,be,{discrete:!1})):g_(ue,_.swipeDirection,re)?(b.current=ue,ic(WO,h,be,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(oe)>re||Math.abs(se)>re)&&(T.current=null)}),onPointerUp:Ye(t.onPointerUp,W=>{const oe=b.current,se=W.target;if(se.hasPointerCapture(W.pointerId)&&se.releasePointerCapture(W.pointerId),b.current=null,T.current=null,oe){const X=W.currentTarget,j={originalEvent:W,delta:oe};g_(oe,_.swipeDirection,_.swipeThreshold)?ic(GO,g,j,{discrete:!0}):ic(KO,p,j,{discrete:!0}),X.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),JO=t=>{const{__scopeToast:e,children:n,...r}=t,s=rd(ru,e),[i,o]=C.useState(!1),[a,l]=C.useState(!1);return tM(()=>o(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:V.jsx(ax,{asChild:!0,children:V.jsx(nd,{...r,children:i&&V.jsxs(V.Fragment,{children:[s.label," ",n]})})})},ZO="ToastTitle",px=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return V.jsx(zt.div,{...r,ref:e})});px.displayName=ZO;var eM="ToastDescription",mx=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return V.jsx(zt.div,{...r,ref:e})});mx.displayName=eM;var gx="ToastAction",yx=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?V.jsx(wx,{altText:n,asChild:!0,children:V.jsx(fy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gx}\`. Expected non-empty \`string\`.`),null)});yx.displayName=gx;var vx="ToastClose",fy=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=YO(vx,n);return V.jsx(wx,{asChild:!0,children:V.jsx(zt.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,s.onClose)})})});fy.displayName=vx;var wx=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return V.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function _x(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),nM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(..._x(r))}}),e}function ic(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?rx(s,i):s.dispatchEvent(i)}var g_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function tM(t=()=>{}){const e=ms(t);gs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function nM(t){return t.nodeType===t.ELEMENT_NODE}function rM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var sM=ux,Ex=hx,Tx=fx,Sx=px,Px=mx,Ax=yx,xx=fy;function Ix(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ix(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Cx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ix(t))&&(r&&(r+=" "),r+=e);return r}const y_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v_=Cx,iM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],d=i==null?void 0:i[c];if(h===null)return null;const p=y_(h)||y_(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[d,p]=h;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:p,...g}=h;return Object.entries(g).every(E=>{let[_,P]=E;return Array.isArray(P)?P.includes({...i,...a}[_]):{...i,...a}[_]===P})?[...c,d,p]:c},[]);return v_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rx=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...aM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rx("lucide",s),...a},[...o.map(([c,h])=>C.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(lM,{ref:i,iconNode:e,className:Rx(`lucide-${oM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Ti("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Ti("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Ti("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Ti("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ti("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Ti("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ti("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),py="-",gM=t=>{const e=vM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(py);return a[0]===""&&a.length!==1&&a.shift(),bx(a,e)||yM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(py);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},w_=/^\[(.+)\]$/,yM=t=>{if(w_.test(t)){const e=w_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _M(Object.entries(t.classGroups),n).forEach(([i,o])=>{mm(o,r,i,e)}),r},mm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:__(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wM(s)){mm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{mm(o,__(e,i),n,r)})})},__=(t,e)=>{let n=t;return e.split(py).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wM=t=>t.isThemeGetter,_M=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,EM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},kx="!",TM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,d;for(let P=0;P<a.length;P++){let w=a[P];if(c===0){if(w===s&&(r||a.slice(P,P+i)===e)){l.push(a.slice(h,P)),h=P+i;continue}if(w==="/"){d=P;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(h),g=p.startsWith(kx),E=g?p.substring(1):p,_=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},SM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PM=t=>({cache:EM(t.cacheSize),parseClassName:TM(t),...gM(t)}),AM=/\s+/,xM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(AM);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let E=!!g,_=r(E?p.substring(0,g):p);if(!_){if(!E){a=c+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=c+(a.length>0?" "+a:a);continue}E=!1}const P=SM(h).join(":"),w=d?P+kx:P,v=w+_;if(i.includes(v))continue;i.push(v);const T=s(_,E);for(let b=0;b<T.length;++b){const D=T[b];i.push(w+D)}a=c+(a.length>0?" "+a:a)}return a};function IM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Dx(e))&&(r&&(r+=" "),r+=n);return r}const Dx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Dx(t[r]))&&(n&&(n+=" "),n+=e);return n};function CM(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,d)=>d(h),t());return n=PM(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=xM(l,n);return s(l,h),h}return function(){return i(IM.apply(null,arguments))}}const Ae=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Nx=/^\[(?:([a-z-]+):)?(.+)\]$/i,RM=/^\d+\/\d+$/,bM=new Set(["px","full","screen"]),kM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=t=>ro(t)||bM.has(t)||RM.test(t),Dr=t=>Xo(t,"length",zM),ro=t=>!!t&&!Number.isNaN(Number(t)),bf=t=>Xo(t,"number",ro),ba=t=>!!t&&Number.isInteger(Number(t)),VM=t=>t.endsWith("%")&&ro(t.slice(0,-1)),le=t=>Nx.test(t),Nr=t=>kM.test(t),LM=new Set(["length","size","percentage"]),FM=t=>Xo(t,LM,Ox),jM=t=>Xo(t,"position",Ox),UM=new Set(["image","url"]),BM=t=>Xo(t,UM,WM),$M=t=>Xo(t,"",HM),ka=()=>!0,Xo=(t,e,n)=>{const r=Nx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},zM=t=>DM.test(t)&&!NM.test(t),Ox=()=>!1,HM=t=>OM.test(t),WM=t=>MM.test(t),qM=()=>{const t=Ae("colors"),e=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),o=Ae("borderSpacing"),a=Ae("borderWidth"),l=Ae("contrast"),c=Ae("grayscale"),h=Ae("hueRotate"),d=Ae("invert"),p=Ae("gap"),g=Ae("gradientColorStops"),E=Ae("gradientColorStopPositions"),_=Ae("inset"),P=Ae("margin"),w=Ae("opacity"),v=Ae("padding"),T=Ae("saturate"),b=Ae("scale"),D=Ae("sepia"),M=Ae("skew"),S=Ae("space"),y=Ae("translate"),I=()=>["auto","contain","none"],x=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",le,e],N=()=>[le,e],R=()=>["",Jn,Dr],W=()=>["auto",ro,le],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",le],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[ro,le];return{cacheSize:500,separator:":",theme:{colors:[ka],spacing:[Jn,Dr],blur:["none","",Nr,le],brightness:J(),borderColor:[t],borderRadius:["none","","full",Nr,le],borderSpacing:N(),borderWidth:R(),contrast:J(),grayscale:z(),hueRotate:J(),invert:z(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[VM,Dr],inset:k(),margin:k(),opacity:J(),padding:N(),saturate:J(),scale:J(),sepia:z(),skew:J(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Nr]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),le]}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ba,le]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ba,le]}],"grid-cols":[{"grid-cols":[ka]}],"col-start-end":[{col:["auto",{span:["full",ba,le]},le]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[ka]}],"row-start-end":[{row:["auto",{span:[ba,le]},le]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Nr]},Nr]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Nr,Dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bf]}],"font-family":[{font:[ka]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",ro,bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,Dr]}],"underline-offset":[{"underline-offset":["auto",Jn,le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),jM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:se()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Jn,le]}],"outline-w":[{outline:[Jn,Dr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Jn,Dr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Nr,$M]}],"shadow-color":[{shadow:[ka]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Nr,le]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ba,le]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jn,Dr,bf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KM=CM(qM);function tn(...t){return KM(Cx(t))}const GM=sM,Mx=C.forwardRef(({className:t,...e},n)=>V.jsx(Ex,{ref:n,className:tn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Mx.displayName=Ex.displayName;const QM=iM("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vx=C.forwardRef(({className:t,variant:e,...n},r)=>V.jsx(Tx,{ref:r,className:tn(QM({variant:e}),t),...n}));Vx.displayName=Tx.displayName;const YM=C.forwardRef(({className:t,...e},n)=>V.jsx(Ax,{ref:n,className:tn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));YM.displayName=Ax.displayName;const Lx=C.forwardRef(({className:t,...e},n)=>V.jsx(xx,{ref:n,className:tn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:V.jsx(mM,{className:"h-4 w-4"})}));Lx.displayName=xx.displayName;const Fx=C.forwardRef(({className:t,...e},n)=>V.jsx(Sx,{ref:n,className:tn("text-sm font-semibold",t),...e}));Fx.displayName=Sx.displayName;const jx=C.forwardRef(({className:t,...e},n)=>V.jsx(Px,{ref:n,className:tn("text-sm opacity-90",t),...e}));jx.displayName=Px.displayName;function XM(){const{toasts:t}=dO();return V.jsxs(GM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return V.jsxs(Vx,{...i,children:[V.jsxs("div",{className:"grid gap-1",children:[n&&V.jsx(Fx,{children:n}),r&&V.jsx(jx,{children:r})]}),s,V.jsx(Lx,{})]},e)}),V.jsx(Mx,{})]})}const JM=["top","right","bottom","left"],ys=Math.min,qt=Math.max,fh=Math.round,oc=Math.floor,Un=t=>({x:t,y:t}),ZM={left:"right",right:"left",bottom:"top",top:"bottom"},eV={start:"end",end:"start"};function gm(t,e,n){return qt(t,ys(e,n))}function wr(t,e){return typeof t=="function"?t(e):t}function _r(t){return t.split("-")[0]}function Jo(t){return t.split("-")[1]}function my(t){return t==="x"?"y":"x"}function gy(t){return t==="y"?"height":"width"}const tV=new Set(["top","bottom"]);function Ln(t){return tV.has(_r(t))?"y":"x"}function yy(t){return my(Ln(t))}function nV(t,e,n){n===void 0&&(n=!1);const r=Jo(t),s=yy(t),i=gy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ph(o)),[o,ph(o)]}function rV(t){const e=ph(t);return[ym(t),e,ym(e)]}function ym(t){return t.replace(/start|end/g,e=>eV[e])}const E_=["left","right"],T_=["right","left"],sV=["top","bottom"],iV=["bottom","top"];function oV(t,e,n){switch(t){case"top":case"bottom":return n?e?T_:E_:e?E_:T_;case"left":case"right":return e?sV:iV;default:return[]}}function aV(t,e,n,r){const s=Jo(t);let i=oV(_r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ym)))),i}function ph(t){return t.replace(/left|right|bottom|top/g,e=>ZM[e])}function lV(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ux(t){return typeof t!="number"?lV(t):{top:t,right:t,bottom:t,left:t}}function mh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function S_(t,e,n){let{reference:r,floating:s}=t;const i=Ln(e),o=yy(e),a=gy(o),l=_r(e),c=i==="y",h=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(Jo(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const uV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:d}=S_(c,r,l),p=r,g={},E=0;for(let _=0;_<a.length;_++){const{name:P,fn:w}=a[_],{x:v,y:T,data:b,reset:D}=await w({x:h,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});h=v??h,d=T??d,g={...g,[P]:{...g[P],...b}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:d}=S_(c,p,l)),_=-1)}return{x:h,y:d,placement:p,strategy:s,middlewareData:g}};async function Rl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=wr(e,t),E=Ux(g),P=a[p?d==="floating"?"reference":"floating":d],w=mh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(P)))==null||n?P:P.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),v=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=mh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(w.top-D.top+E.top)/b.y,bottom:(D.bottom-w.bottom+E.bottom)/b.y,left:(w.left-D.left+E.left)/b.x,right:(D.right-w.right+E.right)/b.x}}const cV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=wr(t,e)||{};if(c==null)return{};const d=Ux(h),p={x:n,y:r},g=yy(s),E=gy(g),_=await o.getDimensions(c),P=g==="y",w=P?"top":"left",v=P?"bottom":"right",T=P?"clientHeight":"clientWidth",b=i.reference[E]+i.reference[g]-p[g]-i.floating[E],D=p[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=M?M[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(M)))&&(S=a.floating[T]||i.floating[E]);const y=b/2-D/2,I=S/2-_[E]/2-1,x=ys(d[w],I),k=ys(d[v],I),N=x,R=S-_[E]-k,W=S/2-_[E]/2+y,oe=gm(N,W,R),se=!l.arrow&&Jo(s)!=null&&W!==oe&&i.reference[E]/2-(W<N?x:k)-_[E]/2<0,X=se?W<N?W-N:W-R:0;return{[g]:p[g]+X,data:{[g]:oe,centerOffset:W-oe-X,...se&&{alignmentOffset:X}},reset:se}}}),hV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...P}=wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=_r(s),v=Ln(a),T=_r(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(T||!_?[ph(a)]:rV(a)),M=E!=="none";!p&&M&&D.push(...aV(a,_,E,b));const S=[a,...D],y=await Rl(e,P),I=[];let x=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(y[w]),d){const W=nV(s,o,b);I.push(y[W[0]],y[W[1]])}if(x=[...x,{placement:s,overflows:I}],!I.every(W=>W<=0)){var k,N;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,oe=S[W];if(oe&&(!(d==="alignment"?v!==Ln(oe):!1)||x.every(j=>Ln(j.placement)===v?j.overflows[0]>0:!0)))return{data:{index:W,overflows:x},reset:{placement:oe}};let se=(N=x.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!se)switch(g){case"bestFit":{var R;const X=(R=x.filter(j=>{if(M){const z=Ln(j.placement);return z===v||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:R[0];X&&(se=X);break}case"initialPlacement":se=a;break}if(s!==se)return{reset:{placement:se}}}return{}}}};function P_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A_(t){return JM.some(e=>t[e]>=0)}const dV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=wr(t,e);switch(r){case"referenceHidden":{const i=await Rl(e,{...s,elementContext:"reference"}),o=P_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A_(o)}}}case"escaped":{const i=await Rl(e,{...s,altBoundary:!0}),o=P_(i,n.floating);return{data:{escapedOffsets:o,escaped:A_(o)}}}default:return{}}}}},Bx=new Set(["left","top"]);async function fV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_r(n),a=Jo(n),l=Ln(n)==="y",c=Bx.has(o)?-1:1,h=i&&l?-1:1,d=wr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:E}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const pV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await fV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},mV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:P=>{let{x:w,y:v}=P;return{x:w,y:v}}},...l}=wr(t,e),c={x:n,y:r},h=await Rl(e,l),d=Ln(_r(s)),p=my(d);let g=c[p],E=c[d];if(i){const P=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=g+h[P],T=g-h[w];g=gm(v,g,T)}if(o){const P=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=E+h[P],T=E-h[w];E=gm(v,E,T)}const _=a.fn({...e,[p]:g,[d]:E});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[d]:o}}}}}},gV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=wr(t,e),h={x:n,y:r},d=Ln(s),p=my(d);let g=h[p],E=h[d];const _=wr(a,e),P=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=p==="y"?"height":"width",b=i.reference[p]-i.floating[T]+P.mainAxis,D=i.reference[p]+i.reference[T]-P.mainAxis;g<b?g=b:g>D&&(g=D)}if(c){var w,v;const T=p==="y"?"width":"height",b=Bx.has(_r(s)),D=i.reference[d]-i.floating[T]+(b&&((w=o.offset)==null?void 0:w[d])||0)+(b?0:P.crossAxis),M=i.reference[d]+i.reference[T]+(b?0:((v=o.offset)==null?void 0:v[d])||0)-(b?P.crossAxis:0);E<D?E=D:E>M&&(E=M)}return{[p]:g,[d]:E}}}},yV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=wr(t,e),h=await Rl(e,c),d=_r(s),p=Jo(s),g=Ln(s)==="y",{width:E,height:_}=i.floating;let P,w;d==="top"||d==="bottom"?(P=d,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,P=p==="end"?"top":"bottom");const v=_-h.top-h.bottom,T=E-h.left-h.right,b=ys(_-h[P],v),D=ys(E-h[w],T),M=!e.middlewareData.shift;let S=b,y=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(y=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),M&&!p){const x=qt(h.left,0),k=qt(h.right,0),N=qt(h.top,0),R=qt(h.bottom,0);g?y=E-2*(x!==0||k!==0?x+k:qt(h.left,h.right)):S=_-2*(N!==0||R!==0?N+R:qt(h.top,h.bottom))}await l({...e,availableWidth:y,availableHeight:S});const I=await o.getDimensions(a.floating);return E!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function sd(){return typeof window<"u"}function Zo(t){return $x(t)?(t.nodeName||"").toLowerCase():"#document"}function Qt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gn(t){var e;return(e=($x(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $x(t){return sd()?t instanceof Node||t instanceof Qt(t).Node:!1}function xn(t){return sd()?t instanceof Element||t instanceof Qt(t).Element:!1}function Wn(t){return sd()?t instanceof HTMLElement||t instanceof Qt(t).HTMLElement:!1}function x_(t){return!sd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qt(t).ShadowRoot}const vV=new Set(["inline","contents"]);function su(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=In(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vV.has(s)}const wV=new Set(["table","td","th"]);function _V(t){return wV.has(Zo(t))}const EV=[":popover-open",":modal"];function id(t){return EV.some(e=>{try{return t.matches(e)}catch{return!1}})}const TV=["transform","translate","scale","rotate","perspective"],SV=["transform","translate","scale","rotate","perspective","filter"],PV=["paint","layout","strict","content"];function vy(t){const e=wy(),n=xn(t)?In(t):t;return TV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||SV.some(r=>(n.willChange||"").includes(r))||PV.some(r=>(n.contain||"").includes(r))}function AV(t){let e=vs(t);for(;Wn(e)&&!No(e);){if(vy(e))return e;if(id(e))return null;e=vs(e)}return null}function wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xV=new Set(["html","body","#document"]);function No(t){return xV.has(Zo(t))}function In(t){return Qt(t).getComputedStyle(t)}function od(t){return xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vs(t){if(Zo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||x_(t)&&t.host||Gn(t);return x_(e)?e.host:e}function zx(t){const e=vs(t);return No(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wn(e)&&su(e)?e:zx(e)}function bl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=zx(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Qt(s);if(i){const a=vm(o);return e.concat(o,o.visualViewport||[],su(s)?s:[],a&&n?bl(a):[])}return e.concat(s,bl(s,[],n))}function vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Hx(t){const e=In(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Wn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=fh(n)!==i||fh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function _y(t){return xn(t)?t:t.contextElement}function so(t){const e=_y(t);if(!Wn(e))return Un(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Hx(e);let o=(i?fh(n.width):n.width)/r,a=(i?fh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const IV=Un(0);function Wx(t){const e=Qt(t);return!wy()||!e.visualViewport?IV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qt(t)?!1:e}function pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=_y(t);let o=Un(1);e&&(r?xn(r)&&(o=so(r)):o=so(t));const a=CV(i,n,r)?Wx(i):Un(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,d=s.height/o.y;if(i){const p=Qt(i),g=r&&xn(r)?Qt(r):r;let E=p,_=vm(E);for(;_&&r&&g!==E;){const P=so(_),w=_.getBoundingClientRect(),v=In(_),T=w.left+(_.clientLeft+parseFloat(v.paddingLeft))*P.x,b=w.top+(_.clientTop+parseFloat(v.paddingTop))*P.y;l*=P.x,c*=P.y,h*=P.x,d*=P.y,l+=T,c+=b,E=Qt(_),_=vm(E)}}return mh({width:h,height:d,x:l,y:c})}function ad(t,e){const n=od(t).scrollLeft;return e?e.left+n:pi(Gn(t)).left+n}function qx(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ad(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function RV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Gn(r),a=e?id(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Un(1);const h=Un(0),d=Wn(r);if((d||!d&&!i)&&((Zo(r)!=="body"||su(o))&&(l=od(r)),Wn(r))){const g=pi(r);c=so(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!d&&!i?qx(o,l):Un(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-l.scrollTop*c.y+h.y+p.y}}function bV(t){return Array.from(t.getClientRects())}function kV(t){const e=Gn(t),n=od(t),r=t.ownerDocument.body,s=qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ad(t);const a=-n.scrollTop;return In(r).direction==="rtl"&&(o+=qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const I_=25;function DV(t,e){const n=Qt(t),r=Gn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const h=wy();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=ad(r);if(c<=0){const h=r.ownerDocument,d=h.body,p=getComputedStyle(d),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,E=Math.abs(r.clientWidth-d.clientWidth-g);E<=I_&&(i-=E)}else c<=I_&&(i+=c);return{width:i,height:o,x:a,y:l}}const NV=new Set(["absolute","fixed"]);function OV(t,e){const n=pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Wn(t)?so(t):Un(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function C_(t,e,n){let r;if(e==="viewport")r=DV(t,n);else if(e==="document")r=kV(Gn(t));else if(xn(e))r=OV(e,n);else{const s=Wx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return mh(r)}function Kx(t,e){const n=vs(t);return n===e||!xn(n)||No(n)?!1:In(n).position==="fixed"||Kx(n,e)}function MV(t,e){const n=e.get(t);if(n)return n;let r=bl(t,[],!1).filter(a=>xn(a)&&Zo(a)!=="body"),s=null;const i=In(t).position==="fixed";let o=i?vs(t):t;for(;xn(o)&&!No(o);){const a=In(o),l=vy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&NV.has(s.position)||su(o)&&!l&&Kx(t,o))?r=r.filter(h=>h!==o):s=a,o=vs(o)}return e.set(t,r),r}function VV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?id(e)?[]:MV(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const d=C_(e,h,s);return c.top=qt(d.top,c.top),c.right=ys(d.right,c.right),c.bottom=ys(d.bottom,c.bottom),c.left=qt(d.left,c.left),c},C_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LV(t){const{width:e,height:n}=Hx(t);return{width:e,height:n}}function FV(t,e,n){const r=Wn(e),s=Gn(e),i=n==="fixed",o=pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Un(0);function c(){l.x=ad(s)}if(r||!r&&!i)if((Zo(e)!=="body"||su(s))&&(a=od(e)),r){const g=pi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?qx(s,a):Un(0),d=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:d,y:p,width:o.width,height:o.height}}function kf(t){return In(t).position==="static"}function R_(t,e){if(!Wn(t)||In(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gn(t)===n&&(n=n.ownerDocument.body),n}function Gx(t,e){const n=Qt(t);if(id(t))return n;if(!Wn(t)){let s=vs(t);for(;s&&!No(s);){if(xn(s)&&!kf(s))return s;s=vs(s)}return n}let r=R_(t,e);for(;r&&_V(r)&&kf(r);)r=R_(r,e);return r&&No(r)&&kf(r)&&!vy(r)?n:r||AV(t)||n}const jV=async function(t){const e=this.getOffsetParent||Gx,n=this.getDimensions,r=await n(t.floating);return{reference:FV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UV(t){return In(t).direction==="rtl"}const BV={convertOffsetParentRelativeRectToViewportRelativeRect:RV,getDocumentElement:Gn,getClippingRect:VV,getOffsetParent:Gx,getElementRects:jV,getClientRects:bV,getDimensions:LV,getScale:so,isElement:xn,isRTL:UV};function Qx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $V(t,e){let n=null,r;const s=Gn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:d,width:p,height:g}=c;if(a||e(),!p||!g)return;const E=oc(d),_=oc(s.clientWidth-(h+p)),P=oc(s.clientHeight-(d+g)),w=oc(h),T={rootMargin:-E+"px "+-_+"px "+-P+"px "+-w+"px",threshold:qt(0,ys(1,l))||1};let b=!0;function D(M){const S=M[0].intersectionRatio;if(S!==l){if(!b)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Qx(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return o(!0),i}function zV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=_y(t),h=s||i?[...c?bl(c):[],...bl(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const d=c&&a?$V(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let E,_=l?pi(t):null;l&&P();function P(){const w=pi(t);_&&!Qx(_,w)&&n(),_=w,E=requestAnimationFrame(P)}return n(),()=>{var w;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const HV=pV,WV=mV,qV=hV,KV=yV,GV=dV,b_=cV,QV=gV,YV=(t,e,n)=>{const r=new Map,s={platform:BV,...n},i={...s.platform,_c:r};return uV(t,e,{...s,platform:i})};var XV=typeof document<"u",JV=function(){},bc=XV?C.useLayoutEffect:JV;function gh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!gh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Yx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k_(t,e){const n=Yx(t);return Math.round(e*n)/n}function Df(t){const e=C.useRef(t);return bc(()=>{e.current=t}),e}function ZV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,d]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=C.useState(r);gh(p,r)||g(r);const[E,_]=C.useState(null),[P,w]=C.useState(null),v=C.useCallback(j=>{j!==M.current&&(M.current=j,_(j))},[]),T=C.useCallback(j=>{j!==S.current&&(S.current=j,w(j))},[]),b=i||E,D=o||P,M=C.useRef(null),S=C.useRef(null),y=C.useRef(h),I=l!=null,x=Df(l),k=Df(s),N=Df(c),R=C.useCallback(()=>{if(!M.current||!S.current)return;const j={placement:e,strategy:n,middleware:p};k.current&&(j.platform=k.current),YV(M.current,S.current,j).then(z=>{const q={...z,isPositioned:N.current!==!1};W.current&&!gh(y.current,q)&&(y.current=q,tu.flushSync(()=>{d(q)}))})},[p,e,n,k,N]);bc(()=>{c===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const W=C.useRef(!1);bc(()=>(W.current=!0,()=>{W.current=!1}),[]),bc(()=>{if(b&&(M.current=b),D&&(S.current=D),b&&D){if(x.current)return x.current(b,D,R);R()}},[b,D,R,x,I]);const oe=C.useMemo(()=>({reference:M,floating:S,setReference:v,setFloating:T}),[v,T]),se=C.useMemo(()=>({reference:b,floating:D}),[b,D]),X=C.useMemo(()=>{const j={position:n,left:0,top:0};if(!se.floating)return j;const z=k_(se.floating,h.x),q=k_(se.floating,h.y);return a?{...j,transform:"translate("+z+"px, "+q+"px)",...Yx(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:q}},[n,a,se.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:R,refs:oe,elements:se,floatingStyles:X}),[h,R,oe,se,X])}const eL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?b_({element:r.current,padding:s}).fn(n):{}:r?b_({element:r,padding:s}).fn(n):{}}}},tL=(t,e)=>({...HV(t),options:[t,e]}),nL=(t,e)=>({...WV(t),options:[t,e]}),rL=(t,e)=>({...QV(t),options:[t,e]}),sL=(t,e)=>({...qV(t),options:[t,e]}),iL=(t,e)=>({...KV(t),options:[t,e]}),oL=(t,e)=>({...GV(t),options:[t,e]}),aL=(t,e)=>({...eL(t),options:[t,e]});var lL="Arrow",Xx=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return V.jsx(zt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:V.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xx.displayName=lL;var uL=Xx;function cL(t){const[e,n]=C.useState(void 0);return gs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Jx="Popper",[Zx,eI]=td(Jx),[v5,tI]=Zx(Jx),nI="PopperAnchor",rI=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=tI(nI,n),o=C.useRef(null),a=An(e,o),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:V.jsx(zt.div,{...s,ref:a})});rI.displayName=nI;var Ey="PopperContent",[hL,dL]=Zx(Ey),sI=C.forwardRef((t,e)=>{var rt,_u,Eu,Cs,Rs,Pi;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:E,..._}=t,P=tI(Ey,n),[w,v]=C.useState(null),T=An(e,Qn=>v(Qn)),[b,D]=C.useState(null),M=cL(b),S=(M==null?void 0:M.width)??0,y=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),x=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],N=k.length>0,R={padding:x,boundary:k.filter(pL),altBoundary:N},{refs:W,floatingStyles:oe,placement:se,isPositioned:X,middlewareData:j}=ZV({strategy:"fixed",placement:I,whileElementsMounted:(...Qn)=>zV(...Qn,{animationFrame:g==="always"}),elements:{reference:P.anchor},middleware:[tL({mainAxis:s+y,alignmentAxis:o}),l&&nL({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?rL():void 0,...R}),l&&sL({...R}),iL({...R,apply:({elements:Qn,rects:Ai,availableWidth:la,availableHeight:Tu})=>{const{width:Rd,height:bd}=Ai.reference,bs=Qn.floating.style;bs.setProperty("--radix-popper-available-width",`${la}px`),bs.setProperty("--radix-popper-available-height",`${Tu}px`),bs.setProperty("--radix-popper-anchor-width",`${Rd}px`),bs.setProperty("--radix-popper-anchor-height",`${bd}px`)}}),b&&aL({element:b,padding:a}),mL({arrowWidth:S,arrowHeight:y}),p&&oL({strategy:"referenceHidden",...R})]}),[z,q]=aI(se),J=ms(E);gs(()=>{X&&(J==null||J())},[X,J]);const re=(rt=j.arrow)==null?void 0:rt.x,ue=(_u=j.arrow)==null?void 0:_u.y,be=((Eu=j.arrow)==null?void 0:Eu.centerOffset)!==0,[ke,ft]=C.useState();return gs(()=>{w&&ft(window.getComputedStyle(w).zIndex)},[w]),V.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:X?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Cs=j.transformOrigin)==null?void 0:Cs.x,(Rs=j.transformOrigin)==null?void 0:Rs.y].join(" "),...((Pi=j.hide)==null?void 0:Pi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:V.jsx(hL,{scope:n,placedSide:z,onArrowChange:D,arrowX:re,arrowY:ue,shouldHideArrow:be,children:V.jsx(zt.div,{"data-side":z,"data-align":q,..._,ref:T,style:{..._.style,animation:X?void 0:"none"}})})})});sI.displayName=Ey;var iI="PopperArrow",fL={top:"bottom",right:"left",bottom:"top",left:"right"},oI=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=dL(iI,r),o=fL[i.placedSide];return V.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:V.jsx(uL,{...s,ref:n,style:{...s.style,display:"block"}})})});oI.displayName=iI;function pL(t){return t!==null}var mL=t=>({name:"transformOrigin",options:t,fn(e){var P,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((P=s.arrow)==null?void 0:P.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=aI(n),d={start:"0%",center:"50%",end:"100%"}[h],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let E="",_="";return c==="bottom"?(E=o?d:`${p}px`,_=`${-l}px`):c==="top"?(E=o?d:`${p}px`,_=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,_=o?d:`${g}px`):c==="left"&&(E=`${r.floating.width+l}px`,_=o?d:`${g}px`),{data:{x:E,y:_}}}});function aI(t){const[e,n="center"]=t.split("-");return[e,n]}var gL=rI,yL=sI,vL=oI,[ld,w5]=td("Tooltip",[eI]),Ty=eI(),lI="TooltipProvider",wL=700,D_="tooltip.open",[_L,uI]=ld(lI),cI=t=>{const{__scopeTooltip:e,delayDuration:n=wL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),V.jsx(_L,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};cI.displayName=lI;var hI="Tooltip",[_5,ud]=ld(hI),wm="TooltipTrigger",EL=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ud(wm,n),i=uI(wm,n),o=Ty(n),a=C.useRef(null),l=An(e,a,s.onTriggerChange),c=C.useRef(!1),h=C.useRef(!1),d=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),V.jsx(gL,{asChild:!0,...o,children:V.jsx(zt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ye(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ye(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ye(t.onBlur,s.onClose),onClick:Ye(t.onClick,s.onClose)})})});EL.displayName=wm;var TL="TooltipPortal",[E5,SL]=ld(TL,{forceMount:void 0}),Oo="TooltipContent",dI=C.forwardRef((t,e)=>{const n=SL(Oo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ud(Oo,t.__scopeTooltip);return V.jsx(cy,{present:r||o.open,children:o.disableHoverableContent?V.jsx(fI,{side:s,...i,ref:e}):V.jsx(PL,{side:s,...i,ref:e})})}),PL=C.forwardRef((t,e)=>{const n=ud(Oo,t.__scopeTooltip),r=uI(Oo,t.__scopeTooltip),s=C.useRef(null),i=An(e,s),[o,a]=C.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:d}=r,p=C.useCallback(()=>{a(null),d(!1)},[d]),g=C.useCallback((E,_)=>{const P=E.currentTarget,w={x:E.clientX,y:E.clientY},v=RL(w,P.getBoundingClientRect()),T=bL(w,v),b=kL(_.getBoundingClientRect()),D=NL([...T,...b]);a(D),d(!0)},[d]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&h){const E=P=>g(P,h),_=P=>g(P,l);return l.addEventListener("pointerleave",E),h.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",_)}}},[l,h,g,p]),C.useEffect(()=>{if(o){const E=_=>{const P=_.target,w={x:_.clientX,y:_.clientY},v=(l==null?void 0:l.contains(P))||(h==null?void 0:h.contains(P)),T=!DL(w,o);v?p():T&&(p(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,h,o,c,p]),V.jsx(fI,{...t,ref:i})}),[AL,xL]=ld(hI,{isInside:!1}),IL=mO("TooltipContent"),fI=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ud(Oo,n),c=Ty(n),{onClose:h}=l;return C.useEffect(()=>(document.addEventListener(D_,h),()=>document.removeEventListener(D_,h)),[h]),C.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,h]),V.jsx(uy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:V.jsxs(yL,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[V.jsx(IL,{children:r}),V.jsx(AL,{scope:n,isInside:!0,children:V.jsx(UO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});dI.displayName=Oo;var pI="TooltipArrow",CL=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ty(n);return xL(pI,n).isInside?null:V.jsx(vL,{...s,...r,ref:e})});CL.displayName=pI;function RL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function kL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function DL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,d=l.x,p=l.y;h>r!=p>r&&n<(d-c)*(r-h)/(p-h)+c&&(s=!s)}return s}function NL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OL(e)}function OL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var ML=cI,mI=dI;const VL=ML,LL=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>V.jsx(mI,{ref:r,sideOffset:e,className:tn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));LL.displayName=mI.displayName;const gI=C.createContext({});function FL(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sy=C.createContext(null),yI=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jL(t=!0){const e=C.useContext(Sy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=C.useId();C.useEffect(()=>{t&&s(i)},[t]);const o=C.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Py=typeof window<"u",UL=Py?C.useLayoutEffect:C.useEffect,Yt=t=>t;let vI=Yt;function Ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const Mo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fr=t=>t*1e3,pr=t=>t/1e3,BL={useManualTiming:!1};function $L(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const g=d&&r?e:n;return h&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const ac=["read","resolveKeyframes","update","preRender","render","postRender"],zL=40;function wI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ac.reduce((w,v)=>(w[v]=$L(i),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:p}=o,g=()=>{const w=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,zL),1),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},E=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:ac.reduce((w,v)=>{const T=o[v];return w[v]=(b,D=!1,M=!1)=>(n||E(),T.schedule(b,D,M)),w},{}),cancel:w=>{for(let v=0;v<ac.length;v++)o[ac[v]].cancel(w)},state:s,steps:o}}const{schedule:Ce,cancel:ws,state:ot,steps:Nf}=wI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),_I=C.createContext({strict:!1}),N_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vo={};for(const t in N_)Vo[t]={isEnabled:e=>N_[t].some(n=>!!e[n])};function HL(t){for(const e in t)Vo[e]={...Vo[e],...t[e]}}const WL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WL.has(t)}let EI=t=>!yh(t);function qL(t){t&&(EI=e=>e.startsWith("on")?!yh(e):t(e))}try{qL(require("@emotion/is-prop-valid").default)}catch{}function KL(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(EI(s)||n===!0&&yh(s)||!e&&!yh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function GL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const cd=C.createContext({});function kl(t){return typeof t=="string"||Array.isArray(t)}function hd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iy=["initial",...xy];function dd(t){return hd(t.animate)||Iy.some(e=>kl(t[e]))}function TI(t){return!!(dd(t)||t.variants)}function QL(t,e){if(dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kl(n)?n:void 0,animate:kl(r)?r:void 0}}return t.inherit!==!1?e:{}}function YL(t){const{initial:e,animate:n}=QL(t,C.useContext(cd));return C.useMemo(()=>({initial:e,animate:n}),[O_(e),O_(n)])}function O_(t){return Array.isArray(t)?t.join(" "):t}const XL=Symbol.for("motionComponentSymbol");function qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JL(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):qi(n)&&(n.current=r))},[e])}const Cy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZL="framerAppearId",SI="data-"+Cy(ZL),{schedule:Ry}=wI(queueMicrotask,!1),PI=C.createContext({});function e2(t,e,n,r,s){var i,o;const{visualElement:a}=C.useContext(cd),l=C.useContext(_I),c=C.useContext(Sy),h=C.useContext(yI).reducedMotion,d=C.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,g=C.useContext(PI);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&t2(d.current,n,s,g);const E=C.useRef(!1);C.useInsertionEffect(()=>{p&&E.current&&p.update(n,c)});const _=n[SI],P=C.useRef(!!_&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return UL(()=>{p&&(E.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Ry.render(p.render),P.current&&p.animationState&&p.animationState.animateChanges())}),C.useEffect(()=>{p&&(!P.current&&p.animationState&&p.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,_)}),P.current=!1))}),p}function t2(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&qi(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function AI(t){if(t)return t.options.allowProjection!==!1?t.projection:AI(t.parent)}function n2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&HL(t);function a(c,h){let d;const p={...C.useContext(yI),...c,layoutId:r2(c)},{isStatic:g}=p,E=YL(c),_=r(c,g);if(!g&&Py){s2();const P=i2(p);d=P.MeasureLayout,E.visualElement=e2(s,_,p,e,P.ProjectionNode)}return V.jsxs(cd.Provider,{value:E,children:[d&&E.visualElement?V.jsx(d,{visualElement:E.visualElement,...p}):null,n(s,c,JL(_,E.visualElement,h),_,g,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=C.forwardRef(a);return l[XL]=s,l}function r2({layoutId:t}){const e=C.useContext(gI).id;return e&&t!==void 0?e+"-"+t:t}function s2(t,e){C.useContext(_I).strict}function i2(t){const{drag:e,layout:n}=Vo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const o2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function by(t){return typeof t!="string"||t.includes("-")?!1:!!(o2.indexOf(t)>-1||/[A-Z]/u.test(t))}function M_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ky(t,e,n,r){if(typeof e=="function"){const[s,i]=M_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=M_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const _m=t=>Array.isArray(t),a2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),l2=t=>_m(t)?t[t.length-1]||0:t,At=t=>!!(t&&t.getVelocity);function kc(t){const e=At(t)?t.get():t;return a2(e)?e.toValue():e}function u2({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:c2(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const xI=t=>(e,n)=>{const r=C.useContext(cd),s=C.useContext(Sy),i=()=>u2(t,e,r,s);return n?i():FL(i)};function c2(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=kc(i[p]);let{initial:o,animate:a}=t;const l=dd(t),c=TI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!hd(d)){const p=Array.isArray(d)?d:[d];for(let g=0;g<p.length;g++){const E=ky(t,p[g]);if(E){const{transitionEnd:_,transition:P,...w}=E;for(const v in w){let T=w[v];if(Array.isArray(T)){const b=h?T.length-1:0;T=T[b]}T!==null&&(s[v]=T)}for(const v in _)s[v]=_[v]}}}return s}const ea=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Si=new Set(ea),II=t=>e=>typeof e=="string"&&e.startsWith(t),CI=II("--"),h2=II("var(--"),Dy=t=>h2(t)?d2.test(t.split("/*")[0].trim()):!1,d2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,RI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Er=(t,e,n)=>n>e?e:n<t?t:n,ta={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dl={...ta,transform:t=>Er(0,1,t)},lc={...ta,default:1},iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vr=iu("deg"),Bn=iu("%"),Z=iu("px"),f2=iu("vh"),p2=iu("vw"),V_={...Bn,parse:t=>Bn.parse(t)/100,transform:t=>Bn.transform(t*100)},m2={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z},g2={rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:lc,scaleX:lc,scaleY:lc,scaleZ:lc,skew:Vr,skewX:Vr,skewY:Vr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Dl,originX:V_,originY:V_,originZ:Z},L_={...ta,transform:Math.round},Ny={...m2,...g2,zIndex:L_,size:Z,fillOpacity:Dl,strokeOpacity:Dl,numOctaves:L_},y2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v2=ea.length;function w2(t,e,n){let r="",s=!0;for(let i=0;i<v2;i++){const o=ea[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=RI(a,Ny[o]);if(!l){s=!1;const h=y2[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Oy(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Si.has(l)){o=!0;continue}else if(CI(l)){s[l]=c;continue}else{const h=RI(c,Ny[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=w2(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}const _2={offset:"stroke-dashoffset",array:"stroke-dasharray"},E2={offset:"strokeDashoffset",array:"strokeDasharray"};function T2(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?_2:E2;t[i.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[i.array]=`${o} ${a}`}function F_(t,e,n){return typeof t=="string"?t:Z.transform(e+n*t)}function S2(t,e,n){const r=F_(e,t.x,t.width),s=F_(n,t.y,t.height);return`${r} ${s}`}function My(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(Oy(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:E}=t;p.transform&&(E&&(g.transform=p.transform),delete p.transform),E&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=S2(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&T2(p,o,a,l,!1)}const Vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bI=()=>({...Vy(),attrs:{}}),Ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const DI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NI(t,e,n,r){kI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(DI.has(s)?s:Cy(s),e.attrs[s])}const vh={};function P2(t){Object.assign(vh,t)}function OI(t,{layout:e,layoutId:n}){return Si.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vh[t]||t==="opacity")}function Fy(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(At(s[o])||e.style&&At(e.style[o])||OI(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function MI(t,e,n){const r=Fy(t,e,n);for(const s in t)if(At(t[s])||At(e[s])){const i=ea.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function A2(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const j_=["x","y","width","height","cx","cy","r"],x2={useVisualState:xI({scrapeMotionValuesFromProps:MI,createRenderState:bI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Si.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<j_.length;a++){const l=j_[a];t[l]!==e[l]&&(o=!0)}o&&Ce.read(()=>{A2(n,r),Ce.render(()=>{My(r,s,Ly(n.tagName),t.transformTemplate),NI(n,r)})})}})},I2={useVisualState:xI({scrapeMotionValuesFromProps:Fy,createRenderState:Vy})};function VI(t,e,n){for(const r in e)!At(e[r])&&!OI(r,n)&&(t[r]=e[r])}function C2({transformTemplate:t},e){return C.useMemo(()=>{const n=Vy();return Oy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function R2(t,e){const n=t.style||{},r={};return VI(r,n,t),Object.assign(r,C2(t,e)),r}function b2(t,e){const n={},r=R2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function k2(t,e,n,r){const s=C.useMemo(()=>{const i=bI();return My(i,e,Ly(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};VI(i,t.style,t),s.style={...i,...s.style}}return s}function D2(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(by(n)?k2:b2)(r,i,o,n),c=KL(r,typeof n=="string",t),h=n!==C.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=C.useMemo(()=>At(d)?d.get():d,[d]);return C.createElement(n,{...h,children:p})}}function N2(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...by(r)?x2:I2,preloadedFeatures:t,useRender:D2(s),createVisualElement:e,Component:r};return n2(o)}}function LI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fd(t,e,n){const r=t.getProps();return ky(r,e,n!==void 0?n:r.custom,t)}const O2=Ay(()=>window.ScrollTimeline!==void 0);class M2{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(O2()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class V2 extends M2{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function jy(t,e){return t?t[e]||t.default||t:void 0}const Em=2e4;function FI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Em;)e+=n,r=t.next(e);return e>=Em?1/0:e}function Uy(t){return typeof t=="function"}function U_(t,e){t.timeline=e,t.onfinish=null}const By=t=>Array.isArray(t)&&typeof t[0]=="number",L2={linearEasing:void 0};function F2(t,e){const n=Ay(t);return()=>{var r;return(r=L2[e])!==null&&r!==void 0?r:n()}}const wh=F2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Mo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function UI(t){return!!(typeof t=="function"&&wh()||!t||typeof t=="string"&&(t in Tm||wh())||By(t)||Array.isArray(t)&&t.every(UI))}const ja=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ja([0,.65,.55,1]),circOut:ja([.55,0,1,.45]),backIn:ja([.31,.01,.66,-.59]),backOut:ja([.33,1.53,.69,.99])};function BI(t,e){if(t)return typeof t=="function"&&wh()?jI(t,e):By(t)?ja(t):Array.isArray(t)?t.map(n=>BI(n,e)||Tm.easeOut):Tm[t]}const mn={x:!1,y:!1};function $I(){return mn.x||mn.y}function j2(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function zI(t,e){const n=j2(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function B_(t){return e=>{e.pointerType==="touch"||$I()||t(e)}}function U2(t,e,n={}){const[r,s,i]=zI(t,n),o=B_(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const h=B_(d=>{c(d),l.removeEventListener("pointerleave",h)});l.addEventListener("pointerleave",h,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const HI=(t,e)=>e?t===e?!0:HI(t,e.parentElement):!1,$y=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,B2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $2(t){return B2.has(t.tagName)||t.tabIndex!==-1}const Ua=new WeakSet;function $_(t){return e=>{e.key==="Enter"&&t(e)}}function Of(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z2=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=$_(()=>{if(Ua.has(n))return;Of(n,"down");const s=$_(()=>{Of(n,"up")}),i=()=>Of(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function z_(t){return $y(t)&&!$I()}function H2(t,e,n={}){const[r,s,i]=zI(t,n),o=a=>{const l=a.currentTarget;if(!z_(a)||Ua.has(l))return;Ua.add(l);const c=e(a),h=(g,E)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),!(!z_(g)||!Ua.has(l))&&(Ua.delete(l),typeof c=="function"&&c(g,{success:E}))},d=g=>{h(g,n.useGlobalTarget||HI(l,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{!$2(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>z2(c,s),s)}),i}function W2(t){return t==="x"||t==="y"?mn[t]?null:(mn[t]=!0,()=>{mn[t]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}const WI=new Set(["width","height","top","left","right","bottom",...ea]);let Dc;function q2(){Dc=void 0}const $n={now:()=>(Dc===void 0&&$n.set(ot.isProcessing||BL.useManualTiming?ot.timestamp:performance.now()),Dc),set:t=>{Dc=t,queueMicrotask(q2)}};function zy(t,e){t.indexOf(e)===-1&&t.push(e)}function Hy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wy{constructor(){this.subscriptions=[]}add(e){return zy(this.subscriptions,e),()=>Hy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qI(t,e){return e?t*(1e3/e):0}const H_=30,K2=t=>!isNaN(parseFloat(t));class G2{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=$n.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=K2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,H_);return qI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nl(t,e){return new G2(t,e)}function Q2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nl(n))}function Y2(t,e){const n=fd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=l2(i[o]);Q2(t,o,a)}}function X2(t){return!!(At(t)&&t.add)}function Sm(t,e){const n=t.getValue("willChange");if(X2(n))return n.add(e)}function KI(t){return t.props[SI]}const GI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,J2=1e-7,Z2=12;function eF(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=GI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>J2&&++a<Z2);return o}function ou(t,e,n,r){if(t===e&&n===r)return Yt;const s=i=>eF(i,0,1,t,n);return i=>i===0||i===1?i:GI(s(i),e,r)}const QI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YI=t=>e=>1-t(1-e),XI=ou(.33,1.53,.69,.99),qy=YI(XI),JI=QI(qy),ZI=t=>(t*=2)<1?.5*qy(t):.5*(2-Math.pow(2,-10*(t-1))),Ky=t=>1-Math.sin(Math.acos(t)),eC=YI(Ky),tC=QI(Ky),nC=t=>/^0[^.\s]+$/u.test(t);function tF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nC(t):!0}const tl=t=>Math.round(t*1e5)/1e5,Gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nF(t){return t==null}const rF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qy=(t,e)=>n=>!!(typeof n=="string"&&rF.test(n)&&n.startsWith(t)||e&&!nF(n)&&Object.prototype.hasOwnProperty.call(n,e)),rC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Gy);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sF=t=>Er(0,255,t),Mf={...ta,transform:t=>Math.round(sF(t))},Hs={test:Qy("rgb","red"),parse:rC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mf.transform(t)+", "+Mf.transform(e)+", "+Mf.transform(n)+", "+tl(Dl.transform(r))+")"};function iF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pm={test:Qy("#"),parse:iF,transform:Hs.transform},Ki={test:Qy("hsl","hue"),parse:rC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bn.transform(tl(e))+", "+Bn.transform(tl(n))+", "+tl(Dl.transform(r))+")"},_t={test:t=>Hs.test(t)||Pm.test(t)||Ki.test(t),parse:t=>Hs.test(t)?Hs.parse(t):Ki.test(t)?Ki.parse(t):Pm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hs.transform(t):Ki.transform(t)},oF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oF))===null||n===void 0?void 0:n.length)||0)>0}const sC="number",iC="color",lF="var",uF="var(",W_="${}",cF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ol(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(cF,l=>(_t.test(l)?(r.color.push(i),s.push(iC),n.push(_t.parse(l))):l.startsWith(uF)?(r.var.push(i),s.push(lF),n.push(l)):(r.number.push(i),s.push(sC),n.push(parseFloat(l))),++i,W_)).split(W_);return{values:n,split:a,indexes:r,types:s}}function oC(t){return Ol(t).values}function aC(t){const{split:e,types:n}=Ol(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===sC?i+=tl(s[o]):a===iC?i+=_t.transform(s[o]):i+=s[o]}return i}}const hF=t=>typeof t=="number"?0:t;function dF(t){const e=oC(t);return aC(t)(e.map(hF))}const _s={test:aF,parse:oC,createTransformer:aC,getAnimatableNone:dF},fF=new Set(["brightness","contrast","saturate","opacity"]);function pF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gy)||[];if(!r)return t;const s=n.replace(r,"");let i=fF.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const mF=/\b([a-z-]*)\(.*?\)/gu,Am={..._s,getAnimatableNone:t=>{const e=t.match(mF);return e?e.map(pF).join(" "):t}},gF={...Ny,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:Am,WebkitFilter:Am},Yy=t=>gF[t];function lC(t,e){let n=Yy(t);return n!==Am&&(n=_s),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yF=new Set(["auto","none","0"]);function vF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!yF.has(i)&&Ol(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=lC(n,s)}const q_=t=>t===ta||t===Z,K_=(t,e)=>parseFloat(t.split(", ")[e]),G_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return K_(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?K_(i[1],t):0}},wF=new Set(["x","y","z"]),_F=ea.filter(t=>!wF.has(t));function EF(t){const e=[];return _F.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:G_(4,13),y:G_(5,14)};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const ri=new Set;let xm=!1,Im=!1;function uC(){if(Im){const t=Array.from(ri).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=EF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Im=!1,xm=!1,ri.forEach(t=>t.complete()),ri.clear()}function cC(){ri.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Im=!0)})}function TF(){cC(),uC()}class Xy{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ri.add(this),xm||(xm=!0,Ce.read(cC),Ce.resolveKeyframes(uC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ri.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ri.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),SF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PF(t){const e=SF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function dC(t,e,n=1){const[r,s]=PF(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return hC(o)?parseFloat(o):o}return Dy(s)?dC(s,e,n+1):s}const fC=t=>e=>e.test(t),AF={test:t=>t==="auto",parse:t=>t},pC=[ta,Z,Bn,Vr,p2,f2,AF],Q_=t=>pC.find(fC(t));class mC extends Xy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Dy(c))){const h=dC(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!WI.has(r)||e.length!==2)return;const[s,i]=e,o=Q_(s),a=Q_(i);if(o!==a)if(q_(o)&&q_(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)tF(e[s])&&r.push(s);r.length&&vF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Lo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_s.test(t)||t==="0")&&!t.startsWith("url("));function xF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Y_(s,e),a=Y_(i,e);return!o||!a?!1:xF(t)||(n==="spring"||Uy(n))&&r}const CF=t=>t!==null;function pd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(CF),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const RF=40;class gC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$n.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&TF(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=$n.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!IF(e,r,s,i))if(o)this.options.duration=0;else{l&&l(pd(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Oe=(t,e,n)=>t+(e-t)*n;function Vf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Vf(l,a,t+1/3),i=Vf(l,a,t),o=Vf(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function _h(t,e){return n=>n>0?e:t}const Lf=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},kF=[Pm,Hs,Ki],DF=t=>kF.find(e=>e.test(t));function X_(t){const e=DF(t);if(!e)return!1;let n=e.parse(t);return e===Ki&&(n=bF(n)),n}const J_=(t,e)=>{const n=X_(t),r=X_(e);if(!n||!r)return _h(t,e);const s={...n};return i=>(s.red=Lf(n.red,r.red,i),s.green=Lf(n.green,r.green,i),s.blue=Lf(n.blue,r.blue,i),s.alpha=Oe(n.alpha,r.alpha,i),Hs.transform(s))},NF=(t,e)=>n=>e(t(n)),au=(...t)=>t.reduce(NF),Cm=new Set(["none","hidden"]);function OF(t,e){return Cm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MF(t,e){return n=>Oe(t,e,n)}function Jy(t){return typeof t=="number"?MF:typeof t=="string"?Dy(t)?_h:_t.test(t)?J_:FF:Array.isArray(t)?yC:typeof t=="object"?_t.test(t)?J_:VF:_h}function yC(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Jy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function VF(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Jy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function LF(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const FF=(t,e)=>{const n=_s.createTransformer(e),r=Ol(t),s=Ol(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Cm.has(t)&&!s.values.length||Cm.has(e)&&!r.values.length?OF(t,e):au(yC(LF(r,s),s.values),n):_h(t,e)};function vC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Oe(t,e,n):Jy(t)(t,e)}const jF=5;function wC(t,e,n){const r=Math.max(e-jF,0);return qI(n-t(r),e-r)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ff=.001;function UF({duration:t=je.duration,bounce:e=je.bounce,velocity:n=je.velocity,mass:r=je.mass}){let s,i,o=1-e;o=Er(je.minDamping,je.maxDamping,o),t=Er(je.minDuration,je.maxDuration,pr(t)),o<1?(s=c=>{const h=c*o,d=h*t,p=h-n,g=Rm(c,o),E=Math.exp(-d);return Ff-p/g*E},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-d),_=Rm(Math.pow(c,2),o);return(-s(c)+Ff>0?-1:1)*((p-g)*E)/_}):(s=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Ff+h*d},i=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=$F(s,i,a);if(t=fr(t),isNaN(l))return{stiffness:je.stiffness,damping:je.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const BF=12;function $F(t,e,n){let r=n;for(let s=1;s<BF;s++)r=r-t(r)/e(r);return r}function Rm(t,e){return t*Math.sqrt(1-e*e)}const zF=["duration","bounce"],HF=["stiffness","damping","mass"];function Z_(t,e){return e.some(n=>t[n]!==void 0)}function WF(t){let e={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...t};if(!Z_(t,HF)&&Z_(t,zF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Er(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:je.mass,stiffness:s,damping:i}}else{const n=UF(t);e={...e,...n,mass:je.mass},e.isResolvedFromDuration=!0}return e}function _C(t=je.visualDuration,e=je.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:g}=WF({...n,velocity:-pr(n.velocity||0)}),E=p||0,_=c/(2*Math.sqrt(l*h)),P=o-i,w=pr(Math.sqrt(l/h)),v=Math.abs(P)<5;r||(r=v?je.restSpeed.granular:je.restSpeed.default),s||(s=v?je.restDelta.granular:je.restDelta.default);let T;if(_<1){const D=Rm(w,_);T=M=>{const S=Math.exp(-_*w*M);return o-S*((E+_*w*P)/D*Math.sin(D*M)+P*Math.cos(D*M))}}else if(_===1)T=D=>o-Math.exp(-w*D)*(P+(E+w*P)*D);else{const D=w*Math.sqrt(_*_-1);T=M=>{const S=Math.exp(-_*w*M),y=Math.min(D*M,300);return o-S*((E+_*w*P)*Math.sinh(y)+D*P*Math.cosh(y))/D}}const b={calculatedDuration:g&&d||null,next:D=>{const M=T(D);if(g)a.done=D>=d;else{let S=0;_<1&&(S=D===0?fr(E):wC(T,D,M));const y=Math.abs(S)<=r,I=Math.abs(o-M)<=s;a.done=y&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(FI(b),Em),M=jI(S=>b.next(D*S).value,D,30);return D+"ms "+M}};return b}function eE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},g=y=>a!==void 0&&y<a||l!==void 0&&y>l,E=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let _=n*e;const P=d+_,w=o===void 0?P:o(P);w!==P&&(_=w-d);const v=y=>-_*Math.exp(-y/r),T=y=>w+v(y),b=y=>{const I=v(y),x=T(y);p.done=Math.abs(I)<=c,p.value=p.done?w:x};let D,M;const S=y=>{g(p.value)&&(D=y,M=_C({keyframes:[p.value,E(p.value)],velocity:wC(T,y,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return S(0),{calculatedDuration:null,next:y=>{let I=!1;return!M&&D===void 0&&(I=!0,b(y),S(y)),D!==void 0&&y>=D?M.next(y-D):(!I&&b(y),p)}}}const qF=ou(.42,0,1,1),KF=ou(0,0,.58,1),EC=ou(.42,0,.58,1),GF=t=>Array.isArray(t)&&typeof t[0]!="number",QF={linear:Yt,easeIn:qF,easeInOut:EC,easeOut:KF,circIn:Ky,circInOut:tC,circOut:eC,backIn:qy,backInOut:JI,backOut:XI,anticipate:ZI},tE=t=>{if(By(t)){vI(t.length===4);const[e,n,r,s]=t;return ou(e,n,r,s)}else if(typeof t=="string")return QF[t];return t};function YF(t,e,n){const r=[],s=n||vC,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Yt:e;a=au(l,a)}r.push(a)}return r}function XF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(vI(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=YF(e,r,s),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=Mo(t[d],t[d+1],h);return a[d](p)};return n?h=>c(Er(t[0],t[i-1],h)):c}function JF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Mo(0,e,r);t.push(Oe(n,1,s))}}function ZF(t){const e=[0];return JF(e,t.length-1),e}function ej(t,e){return t.map(n=>n*e)}function tj(t,e){return t.map(()=>e||EC).splice(0,t.length-1)}function Eh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=GF(r)?r.map(tE):tE(r),i={done:!1,value:e[0]},o=ej(n&&n.length===e.length?n:ZF(e),t),a=XF(o,e,{ease:Array.isArray(s)?s:tj(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const nj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ce.update(e,!0),stop:()=>ws(e),now:()=>ot.isProcessing?ot.timestamp:$n.now()}},rj={decay:eE,inertia:eE,tween:Eh,keyframes:Eh,spring:_C},sj=t=>t/100;class Zy extends gC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Xy,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Uy(n)?n:rj[n]||Eh;let l,c;a!==Eh&&typeof e[0]!="number"&&(l=au(sj,vC(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=FI(h));const{calculatedDuration:d}=h,p=d+s,g=p*(r+1)-s;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:y}=this.options;return{done:!0,value:y[y.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:E,repeatDelay:_,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,b=i;if(g){const y=Math.min(this.currentTime,h)/d;let I=Math.floor(y),x=y%1;!x&&y>=1&&(x=1),x===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(E==="reverse"?(x=1-x,_&&(x-=_/d)):E==="mirror"&&(b=o)),T=Er(0,1,x)*d}const D=v?{done:!1,value:l[0]}:b.next(T);a&&(D.value=a(D.value));let{done:M}=D;!v&&c!==null&&(M=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return S&&s!==void 0&&(D.value=pd(l,this.options,s)),P&&P(D.value),S&&this.finish(),D}get duration(){const{resolved:e}=this;return e?pr(e.calculatedDuration):0}get time(){return pr(this.currentTime)}set time(e){e=fr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=nj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ij=new Set(["opacity","clipPath","filter","transform"]);function oj(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=BI(a,s);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const aj=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Th=10,lj=2e4;function uj(t){return Uy(t.type)||t.type==="spring"||!UI(t.ease)}function cj(t,e){const n=new Zy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<lj;)r=n.sample(i),s.push(r.value),i+=Th;return{times:void 0,keyframes:s,duration:i-Th,ease:"linear"}}const TC={anticipate:ZI,backInOut:JI,circInOut:tC};function hj(t){return t in TC}class nE extends gC{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new mC(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&wh()&&hj(i)&&(i=TC[i]),uj(this.options)){const{onComplete:d,onUpdate:p,motionValue:g,element:E,..._}=this.options,P=cj(e,_);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,s=P.times,i=P.ease,o="keyframes"}const h=oj(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(U_(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;a.set(pd(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return pr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return pr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=fr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Yt;const{animation:r}=n;U_(r,e)}return Yt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:p,...g}=this.options,E=new Zy({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),_=fr(this.time);c.setWithVelocity(E.sample(_-Th).value,E.sample(_).value,Th)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return aj()&&r&&ij.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const dj={type:"spring",stiffness:500,damping:25,restSpeed:10},fj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pj={type:"keyframes",duration:.8},mj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gj=(t,{keyframes:e})=>e.length>2?pj:Si.has(t)?t.startsWith("scale")?fj(e[1]):dj:mj;function yj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const ev=(t,e,n,r={},s,i)=>o=>{const a=jy(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-fr(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};yj(a)||(h={...h,...gj(t,h)}),h.duration&&(h.duration=fr(h.duration)),h.repeatDelay&&(h.repeatDelay=fr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!i&&e.get()!==void 0){const p=pd(h.keyframes,a);if(p!==void 0)return Ce.update(()=>{h.onUpdate(p),h.onComplete()}),new V2([])}return!i&&nE.supports(h)?new nE(h):new Zy(h)};function vj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SC(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),g=l[d];if(g===void 0||h&&vj(h,d))continue;const E={delay:n,...jy(o||{},d)};let _=!1;if(window.MotionHandoffAnimation){const w=KI(t);if(w){const v=window.MotionHandoffAnimation(w,d,Ce);v!==null&&(E.startTime=v,_=!0)}}Sm(t,d),p.start(ev(d,p,g,t.shouldReduceMotion&&WI.has(d)?{type:!1}:E,t,_));const P=p.animation;P&&c.push(P)}return a&&Promise.all(c).then(()=>{Ce.update(()=>{a&&Y2(t,a)})}),c}function bm(t,e,n={}){var r;const s=fd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(SC(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return wj(t,e,h+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function wj(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(_j).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(bm(c,e,{...i,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function _j(t,e){return t.sortNodePosition(e)}function Ej(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>bm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=bm(t,e,n);else{const s=typeof e=="function"?fd(t,e,n.custom):e;r=Promise.all(SC(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Tj=Iy.length;function PC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?PC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Tj;n++){const r=Iy[n],s=t.props[r];(kl(s)||s===!1)&&(e[r]=s)}return e}const Sj=[...xy].reverse(),Pj=xy.length;function Aj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ej(t,n,r)))}function xj(t){let e=Aj(t),n=rE(),r=!0;const s=l=>(c,h)=>{var d;const p=fd(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:E,..._}=p;c={...c,..._,...E}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=PC(t.parent)||{},d=[],p=new Set;let g={},E=1/0;for(let P=0;P<Pj;P++){const w=Sj[P],v=n[w],T=c[w]!==void 0?c[w]:h[w],b=kl(T),D=w===l?v.isActive:null;D===!1&&(E=P);let M=T===h[w]&&T!==c[w]&&b;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),v.protectedKeys={...g},!v.isActive&&D===null||!T&&!v.prevProp||hd(T)||typeof T=="boolean")continue;const S=Ij(v.prevProp,T);let y=S||w===l&&v.isActive&&!M&&b||P>E&&b,I=!1;const x=Array.isArray(T)?T:[T];let k=x.reduce(s(w),{});D===!1&&(k={});const{prevResolvedValues:N={}}=v,R={...N,...k},W=X=>{y=!0,p.has(X)&&(I=!0,p.delete(X)),v.needsAnimating[X]=!0;const j=t.getValue(X);j&&(j.liveStyle=!1)};for(const X in R){const j=k[X],z=N[X];if(g.hasOwnProperty(X))continue;let q=!1;_m(j)&&_m(z)?q=!LI(j,z):q=j!==z,q?j!=null?W(X):p.add(X):j!==void 0&&p.has(X)?W(X):v.protectedKeys[X]=!0}v.prevProp=T,v.prevResolvedValues=k,v.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(y=!1),y&&(!(M&&S)||I)&&d.push(...x.map(X=>({animation:X,options:{type:w}})))}if(p.size){const P={};p.forEach(w=>{const v=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),P[w]=v??null}),d.push({animation:P})}let _=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=rE(),r=!0}}}function Ij(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LI(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rE(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class Is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Cj extends Is{constructor(e){super(e),e.animationState||(e.animationState=xj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Rj=0;class bj extends Is{constructor(){super(...arguments),this.id=Rj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kj={animation:{Feature:Cj},exit:{Feature:bj}};function Ml(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function lu(t){return{point:{x:t.pageX,y:t.pageY}}}const Dj=t=>e=>$y(e)&&t(e,lu(e));function nl(t,e,n,r){return Ml(t,e,Dj(n),r)}const sE=(t,e)=>Math.abs(t-e);function Nj(t,e){const n=sE(t.x,e.x),r=sE(t.y,e.y);return Math.sqrt(n**2+r**2)}class AC{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Uf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Nj(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:E}=d,{timestamp:_}=ot;this.history.push({...E,timestamp:_});const{onStart:P,onMove:w}=this.handlers;p||(P&&P(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=jf(p,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Uf(d.type==="pointercancel"?this.lastMoveEventInfo:jf(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,P),E&&E(d,P)},!$y(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=lu(e),a=jf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ot;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Uf(a,this.history)),this.removeListeners=au(nl(this.contextWindow,"pointermove",this.handlePointerMove),nl(this.contextWindow,"pointerup",this.handlePointerUp),nl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function jf(t,e){return e?{point:e(t.point)}:t}function iE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Uf({point:t},e){return{point:t,delta:iE(t,xC(e)),offset:iE(t,Oj(e)),velocity:Mj(e,.1)}}function Oj(t){return t[0]}function xC(t){return t[t.length-1]}function Mj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=xC(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>fr(e)));)n--;if(!r)return{x:0,y:0};const i=pr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const IC=1e-4,Vj=1-IC,Lj=1+IC,CC=.01,Fj=0-CC,jj=0+CC;function Jt(t){return t.max-t.min}function Uj(t,e,n){return Math.abs(t-e)<=n}function oE(t,e,n,r=.5){t.origin=r,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=Jt(n)/Jt(e),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Vj&&t.scale<=Lj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Fj&&t.translate<=jj||isNaN(t.translate))&&(t.translate=0)}function rl(t,e,n,r){oE(t.x,e.x,n.x,r?r.originX:void 0),oE(t.y,e.y,n.y,r?r.originY:void 0)}function aE(t,e,n){t.min=n.min+e.min,t.max=t.min+Jt(e)}function Bj(t,e,n){aE(t.x,e.x,n.x),aE(t.y,e.y,n.y)}function lE(t,e,n){t.min=e.min-n.min,t.max=t.min+Jt(e)}function sl(t,e,n){lE(t.x,e.x,n.x),lE(t.y,e.y,n.y)}function $j(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Oe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Oe(n,t,r.max):Math.min(t,n)),t}function uE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zj(t,{top:e,left:n,bottom:r,right:s}){return{x:uE(t.x,n,s),y:uE(t.y,e,r)}}function cE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Hj(t,e){return{x:cE(t.x,e.x),y:cE(t.y,e.y)}}function Wj(t,e){let n=.5;const r=Jt(t),s=Jt(e);return s>r?n=Mo(e.min,e.max-r,t.min):r>s&&(n=Mo(t.min,t.max-s,e.min)),Er(0,1,n)}function qj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const km=.35;function Kj(t=km){return t===!1?t=0:t===!0&&(t=km),{x:hE(t,"left","right"),y:hE(t,"top","bottom")}}function hE(t,e,n){return{min:dE(t,e),max:dE(t,n)}}function dE(t,e){return typeof t=="number"?t:t[e]||0}const fE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gi=()=>({x:fE(),y:fE()}),pE=()=>({min:0,max:0}),$e=()=>({x:pE(),y:pE()});function rn(t){return[t("x"),t("y")]}function RC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Gj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Qj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bf(t){return t===void 0||t===1}function Dm({scale:t,scaleX:e,scaleY:n}){return!Bf(t)||!Bf(e)||!Bf(n)}function Fs(t){return Dm(t)||bC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bC(t){return mE(t.x)||mE(t.y)}function mE(t){return t&&t!=="0%"}function Sh(t,e,n){const r=t-n,s=e*r;return n+s}function gE(t,e,n,r,s){return s!==void 0&&(t=Sh(t,s,r)),Sh(t,n,r)+e}function Nm(t,e=0,n=1,r,s){t.min=gE(t.min,e,n,r,s),t.max=gE(t.max,e,n,r,s)}function kC(t,{x:e,y:n}){Nm(t.x,e.translate,e.scale,e.originPoint),Nm(t.y,n.translate,n.scale,n.originPoint)}const yE=.999999999999,vE=1.0000000000001;function Yj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kC(t,o)),r&&Fs(i.latestValues)&&Yi(t,i.latestValues))}e.x<vE&&e.x>yE&&(e.x=1),e.y<vE&&e.y>yE&&(e.y=1)}function Qi(t,e){t.min=t.min+e,t.max=t.max+e}function wE(t,e,n,r,s=.5){const i=Oe(t.min,t.max,s);Nm(t,e,n,i,r)}function Yi(t,e){wE(t.x,e.x,e.scaleX,e.scale,e.originX),wE(t.y,e.y,e.scaleY,e.scale,e.originY)}function DC(t,e){return RC(Qj(t.getBoundingClientRect(),e))}function Xj(t,e,n){const r=DC(t,n),{scroll:s}=e;return s&&(Qi(r.x,s.offset.x),Qi(r.y,s.offset.y)),r}const NC=({current:t})=>t?t.ownerDocument.defaultView:null,Jj=new WeakMap;class Zj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lu(h).point)},i=(h,d)=>{const{drag:p,dragPropagation:g,onDragStart:E}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W2(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(P=>{let w=this.getAxisMotionValue(P).get()||0;if(Bn.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[P];T&&(w=Jt(T)*(parseFloat(w)/100))}}this.originPoint[P]=w}),E&&Ce.postRender(()=>E(h,d)),Sm(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:E,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:P}=d;if(g&&this.currentDirection===null){this.currentDirection=eU(P),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",d.point,P),this.updateAxis("y",d.point,P),this.visualElement.render(),_&&_(h,d)},a=(h,d)=>this.stop(h,d),l=()=>rn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new AC(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:NC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ce.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!uc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$j(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&qi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=zj(s.layoutBox,n):this.constraints=!1,this.elastic=Kj(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qj(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Xj(r,s.root,this.visualElement.getTransformPagePoint());let o=Hj(s.layout.layoutBox,i);if(n){const a=n(Gj(o));this.hasMutatedConstraints=!!a,a&&(o=RC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=rn(h=>{if(!uc(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sm(this.visualElement,e),r.start(ev(e,r,0,n,this.visualElement,!1))}stopAnimation(){rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rn(n=>{const{drag:r}=this.getProps();if(!uc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Wj({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rn(o=>{if(!uc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Oe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Jj.set(this.visualElement,this);const e=this.visualElement.current,n=nl(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();qi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ce.read(r);const o=Ml(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(rn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=km,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function uc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tU extends Is{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new Zj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const _E=t=>(e,n)=>{t&&Ce.postRender(()=>t(e,n))};class nU extends Is{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new AC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:_E(e),onStart:_E(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ce.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=nl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Da={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=EE(t,e.target.x),r=EE(t,e.target.y);return`${n}% ${r}%`}},rU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=_s.parse(t);if(s.length>5)return r;const i=_s.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Oe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class sU extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;P2(iU),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Nc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ry.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OC(t){const[e,n]=jL(),r=C.useContext(gI);return V.jsx(sU,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(PI),isPresent:e,safeToRemove:n})}const iU={borderRadius:{...Da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Da,borderTopRightRadius:Da,borderBottomLeftRadius:Da,borderBottomRightRadius:Da,boxShadow:rU};function oU(t,e,n){const r=At(t)?t:Nl(t);return r.start(ev("",r,e,n)),r.animation}function aU(t){return t instanceof SVGElement&&t.tagName!=="svg"}const lU=(t,e)=>t.depth-e.depth;class uU{constructor(){this.children=[],this.isDirty=!1}add(e){zy(this.children,e),this.isDirty=!0}remove(e){Hy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lU),this.isDirty=!1,this.children.forEach(e)}}function cU(t,e){const n=$n.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ws(r),t(i-e))};return Ce.read(r,!0),()=>ws(r)}const MC=["TopLeft","TopRight","BottomLeft","BottomRight"],hU=MC.length,TE=t=>typeof t=="string"?parseFloat(t):t,SE=t=>typeof t=="number"||Z.test(t);function dU(t,e,n,r,s,i){s?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,fU(r)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,pU(r))):i&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<hU;o++){const a=`border${MC[o]}Radius`;let l=PE(e,a),c=PE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||SE(l)===SE(c)?(t[a]=Math.max(Oe(TE(l),TE(c),r),0),(Bn.test(c)||Bn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,r))}function PE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fU=VC(0,.5,eC),pU=VC(.5,.95,Yt);function VC(t,e,n){return r=>r<t?0:r>e?1:n(Mo(t,e,r))}function AE(t,e){t.min=e.min,t.max=e.max}function nn(t,e){AE(t.x,e.x),AE(t.y,e.y)}function xE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IE(t,e,n,r,s){return t-=e,t=Sh(t,1/n,r),s!==void 0&&(t=Sh(t,1/s,r)),t}function mU(t,e=0,n=1,r=.5,s,i=t,o=t){if(Bn.test(e)&&(e=parseFloat(e),e=Oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Oe(i.min,i.max,r);t===i&&(a-=e),t.min=IE(t.min,e,n,a,s),t.max=IE(t.max,e,n,a,s)}function CE(t,e,[n,r,s],i,o){mU(t,e[n],e[r],e[s],e.scale,i,o)}const gU=["x","scaleX","originX"],yU=["y","scaleY","originY"];function RE(t,e,n,r){CE(t.x,e,gU,n?n.x:void 0,r?r.x:void 0),CE(t.y,e,yU,n?n.y:void 0,r?r.y:void 0)}function bE(t){return t.translate===0&&t.scale===1}function LC(t){return bE(t.x)&&bE(t.y)}function kE(t,e){return t.min===e.min&&t.max===e.max}function vU(t,e){return kE(t.x,e.x)&&kE(t.y,e.y)}function DE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FC(t,e){return DE(t.x,e.x)&&DE(t.y,e.y)}function NE(t){return Jt(t.x)/Jt(t.y)}function OE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wU{constructor(){this.members=[]}add(e){zy(this.members,e),e.scheduleRender()}remove(e){if(Hy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _U(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:g,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ba=typeof window<"u"&&window.MotionDebug!==void 0,$f=["","X","Y","Z"],EU={visibility:"hidden"},ME=1e3;let TU=0;function zf(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function jC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ce,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&jC(r)}function UC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=TU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ba&&(js.totalNodes=js.resolvedTargetDeltas=js.recalculatedProjection=0),this.nodes.forEach(AU),this.nodes.forEach(bU),this.nodes.forEach(kU),this.nodes.forEach(xU),Ba&&window.MotionDebug.record(js)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aU(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=cU(p,250),Nc.hasAnimatedSinceResize&&(Nc.hasAnimatedSinceResize=!1,this.nodes.forEach(LE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||VU,{onLayoutAnimationStart:P,onLayoutAnimationComplete:w}=h.getProps(),v=!this.targetLayout||!FC(this.targetLayout,E)||g,T=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,T);const b={...jy(_,"layout"),onPlay:P,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||LE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VE);return}this.isUpdating||this.nodes.forEach(CU),this.isUpdating=!1,this.nodes.forEach(RU),this.nodes.forEach(SU),this.nodes.forEach(PU),this.clearAllSnapshots();const a=$n.now();ot.delta=Er(0,1e3/60,a-ot.timestamp),ot.timestamp=a,ot.isProcessing=!0,Nf.update.process(ot),Nf.preRender.process(ot),Nf.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IU),this.sharedNodes.forEach(NU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!LC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Fs(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),LU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return $e();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(FU))){const{scroll:h}=this.root;h&&(Qi(l.x,h.offset.x),Qi(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=$e();if(nn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&nn(l,o),Qi(l.x,d.offset.x),Qi(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=$e();nn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Yi(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Fs(h.latestValues)&&Yi(l,h.latestValues)}return Fs(this.latestValues)&&Yi(l,this.latestValues),l}removeTransform(o){const a=$e();nn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fs(c.latestValues))continue;Dm(c.latestValues)&&c.updateSnapshot();const h=$e(),d=c.measurePageBox();nn(h,d),RE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Fs(this.latestValues)&&RE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),sl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),kC(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),sl(this.relativeTargetOrigin,this.target,g.target),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ba&&js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dm(this.parent.latestValues)||bC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;nn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Yj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=$e());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xE(this.prevProjectionDelta.x,this.projectionDelta.x),xE(this.prevProjectionDelta.y,this.projectionDelta.y)),rl(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!OE(this.projectionDelta.x,this.prevProjectionDelta.x)||!OE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Ba&&js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gi(),this.projectionDelta=Gi(),this.projectionDeltaWithTransform=Gi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Gi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=$e(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,_=g!==E,P=this.getStack(),w=!P||P.members.length<=1,v=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(MU));this.animationProgress=0;let T;this.mixTargetDelta=b=>{const D=b/1e3;FE(d.x,o.x,D),FE(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OU(this.relativeTarget,this.relativeTargetOrigin,p,D),T&&vU(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=$e()),nn(T,this.relativeTarget)),_&&(this.animationValues=h,dU(h,c,this.latestValues,D,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Nc.hasAnimatedSinceResize=!0,this.currentAnimation=oU(0,ME,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ME),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&BC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$e();const d=Jt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Jt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}nn(a,l),Yi(a,h),rl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&zf("z",o,c,this.animationValues);for(let h=0;h<$f.length;h++)zf(`rotate${$f[h]}`,o,c,this.animationValues),zf(`skew${$f[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EU;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=kc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=kc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fs(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=_U(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:g,y:E}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in vh){if(p[_]===void 0)continue;const{correct:P,applyTo:w}=vh[_],v=c.transform==="none"?p[_]:P(p[_],d);if(w){const T=w.length;for(let b=0;b<T;b++)c[w[b]]=v}else c[_]=v}return this.options.layoutId&&(c.pointerEvents=d===this?kc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(VE),this.root.sharedNodes.clear()}}}function SU(t){t.updateLayout()}function PU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?rn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Jt(p);p.min=r[d].min,p.max=p.min+g}):BC(i,n.layoutBox,r)&&rn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Jt(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Gi();rl(a,r,n.layoutBox);const l=Gi();o?rl(l,t.applyTransform(s,!0),n.measuredBox):rl(l,r,n.layoutBox);const c=!LC(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const E=$e();sl(E,n.layoutBox,p.layoutBox);const _=$e();sl(_,r,g.layoutBox),FC(E,_)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=E,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function AU(t){Ba&&js.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IU(t){t.clearSnapshot()}function VE(t){t.clearMeasurements()}function CU(t){t.isLayoutDirty=!1}function RU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bU(t){t.resolveTargetDelta()}function kU(t){t.calcProjection()}function DU(t){t.resetSkewAndRotation()}function NU(t){t.removeLeadSnapshot()}function FE(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jE(t,e,n,r){t.min=Oe(e.min,n.min,r),t.max=Oe(e.max,n.max,r)}function OU(t,e,n,r){jE(t.x,e.x,n.x,r),jE(t.y,e.y,n.y,r)}function MU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VU={duration:.45,ease:[.4,0,.1,1]},UE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BE=UE("applewebkit/")&&!UE("chrome/")?Math.round:Yt;function $E(t){t.min=BE(t.min),t.max=BE(t.max)}function LU(t){$E(t.x),$E(t.y)}function BC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Uj(NE(e),NE(n),.2)}function FU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const jU=UC({attachResizeListener:(t,e)=>Ml(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hf={current:void 0},$C=UC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hf.current){const t=new jU({});t.mount(window),t.setOptions({layoutScroll:!0}),Hf.current=t}return Hf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UU={pan:{Feature:nU},drag:{Feature:tU,ProjectionNode:$C,MeasureLayout:OC}};function zE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ce.postRender(()=>i(e,lu(e)))}class BU extends Is{mount(){const{current:e}=this.node;e&&(this.unmount=U2(e,n=>(zE(this.node,n,"Start"),r=>zE(this.node,r,"End"))))}unmount(){}}class $U extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=au(Ml(this.node.current,"focus",()=>this.onFocus()),Ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HE(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ce.postRender(()=>i(e,lu(e)))}class zU extends Is{mount(){const{current:e}=this.node;e&&(this.unmount=H2(e,n=>(HE(this.node,n,"Start"),(r,{success:s})=>HE(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Om=new WeakMap,Wf=new WeakMap,HU=t=>{const e=Om.get(t.target);e&&e(t)},WU=t=>{t.forEach(HU)};function qU({root:t,...e}){const n=t||document;Wf.has(n)||Wf.set(n,{});const r=Wf.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(WU,{root:t,...e})),r[s]}function KU(t,e,n){const r=qU(e);return Om.set(t,n),r.observe(t),()=>{Om.delete(t),r.unobserve(t)}}const GU={some:0,all:1};class QU extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:GU[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return KU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YU(e,n))&&this.startObserver()}unmount(){}}function YU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XU={inView:{Feature:QU},tap:{Feature:zU},focus:{Feature:$U},hover:{Feature:BU}},JU={layout:{ProjectionNode:$C,MeasureLayout:OC}},Mm={current:null},zC={current:!1};function ZU(){if(zC.current=!0,!!Py)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Mm.current=t.matches;t.addListener(e),e()}else Mm.current=!1}const e4=[...pC,_t,_s],t4=t=>e4.find(fC(t)),WE=new WeakMap;function n4(t,e,n){for(const r in e){const s=e[r],i=n[r];if(At(s))t.addValue(r,s);else if(At(i))t.addValue(r,Nl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Nl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=$n.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ce.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=dd(n),this.isVariantNode=TI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const E=p[g];l[g]!==void 0&&At(E)&&E.set(l[g],!1)}}mount(e){this.current=e,WE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zC.current||ZU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){WE.delete(this.current),this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Si.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vo){const n=Vo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qE.length;r++){const s=qE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=n4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(hC(s)||nC(s))?s=parseFloat(s):!t4(s)&&_s.test(n)&&(s=lC(e,n)),this.setBaseTarget(e,At(s)?s.get():s)),At(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=ky(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!At(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class HC extends r4{constructor(){super(...arguments),this.KeyframeResolver=mC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;At(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function s4(t){return window.getComputedStyle(t)}class i4 extends HC{constructor(){super(...arguments),this.type="html",this.renderInstance=kI}readValueFromInstance(e,n){if(Si.has(n)){const r=Yy(n);return r&&r.default||0}else{const r=s4(e),s=(CI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DC(e,n)}build(e,n,r){Oy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Fy(e,n,r)}}class o4 extends HC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Si.has(n)){const r=Yy(n);return r&&r.default||0}return n=DI.has(n)?n:Cy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return MI(e,n,r)}build(e,n,r){My(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){NI(e,n,r,s)}mount(e){this.isSVGTag=Ly(e.tagName),super.mount(e)}}const a4=(t,e)=>by(t)?new o4(e):new i4(e,{allowProjection:t!==C.Fragment}),l4=N2({...kj,...XU,...UU,...JU},a4),u4=GL(l4);function c4(){return V.jsx(u4.div,{className:"h-screen w-screen flex items-center justify-center bg-violet-500 text-white text-3xl font-bold",initial:{opacity:1},animate:{opacity:0},transition:{duration:1.5,delay:1},children:"MisCosas"})}const h4=()=>{C.useEffect(()=>{const t=()=>{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()};window.matchMedia("(display-mode: fullscreen)").matches&&t()},[])};var KE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},d4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},qC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new f4;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p4=function(t){const e=WC(t);return qC.encodeByteArray(e,!0)},Ph=function(t){return p4(t).replace(/\./g,"")},KC=function(t){try{return qC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=()=>m4().__FIREBASE_DEFAULTS__,y4=()=>{if(typeof process>"u"||typeof KE>"u")return;const t=KE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KC(t[1]);return e&&JSON.parse(e)},md=()=>{try{return g4()||y4()||v4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GC=t=>{var e,n;return(n=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w4=t=>{const e=GC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QC=()=>{var t;return(t=md())===null||t===void 0?void 0:t.config},YC=t=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ph(JSON.stringify(n)),Ph(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function S4(){var t;const e=(t=md())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I4(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C4(){return!S4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R4(){try{return typeof indexedDB=="object"}catch{return!1}}function b4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k4,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?D4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xr(s,a,r)}}function D4(t,e){return t.replace(N4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N4=/\{\$([^}]+)}/g;function O4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(GE(i)&&GE(o)){if(!Ah(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function GE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M4(t,e){const n=new V4(t,e);return n.subscribe.bind(n)}class V4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qf),s.error===void 0&&(s.error=qf),s.complete===void 0&&(s.complete=qf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U4(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j4(t){return t===Us?void 0:t}function U4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const $4={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},z4=fe.INFO,H4={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},W4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=H4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=z4,this._logHandler=W4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const q4=(t,e)=>e.some(n=>t instanceof n);let QE,YE;function K4(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G4(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XC=new WeakMap,Vm=new WeakMap,JC=new WeakMap,Kf=new WeakMap,nv=new WeakMap;function Q4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(cs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XC.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function Y4(t){if(Vm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vm.set(t,e)}let Lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X4(t){Lm=t(Lm)}function J4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gf(this),e,...n);return JC.set(r,e.sort?e.sort():[e]),cs(r)}:G4().includes(t)?function(...e){return t.apply(Gf(this),e),cs(XC.get(this))}:function(...e){return cs(t.apply(Gf(this),e))}}function Z4(t){return typeof t=="function"?J4(t):(t instanceof IDBTransaction&&Y4(t),q4(t,K4())?new Proxy(t,Lm):t)}function cs(t){if(t instanceof IDBRequest)return Q4(t);if(Kf.has(t))return Kf.get(t);const e=Z4(t);return e!==t&&(Kf.set(t,e),nv.set(e,t)),e}const Gf=t=>nv.get(t);function eB(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cs(o.result),l.oldVersion,l.newVersion,cs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tB=["get","getKey","getAll","getAllKeys","count"],nB=["put","add","delete","clear"],Qf=new Map;function XE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tB.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qf.set(e,i),i}X4(t=>({...t,get:(e,n,r)=>XE(e,n)||t.get(e,n,r),has:(e,n)=>!!XE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",JE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new tv("@firebase/app"),iB="@firebase/app-compat",oB="@firebase/analytics-compat",aB="@firebase/analytics",lB="@firebase/app-check-compat",uB="@firebase/app-check",cB="@firebase/auth",hB="@firebase/auth-compat",dB="@firebase/database",fB="@firebase/data-connect",pB="@firebase/database-compat",mB="@firebase/functions",gB="@firebase/functions-compat",yB="@firebase/installations",vB="@firebase/installations-compat",wB="@firebase/messaging",_B="@firebase/messaging-compat",EB="@firebase/performance",TB="@firebase/performance-compat",SB="@firebase/remote-config",PB="@firebase/remote-config-compat",AB="@firebase/storage",xB="@firebase/storage-compat",IB="@firebase/firestore",CB="@firebase/vertexai-preview",RB="@firebase/firestore-compat",bB="firebase",kB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",DB={[Fm]:"fire-core",[iB]:"fire-core-compat",[aB]:"fire-analytics",[oB]:"fire-analytics-compat",[uB]:"fire-app-check",[lB]:"fire-app-check-compat",[cB]:"fire-auth",[hB]:"fire-auth-compat",[dB]:"fire-rtdb",[fB]:"fire-data-connect",[pB]:"fire-rtdb-compat",[mB]:"fire-fn",[gB]:"fire-fn-compat",[yB]:"fire-iid",[vB]:"fire-iid-compat",[wB]:"fire-fcm",[_B]:"fire-fcm-compat",[EB]:"fire-perf",[TB]:"fire-perf-compat",[SB]:"fire-rc",[PB]:"fire-rc-compat",[AB]:"fire-gcs",[xB]:"fire-gcs-compat",[IB]:"fire-fst",[RB]:"fire-fst-compat",[CB]:"fire-vertex","fire-js":"fire-js",[bB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,NB=new Map,Um=new Map;function ZE(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(Um.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,t);for(const n of xh.values())ZE(n,t);for(const n of NB.values())ZE(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new uu("app","Firebase",OB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=kB;function ZC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw hs.create("bad-app-name",{appName:String(s)});if(n||(n=QC()),!n)throw hs.create("no-options");const i=xh.get(s);if(i){if(Ah(n,i.options)&&Ah(r,i.config))return i;throw hs.create("duplicate-app",{appName:s})}const o=new B4(s);for(const l of Um.values())o.addComponent(l);const a=new MB(n,r,o);return xh.set(s,a),a}function eR(t=jm){const e=xh.get(t);if(!e&&t===jm&&QC())return ZC();if(!e)throw hs.create("no-app",{appName:t});return e}function ds(t,e,n){var r;let s=(r=DB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}Fo(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="firebase-heartbeat-database",LB=1,Vl="firebase-heartbeat-store";let Yf=null;function tR(){return Yf||(Yf=eB(VB,LB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),Yf}async function FB(t){try{const n=(await tR()).transaction(Vl),r=await n.objectStore(Vl).get(nR(t));return await n.done,r}catch(e){if(e instanceof xr)Tr.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function eT(t,e){try{const r=(await tR()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(e,nR(t)),await r.done}catch(n){if(n instanceof xr)Tr.warn(n.message);else{const r=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function nR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=1024,UB=30*24*60*60*1e3;class BB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=UB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tT(),{heartbeatsToSend:r,unsentEntries:s}=$B(this._heartbeatsCache.heartbeats),i=Ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Tr.warn(n),""}}}function tT(){return new Date().toISOString().substring(0,10)}function $B(t,e=jB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),nT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),nT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R4()?b4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return eT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return eT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nT(t){return Ph(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){Fo(new mi("platform-logger",e=>new rB(e),"PRIVATE")),Fo(new mi("heartbeat",e=>new BB(e),"PRIVATE")),ds(Fm,JE,t),ds(Fm,JE,"esm2017"),ds("fire-js","")}HB("");var WB="firebase",qB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(WB,qB,"app");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,rR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function I(){}I.prototype=y.prototype,S.D=y.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(x,k,N){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return y.prototype[k].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,y,I){I||(I=0);var x=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)x[k]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(k=0;16>k;++k)x[k]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=S.g[0],I=S.g[1],k=S.g[2];var N=S.g[3],R=y+(N^I&(k^N))+x[0]+3614090360&4294967295;y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+x[1]+3905402710&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+x[2]+606105819&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+x[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(N^I&(k^N))+x[4]+4118548399&4294967295,y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+x[5]+1200080426&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+x[6]+2821735955&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+x[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(N^I&(k^N))+x[8]+1770035416&4294967295,y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+x[9]+2336552879&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+x[10]+4294925233&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+x[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(N^I&(k^N))+x[12]+1804603682&4294967295,y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+x[13]+4254626195&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+x[14]+2792965006&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+x[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(k^N&(I^k))+x[1]+4129170786&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+x[6]+3225465664&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+x[11]+643717713&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+x[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^N&(I^k))+x[5]+3593408605&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+x[10]+38016083&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+x[15]+3634488961&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+x[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^N&(I^k))+x[9]+568446438&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+x[14]+3275163606&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+x[3]+4107603335&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+x[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^N&(I^k))+x[13]+2850285829&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+x[2]+4243563512&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+x[7]+1735328473&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+x[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(I^k^N)+x[5]+4294588738&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+x[8]+2272392833&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+x[11]+1839030562&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+x[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^N)+x[1]+2763975236&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+x[4]+1272893353&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+x[7]+4139469664&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+x[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^N)+x[13]+681279174&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+x[0]+3936430074&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+x[3]+3572445317&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+x[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^N)+x[9]+3654602809&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+x[12]+3873151461&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+x[15]+530742520&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+x[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(k^(I|~N))+x[0]+4096336452&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+x[7]+1126891415&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+x[14]+2878612391&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+x[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~N))+x[12]+1700485571&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+x[3]+2399980690&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+x[10]+4293915773&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+x[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~N))+x[8]+1873313359&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+x[15]+4264355552&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+x[6]+2734768916&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+x[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~N))+x[4]+4149444226&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+x[11]+3174756917&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+x[2]+718787259&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var I=y-this.blockSize,x=this.B,k=this.h,N=0;N<y;){if(k==0)for(;N<=I;)s(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<y;)if(x[k++]=S.charCodeAt(N++),k==this.blockSize){s(this,x),k=0;break}}else for(;N<y;)if(x[k++]=S[N++],k==this.blockSize){s(this,x),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var I=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=I&255,I/=256;for(this.u(S),S=Array(16),y=I=0;4>y;++y)for(var x=0;32>x;x+=8)S[I++]=this.g[y]>>>x&255;return S};function i(S,y){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=y(S)}function o(S,y){this.h=y;for(var I=[],x=!0,k=S.length-1;0<=k;k--){var N=S[k]|0;x&&N==y||(I[k]=N,x=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?i(S,function(y){return new o([y|0],0>y?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return P(c(-S));for(var y=[],I=1,x=0;S>=I;x++)y[x]=S/I|0,I*=4294967296;return new o(y,0)}function h(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return P(h(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),x=d,k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k),R=parseInt(S.substring(k,k+N),y);8>N?(N=c(Math.pow(y,N)),x=x.j(N).add(c(R))):(x=x.j(I),x=x.add(c(R)))}return x}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-P(this).m();for(var S=0,y=1,I=0;I<this.g.length;I++){var x=this.i(I);S+=(0<=x?x:4294967296+x)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(_(this))return"-"+P(this).toString(S);for(var y=c(Math.pow(S,6)),I=this,x="";;){var k=b(I,y).g;I=w(I,k.j(y));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=k,E(I))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=w(this,S),_(S)?-1:E(S)?0:1};function P(S){for(var y=S.g.length,I=[],x=0;x<y;x++)I[x]=~S.g[x];return new o(I,~S.h).add(p)}t.abs=function(){return _(this)?P(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],x=0,k=0;k<=y;k++){var N=x+(this.i(k)&65535)+(S.i(k)&65535),R=(N>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);x=R>>>16,N&=65535,R&=65535,I[k]=R<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,y){return S.add(P(y))}t.j=function(S){if(E(this)||E(S))return d;if(_(this))return _(S)?P(this).j(P(S)):P(P(this).j(S));if(_(S))return P(this.j(P(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,I=[],x=0;x<2*y;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<S.g.length;k++){var N=this.i(x)>>>16,R=this.i(x)&65535,W=S.i(k)>>>16,oe=S.i(k)&65535;I[2*x+2*k]+=R*oe,v(I,2*x+2*k),I[2*x+2*k+1]+=N*oe,v(I,2*x+2*k+1),I[2*x+2*k+1]+=R*W,v(I,2*x+2*k+1),I[2*x+2*k+2]+=N*W,v(I,2*x+2*k+2)}for(x=0;x<y;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=y;x<2*y;x++)I[x]=0;return new o(I,0)};function v(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function T(S,y){this.g=S,this.h=y}function b(S,y){if(E(y))throw Error("division by zero");if(E(S))return new T(d,d);if(_(S))return y=b(P(S),y),new T(P(y.g),P(y.h));if(_(y))return y=b(S,P(y)),new T(P(y.g),y.h);if(30<S.g.length){if(_(S)||_(y))throw Error("slowDivide_ only works with positive integers.");for(var I=p,x=y;0>=x.l(S);)I=D(I),x=D(x);var k=M(I,1),N=M(x,1);for(x=M(x,2),I=M(I,2);!E(x);){var R=N.add(x);0>=R.l(S)&&(k=k.add(I),N=R),x=M(x,1),I=M(I,1)}return y=w(S,k.j(y)),new T(k,y)}for(k=d;0<=S.l(y);){for(I=Math.max(1,Math.floor(S.m()/y.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=c(I),R=N.j(y);_(R)||0<R.l(S);)I-=x,N=c(I),R=N.j(y);E(N)&&(N=p),k=k.add(N),S=w(S,R)}return new T(k,S)}t.A=function(S){return b(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],x=0;x<y;x++)I[x]=this.i(x)&S.i(x);return new o(I,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],x=0;x<y;x++)I[x]=this.i(x)|S.i(x);return new o(I,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],x=0;x<y;x++)I[x]=this.i(x)^S.i(x);return new o(I,this.h^S.h)};function D(S){for(var y=S.g.length+1,I=[],x=0;x<y;x++)I[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(I,S.h)}function M(S,y){var I=y>>5;y%=32;for(var x=S.g.length-I,k=[],N=0;N<x;N++)k[N]=0<y?S.i(N+I)>>>y|S.i(N+I+1)<<32-y:S.i(N+I);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,si=o}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sR,$a,iR,Oc,Bm,oR,aR,lR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var m=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in m))break e;m=m[L]}u=u[u.length-1],A=m[u],f=f(A),f!=A&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function i(u,f){u instanceof String&&(u+="");var m=0,A=!1,L={next:function(){if(!A&&m<u.length){var F=m++;return{value:f(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,m){return u.call.apply(u.bind,arguments)}function d(u,f,m){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(f,L)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function E(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(A,L,F){for(var H=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)H[Te-2]=arguments[Te];return f.prototype[L].apply(A,H)}}function _(u){const f=u.length;if(0<f){const m=Array(f);for(let A=0;A<f;A++)m[A]=u[A];return m}return[]}function P(u,f){for(let m=1;m<arguments.length;m++){const A=arguments[m];if(l(A)){const L=u.length||0,F=A.length||0;u.length=L+F;for(let H=0;H<F;H++)u[L+H]=A[H]}else u.push(A)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,f,m){for(const A in u)f.call(m,u[A],A,u)}function S(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function y(u){const f={};for(const m in u)f[m]=u[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,f){let m,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(m in A)u[m]=A[m];for(let F=0;F<I.length;F++)m=I[F],Object.prototype.hasOwnProperty.call(A,m)&&(u[m]=A[m])}}function k(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function R(){var u=z;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class W{constructor(){this.h=this.g=null}add(f,m){const A=oe.get();A.set(f,m),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new w(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let X,j=!1,z=new W,q=()=>{const u=a.Promise.resolve(void 0);X=()=>{u.then(J)}};var J=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(m){N(m)}var f=oe;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}j=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function ke(u,f){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(D){e:{try{b(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ft[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}E(ke,ue);var ft={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),_u=0;function Eu(u,f,m,A,L){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!A,this.ha=L,this.key=++_u,this.da=this.fa=!1}function Cs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rs(u){this.src=u,this.g={},this.h=0}Rs.prototype.add=function(u,f,m,A,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=Qn(u,f,A,L);return-1<H?(f=u[H],m||(f.fa=!1)):(f=new Eu(f,this.src,F,!!A,L),f.fa=m,u.push(f)),f};function Pi(u,f){var m=f.type;if(m in u.g){var A=u.g[m],L=Array.prototype.indexOf.call(A,f,void 0),F;(F=0<=L)&&Array.prototype.splice.call(A,L,1),F&&(Cs(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Qn(u,f,m,A){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==f&&F.capture==!!m&&F.ha==A)return L}return-1}var Ai="closure_lm_"+(1e6*Math.random()|0),la={};function Tu(u,f,m,A,L){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Tu(u,f[F],m,A,L);return null}return m=qv(m),u&&u[rt]?u.K(f,m,c(A)?!!A.capture:!1,L):Rd(u,f,m,!1,A,L)}function Rd(u,f,m,A,L,F){if(!f)throw Error("Invalid event type");var H=c(L)?!!L.capture:!!L,Te=Dd(u);if(Te||(u[Ai]=Te=new Rs(u)),m=Te.add(f,m,A,H,F),m.proxy)return m;if(A=bd(),m.proxy=A,A.src=u,A.listener=m,u.addEventListener)be||(L=H),L===void 0&&(L=!1),u.addEventListener(f.toString(),A,L);else if(u.attachEvent)u.attachEvent(Wv(f.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function bd(){function u(m){return f.call(u.src,u.listener,m)}const f=Gb;return u}function bs(u,f,m,A,L){if(Array.isArray(f))for(var F=0;F<f.length;F++)bs(u,f[F],m,A,L);else A=c(A)?!!A.capture:!!A,m=qv(m),u&&u[rt]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],m=Qn(F,m,A,L),-1<m&&(Cs(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=Dd(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Qn(f,m,A,L)),(m=-1<u?f[u]:null)&&kd(m))}function kd(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[rt])Pi(f.i,u);else{var m=u.type,A=u.proxy;f.removeEventListener?f.removeEventListener(m,A,u.capture):f.detachEvent?f.detachEvent(Wv(m),A):f.addListener&&f.removeListener&&f.removeListener(A),(m=Dd(f))?(Pi(m,u),m.h==0&&(m.src=null,f[Ai]=null)):Cs(u)}}}function Wv(u){return u in la?la[u]:la[u]="on"+u}function Gb(u,f){if(u.da)u=!0;else{f=new ke(f,this);var m=u.listener,A=u.ha||u.src;u.fa&&kd(u),u=m.call(A,f)}return u}function Dd(u){return u=u[Ai],u instanceof Rs?u:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function qv(u){return typeof u=="function"?u:(u[Nd]||(u[Nd]=function(f){return u.handleEvent(f)}),u[Nd])}function pt(){re.call(this),this.i=new Rs(this),this.M=this,this.F=null}E(pt,re),pt.prototype[rt]=!0,pt.prototype.removeEventListener=function(u,f,m,A){bs(this,u,f,m,A)};function Ct(u,f){var m,A=u.F;if(A)for(m=[];A;A=A.F)m.push(A);if(u=u.M,A=f.type||f,typeof f=="string")f=new ue(f,u);else if(f instanceof ue)f.target=f.target||u;else{var L=f;f=new ue(A,u),x(f,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var H=f.g=m[F];L=Su(H,A,!0,f)&&L}if(H=f.g=u,L=Su(H,A,!0,f)&&L,L=Su(H,A,!1,f)&&L,m)for(F=0;F<m.length;F++)H=f.g=m[F],L=Su(H,A,!1,f)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],A=0;A<m.length;A++)Cs(m[A]);delete u.g[f],u.h--}}this.F=null},pt.prototype.K=function(u,f,m,A){return this.i.add(String(u),f,!1,m,A)},pt.prototype.L=function(u,f,m,A){return this.i.add(String(u),f,!0,m,A)};function Su(u,f,m,A){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,F=0;F<f.length;++F){var H=f[F];if(H&&!H.da&&H.capture==m){var Te=H.listener,st=H.ha||H.src;H.fa&&Pi(u.i,H),L=Te.call(st,A)!==!1&&L}}return L&&!A.defaultPrevented}function Kv(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Gv(u){u.g=Kv(()=>{u.g=null,u.i&&(u.i=!1,Gv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Qb extends re{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(u){re.call(this),this.h=u,this.g={}}E(ua,re);var Qv=[];function Yv(u){M(u.g,function(f,m){this.g.hasOwnProperty(m)&&kd(f)},u),u.g={}}ua.prototype.N=function(){ua.aa.N.call(this),Yv(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Od=a.JSON.stringify,Yb=a.JSON.parse,Xb=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Md(){}Md.prototype.h=null;function Xv(u){return u.h||(u.h=u.i())}function Jv(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vd(){ue.call(this,"d")}E(Vd,ue);function Ld(){ue.call(this,"c")}E(Ld,ue);var ks={},Zv=null;function Pu(){return Zv=Zv||new pt}ks.La="serverreachability";function ew(u){ue.call(this,ks.La,u)}E(ew,ue);function ha(u){const f=Pu();Ct(f,new ew(f))}ks.STAT_EVENT="statevent";function tw(u,f){ue.call(this,ks.STAT_EVENT,u),this.stat=f}E(tw,ue);function Rt(u){const f=Pu();Ct(f,new tw(f,u))}ks.Ma="timingevent";function nw(u,f){ue.call(this,ks.Ma,u),this.size=f}E(nw,ue);function da(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function Jb(u,f,m,A,L,F){u.info(function(){if(u.g)if(F)for(var H="",Te=F.split("&"),st=0;st<Te.length;st++){var ve=Te[st].split("=");if(1<ve.length){var mt=ve[0];ve=ve[1];var gt=mt.split("_");H=2<=gt.length&&gt[1]=="type"?H+(mt+"="+ve+"&"):H+(mt+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+f+`
`+m+`
`+H})}function Zb(u,f,m,A,L,F,H){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+f+`
`+m+`
`+F+" "+H})}function xi(u,f,m,A){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+t1(u,m)+(A?" "+A:"")})}function e1(u,f){u.info(function(){return"TIMEOUT: "+f})}fa.prototype.info=function(){};function t1(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var A=m[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Od(m)}catch{return f}}var Au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fd;function xu(){}E(xu,Md),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},Fd=new xu;function Cr(u,f,m,A){this.j=u,this.i=f,this.l=m,this.R=A||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sw}function sw(){this.i=null,this.g="",this.h=!1}var iw={},jd={};function Ud(u,f,m){u.L=1,u.v=bu(Yn(f)),u.m=m,u.P=!0,ow(u,null)}function ow(u,f){u.F=Date.now(),Iu(u),u.A=Yn(u.v);var m=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),_w(m.i,"t",A),u.C=0,m=u.j.J,u.h=new sw,u.g=Fw(u.j,m?f:null,!u.m),0<u.O&&(u.M=new Qb(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Qv[0]=L.toString()),L=Qv);for(var F=0;F<L.length;F++){var H=Tu(m,L[F],A||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),ha(),Jb(u.i,u.u,u.A,u.l,u.R,u.m)}Cr.prototype.ca=function(u){u=u.target;const f=this.M;f&&Xn(u)==3?f.j():this.Y(u)},Cr.prototype.Y=function(u){try{if(u==this.g)e:{const gt=Xn(this.g);var f=this.g.Ba();const Ri=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Iw(this.g)))){this.J||gt!=4||f==7||(f==8||0>=Ri?ha(3):ha(2)),Bd(this);var m=this.g.Z();this.X=m;t:if(aw(this)){var A=Iw(this.g);u="";var L=A.length,F=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),pa(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,u+=this.h.i.decode(A[f],{stream:!(F&&f==L-1)});A.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=m==200,Zb(this.i,this.u,this.A,this.l,this.R,gt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,st=this.g;if((Te=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Te)){var ve=Te;break t}}ve=null}if(m=ve)xi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$d(this,m);else{this.o=!1,this.s=3,Rt(12),Ds(this),pa(this);break e}}if(this.P){m=!0;let fn;for(;!this.J&&this.C<H.length;)if(fn=n1(this,H),fn==jd){gt==4&&(this.s=4,Rt(14),m=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==iw){this.s=4,Rt(15),xi(this.i,this.l,H,"[Invalid Chunk]"),m=!1;break}else xi(this.i,this.l,fn,null),$d(this,fn);if(aw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||H.length!=0||this.h.h||(this.s=1,Rt(16),m=!1),this.o=this.o&&m,!m)xi(this.i,this.l,H,"[Invalid Chunked Response]"),Ds(this),pa(this);else if(0<H.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Gd(mt),mt.M=!0,Rt(11))}}else xi(this.i,this.l,H,null),$d(this,H);gt==4&&Ds(this),this.o&&!this.J&&(gt==4?Ow(this.j,this):(this.o=!1,Iu(this)))}else w1(this.g),m==400&&0<H.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Ds(this),pa(this)}}}catch{}finally{}};function aw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function n1(u,f){var m=u.C,A=f.indexOf(`
`,m);return A==-1?jd:(m=Number(f.substring(m,A)),isNaN(m)?iw:(A+=1,A+m>f.length?jd:(f=f.slice(A,A+m),u.C=A+m,f)))}Cr.prototype.cancel=function(){this.J=!0,Ds(this)};function Iu(u){u.S=Date.now()+u.I,lw(u,u.I)}function lw(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=da(p(u.ba,u),f)}function Bd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Cr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(e1(this.i,this.A),this.L!=2&&(ha(),Rt(17)),Ds(this),this.s=2,pa(this)):lw(this,this.S-u)};function pa(u){u.j.G==0||u.J||Ow(u.j,u)}function Ds(u){Bd(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Yv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function $d(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||zd(m.h,u))){if(!u.K&&zd(m.h,u)&&m.G==3){try{var A=m.Da.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Vu(m),Ou(m);else break e;Kd(m),Rt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=da(p(m.Za,m),6e3));if(1>=hw(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Os(m,11)}else if((u.K||m.g==u)&&Vu(m),!v(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let ve=L[f];if(m.T=ve[0],ve=ve[1],m.G==2)if(ve[0]=="c"){m.K=ve[1],m.ia=ve[2];const mt=ve[3];mt!=null&&(m.la=mt,m.j.info("VER="+m.la));const gt=ve[4];gt!=null&&(m.Aa=gt,m.j.info("SVER="+m.Aa));const Ri=ve[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,m.L=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const fn=u.g;if(fn){const Fu=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fu){var F=A.h;F.g||Fu.indexOf("spdy")==-1&&Fu.indexOf("quic")==-1&&Fu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Hd(F,F.h),F.h=null))}if(A.D){const Qd=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qd&&(A.ya=Qd,Pe(A.I,A.D,Qd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),A=m;var H=u;if(A.qa=Lw(A,A.J?A.ia:null,A.W),H.K){dw(A.h,H);var Te=H,st=A.L;st&&(Te.I=st),Te.B&&(Bd(Te),Iu(Te)),A.g=H}else Dw(A);0<m.i.length&&Mu(m)}else ve[0]!="stop"&&ve[0]!="close"||Os(m,7);else m.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Os(m,7):qd(m):ve[0]!="noop"&&m.l&&m.l.ta(ve),m.v=0)}}ha(4)}catch{}}var r1=class{constructor(u,f){this.g=u,this.map=f}};function uw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hw(u){return u.h?1:u.g?u.g.size:0}function zd(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Hd(u,f){u.g?u.g.add(f):u.h=f}function dw(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}uw.prototype.cancel=function(){if(this.i=fw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return _(u.i)}function s1(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,A=0;A<m;A++)f.push(u[A]);return f}f=[],m=0;for(A in u)f[m++]=u[A];return f}function i1(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const A in u)f[m++]=A;return f}}}function pw(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=i1(u),A=s1(u),L=A.length,F=0;F<L;F++)f.call(void 0,A[F],m&&m[F],u)}var mw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o1(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var A=u[m].indexOf("="),L=null;if(0<=A){var F=u[m].substring(0,A);L=u[m].substring(A+1)}else F=u[m];f(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ns(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ns){this.h=u.h,Cu(this,u.j),this.o=u.o,this.g=u.g,Ru(this,u.s),this.l=u.l;var f=u.i,m=new ya;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),gw(this,m),this.m=u.m}else u&&(f=String(u).match(mw))?(this.h=!1,Cu(this,f[1]||"",!0),this.o=ma(f[2]||""),this.g=ma(f[3]||"",!0),Ru(this,f[4]),this.l=ma(f[5]||"",!0),gw(this,f[6]||"",!0),this.m=ma(f[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}Ns.prototype.toString=function(){var u=[],f=this.j;f&&u.push(ga(f,yw,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(ga(f,yw,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ga(m,m.charAt(0)=="/"?u1:l1,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ga(m,h1)),u.join("")};function Yn(u){return new Ns(u)}function Cu(u,f,m){u.j=m?ma(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Ru(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function gw(u,f,m){f instanceof ya?(u.i=f,d1(u.i,u.h)):(m||(f=ga(f,c1)),u.i=new ya(f,u.h))}function Pe(u,f,m){u.i.set(f,m)}function bu(u){return Pe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ma(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ga(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,a1),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function a1(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yw=/[#\/\?@]/g,l1=/[#\?:]/g,u1=/[#\?]/g,c1=/[#\?@]/g,h1=/#/g;function ya(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Rr(u){u.g||(u.g=new Map,u.h=0,u.i&&o1(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ya.prototype,t.add=function(u,f){Rr(this),this.i=null,u=Ii(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function vw(u,f){Rr(u),f=Ii(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function ww(u,f){return Rr(u),f=Ii(u,f),u.g.has(f)}t.forEach=function(u,f){Rr(this),this.g.forEach(function(m,A){m.forEach(function(L){u.call(f,L,A,this)},this)},this)},t.na=function(){Rr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let A=0;A<f.length;A++){const L=u[A];for(let F=0;F<L.length;F++)m.push(f[A])}return m},t.V=function(u){Rr(this);let f=[];if(typeof u=="string")ww(this,u)&&(f=f.concat(this.g.get(Ii(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Rr(this),this.i=null,u=Ii(this,u),ww(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function _w(u,f,m){vw(u,f),0<m.length&&(u.i=null,u.g.set(Ii(u,f),_(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var A=f[m];const F=encodeURIComponent(String(A)),H=this.V(A);for(A=0;A<H.length;A++){var L=F;H[A]!==""&&(L+="="+encodeURIComponent(String(H[A]))),u.push(L)}}return this.i=u.join("&")};function Ii(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function d1(u,f){f&&!u.j&&(Rr(u),u.i=null,u.g.forEach(function(m,A){var L=A.toLowerCase();A!=L&&(vw(this,A),_w(this,L,m))},u)),u.j=f}function f1(u,f){const m=new fa;if(a.Image){const A=new Image;A.onload=g(br,m,"TestLoadImage: loaded",!0,f,A),A.onerror=g(br,m,"TestLoadImage: error",!1,f,A),A.onabort=g(br,m,"TestLoadImage: abort",!1,f,A),A.ontimeout=g(br,m,"TestLoadImage: timeout",!1,f,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else f(!1)}function p1(u,f){const m=new fa,A=new AbortController,L=setTimeout(()=>{A.abort(),br(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?br(m,"TestPingServer: ok",!0,f):br(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),br(m,"TestPingServer: error",!1,f)})}function br(u,f,m,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(m)}catch{}}function m1(){this.g=new Xb}function g1(u,f,m){const A=m||"";try{pw(u,function(L,F){let H=L;c(L)&&(H=Od(L)),f.push(A+F+"="+encodeURIComponent(H))})}catch(L){throw f.push(A+"type="+encodeURIComponent("_badmap")),L}}function ku(u){this.l=u.Ub||null,this.j=u.eb||!1}E(ku,Md),ku.prototype.g=function(){return new Du(this.l,this.j)},ku.prototype.i=function(u){return function(){return u}}({});function Du(u,f){pt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Du,pt),t=Du.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,wa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ew(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ew(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?va(this):wa(this),this.readyState==3&&Ew(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,va(this))},t.Qa=function(u){this.g&&(this.response=u,va(this))},t.ga=function(){this.g&&va(this)};function va(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wa(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tw(u){let f="";return M(u,function(m,A){f+=A,f+=":",f+=m,f+=`\r
`}),f}function Wd(u,f,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=Tw(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Pe(u,f,m))}function Le(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Le,pt);var y1=/^https?$/i,v1=["POST","PUT"];t=Le.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fd.g(),this.v=this.o?Xv(this.o):Xv(Fd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){Sw(this,F);return}if(u=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)m.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())m.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(v1,f,void 0))||A||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of m)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Sw(this,F)}};function Sw(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Pw(u),Nu(u)}function Pw(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),Nu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nu(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Aw(this):this.bb())},t.bb=function(){Aw(this)};function Aw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Xn(u)!=4||u.Z()!=2)){if(u.u&&Xn(u)==4)Kv(u.Ea,0,u);else if(Ct(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var A;if(A=H===0){var L=String(u.D).match(mw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!y1.test(L?L.toLowerCase():"")}m=A}if(m)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var F=2<Xn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Pw(u)}}finally{Nu(u)}}}}function Nu(u,f){if(u.g){xw(u);const m=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Ct(u,"ready");try{m.onreadystatechange=A}catch{}}}function xw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Yb(f)}};function Iw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function w1(u){const f={};u=(u.g&&2<=Xn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(v(u[A]))continue;var m=k(u[A]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=f[L]||[];f[L]=F,F.push(m)}S(f,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Cw(u){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,u),this.cb=_a("retryDelaySeedMs",1e4,u),this.Wa=_a("forwardChannelMaxRetries",2,u),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new uw(u&&u.concurrentRequestLimit),this.Da=new m1,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cw.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,A){Rt(0),this.W=u,this.H=f||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.I=Lw(this,null,this.W),Mu(this)};function qd(u){if(Rw(u),u.G==3){var f=u.U++,m=Yn(u.I);if(Pe(m,"SID",u.K),Pe(m,"RID",f),Pe(m,"TYPE","terminate"),Ea(u,m),f=new Cr(u,u.j,f),f.L=2,f.v=bu(Yn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Fw(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Iu(f)}Vw(u)}function Ou(u){u.g&&(Gd(u),u.g.cancel(),u.g=null)}function Rw(u){Ou(u),u.u&&(a.clearTimeout(u.u),u.u=null),Vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Mu(u){if(!cw(u.h)&&!u.s){u.s=!0;var f=u.Ga;X||q(),j||(X(),j=!0),z.add(f,u),u.B=0}}function _1(u,f){return hw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=da(p(u.Ga,u,f),Mw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Cr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=y(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=kw(this,L,f),m=Yn(this.I),Pe(m,"RID",u),Pe(m,"CVER",22),this.D&&Pe(m,"X-HTTP-Session-Id",this.D),Ea(this,m),F&&(this.O?f="headers="+encodeURIComponent(String(Tw(F)))+"&"+f:this.m&&Wd(m,this.m,F)),Hd(this.h,L),this.Ua&&Pe(m,"TYPE","init"),this.P?(Pe(m,"$req",f),Pe(m,"SID","null"),L.T=!0,Ud(L,m,null)):Ud(L,m,f),this.G=2}}else this.G==3&&(u?bw(this,u):this.i.length==0||cw(this.h)||bw(this))};function bw(u,f){var m;f?m=f.l:m=u.U++;const A=Yn(u.I);Pe(A,"SID",u.K),Pe(A,"RID",m),Pe(A,"AID",u.T),Ea(u,A),u.m&&u.o&&Wd(A,u.m,u.o),m=new Cr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=kw(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hd(u.h,m),Ud(m,A,f)}function Ea(u,f){u.H&&M(u.H,function(m,A){Pe(f,A,m)}),u.l&&pw({},function(m,A){Pe(f,A,m)})}function kw(u,f,m){m=Math.min(u.i.length,m);var A=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const H=["count="+m];F==-1?0<m?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let Te=!0;for(let st=0;st<m;st++){let ve=L[st].g;const mt=L[st].map;if(ve-=F,0>ve)F=Math.max(0,L[st].g-100),Te=!1;else try{g1(mt,H,"req"+ve+"_")}catch{A&&A(mt)}}if(Te){A=H.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,A}function Dw(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;X||q(),j||(X(),j=!0),z.add(f,u),u.v=0}}function Kd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=da(p(u.Fa,u),Mw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Nw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=da(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Ou(this),Nw(this))};function Gd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Nw(u){u.g=new Cr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Yn(u.qa);Pe(f,"RID","rpc"),Pe(f,"SID",u.K),Pe(f,"AID",u.T),Pe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pe(f,"TO",u.ja),Pe(f,"TYPE","xmlhttp"),Ea(u,f),u.m&&u.o&&Wd(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=bu(Yn(f)),m.m=null,m.P=!0,ow(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Ou(this),Kd(this),Rt(19))};function Vu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ow(u,f){var m=null;if(u.g==f){Vu(u),Gd(u),u.g=null;var A=2}else if(zd(u.h,f))m=f.D,dw(u.h,f),A=1;else return;if(u.G!=0){if(f.o)if(A==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=u.B;A=Pu(),Ct(A,new nw(A,m)),Mu(u)}else Dw(u);else if(L=f.s,L==3||L==0&&0<f.X||!(A==1&&_1(u,f)||A==2&&Kd(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),L){case 1:Os(u,5);break;case 4:Os(u,10);break;case 3:Os(u,6);break;default:Os(u,2)}}}function Mw(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Os(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),A=u.Xa;const L=!A;A=new Ns(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cu(A,"https"),bu(A),L?f1(A.toString(),m):p1(A.toString(),m)}else Rt(2);u.G=0,u.l&&u.l.sa(f),Vw(u),Rw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Vw(u){if(u.G=0,u.ka=[],u.l){const f=fw(u.h);(f.length!=0||u.i.length!=0)&&(P(u.ka,f),P(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Lw(u,f,m){var A=m instanceof Ns?Yn(m):new Ns(m);if(A.g!="")f&&(A.g=f+"."+A.g),Ru(A,A.s);else{var L=a.location;A=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var F=new Ns(null);A&&Cu(F,A),f&&(F.g=f),L&&Ru(F,L),m&&(F.l=m),A=F}return m=u.D,f=u.ya,m&&f&&Pe(A,m,f),Pe(A,"VER",u.la),Ea(u,A),A}function Fw(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Le(new ku({eb:m})):new Le(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jw(){}t=jw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lu(){}Lu.prototype.g=function(u,f){return new Ht(u,f)};function Ht(u,f){pt.call(this),this.g=new Cw(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!v(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ci(this)}E(Ht,pt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){qd(this.g)},Ht.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Od(u),u=m);f.i.push(new r1(f.Ya++,u)),f.G==3&&Mu(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,qd(this.g),delete this.g,Ht.aa.N.call(this)};function Uw(u){Vd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}E(Uw,Vd);function Bw(){Ld.call(this),this.status=1}E(Bw,Ld);function Ci(u){this.g=u}E(Ci,jw),Ci.prototype.ua=function(){Ct(this.g,"a")},Ci.prototype.ta=function(u){Ct(this.g,new Uw(u))},Ci.prototype.sa=function(u){Ct(this.g,new Bw)},Ci.prototype.ra=function(){Ct(this.g,"b")},Lu.prototype.createWebChannel=Lu.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,lR=function(){return new Lu},aR=function(){return Pu()},oR=ks,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,Oc=Au,rw.COMPLETE="complete",iR=rw,Jv.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",pt.prototype.listen=pt.prototype.K,$a=Jv,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,sR=Le}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new tv("@firebase/firestore");function Na(){return gi.logLevel}function Q(t,...e){if(gi.logLevel<=fe.DEBUG){const n=e.map(sv);gi.debug(`Firestore (${ra}): ${t}`,...n)}}function Sr(t,...e){if(gi.logLevel<=fe.ERROR){const n=e.map(sv);gi.error(`Firestore (${ra}): ${t}`,...n)}}function jo(t,...e){if(gi.logLevel<=fe.WARN){const n=e.map(sv);gi.warn(`Firestore (${ra}): ${t}`,...n)}}function sv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+t;throw Sr(e),new Error(e)}function Be(t,e){t||ae()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class GB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QB{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ii,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new uR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Et(e)}}class YB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XB{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new YB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new JB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=e9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Uo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Je(0,0))}static max(){return new ie(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ll.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ll?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends Ll{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const n9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Ll{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return n9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ne.fromString(e))}static fromName(e){return new ee(Ne.fromString(e).popFirst(5))}static empty(){return new ee(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ne(e.slice()))}}function r9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Es(s,ee.empty(),e)}function s9(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Es(ie.min(),ee.empty(),-1)}static max(){return new Es(ie.max(),ee.empty(),-1)}}function i9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==o9)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function l9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ov.oe=-1;function gd(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function u9(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function du(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??at.RED,this.left=s??at.EMPTY,this.right=i??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new at(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return at.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new ct(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hR("Invalid base64 string: "+i):i}}(e);return new dt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const c9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Be(!!t),typeof t=="string"){let e=0;const n=c9.exec(t);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lv(t){const e=t.mapValue.fields.__previous_value__;return av(e)?lv(e):e}function Fl(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc={mapValue:{}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?av(t)?4:f9(t)?9007199254740991:d9(t)?10:11:ae()}function qn(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ts(s.timestampValue),a=Ts(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return yi(s.bytesValue).isEqual(yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ze(s.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ze(s.integerValue)===ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ze(s.doubleValue),a=ze(i.doubleValue);return o===a?Ih(o)===Ih(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(iT(o)!==iT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qn(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function Ul(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function Bo(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ze(i.integerValue||i.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(Fl(t),Fl(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(i,o){const a=yi(i),l=yi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=we(a[c],l[c]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(ze(i.latitude),ze(o.latitude));return a!==0?a:we(ze(i.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,_=we(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:lT(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===dc.mapValue&&o===dc.mapValue)return 0;if(i===dc.mapValue)return 1;if(o===dc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=we(l[d],h[d]);if(p!==0)return p;const g=Bo(a[l[d]],c[h[d]]);if(g!==0)return g}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Ts(t),r=Ts(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function lT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Bo(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function $o(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$m(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$m(n.fields[o])}`;return s+"}"}(t.mapValue):ae()}function uT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zm(t){return!!t&&"integerValue"in t}function uv(t){return!!t&&"arrayValue"in t}function cT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xf(t){return!!t&&"mapValue"in t}function d9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return du(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=Pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=il(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){du(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Vn(il(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,ie.min(),ie.min(),ie.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,ie.min(),ie.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ie.min(),ie.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function dT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Bo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function p9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{}class Ge extends dR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g9(e,n,r):n==="array-contains"?new w9(e,r):n==="in"?new _9(e,r):n==="not-in"?new E9(e,r):n==="array-contains-any"?new T9(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y9(e,r):new v9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bo(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends dR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rn(e,n)}matches(e){return fR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fR(t){return t.op==="and"}function pR(t){return m9(t)&&fR(t)}function m9(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function Hm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(pR(t))return t.filters.map(e=>Hm(e)).join(",");{const e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function mR(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&qn(r.value,s.value)}(t,e):t instanceof Rn?function(r,s){return s instanceof Rn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mR(o,s.filters[a]),!0):!1}(t,e):void ae()}function gR(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(gR).join(" ,")+"}"}(t):"Filter"}class g9 extends Ge{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class y9 extends Ge{constructor(e,n){super(e,"in",n),this.keys=yR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v9 extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=yR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class w9 extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uv(n)&&Ul(n.arrayValue,this.value)}}class _9 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class E9 extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ul(this.value.arrayValue,n)}}class T9 extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function pT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new S9(t,e,n,r,s,i,o)}function cv(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.ue=n}return e.ue}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function Wm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P9(t,e,n,r,s,i,o,a){return new fu(t,e,n,r,s,i,o,a)}function vR(t){return new fu(t)}function mT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wR(t){return t.collectionGroup!==null}function ol(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(Pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Rh(i,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new Rh(Pt.keyField(),r))}return e.ce}function zn(t){const e=me(t);return e.le||(e.le=A9(e,ol(t))),e.le}function A9(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Rh(s.field,i)});const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qm(t,e){const n=t.filters.concat([e]);return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Km(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return hv(zn(t),zn(e))&&t.limitType===e.limitType}function _R(t){return`${cv(zn(t))}|lt:${t.limitType}`}function ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gR(s)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$o(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$o(s)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ol(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=dT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ol(r),s)||r.endAt&&!function(o,a,l){const c=dT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ol(r),s))}(t,e)}function x9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ER(t){return(e,n)=>{let r=!1;for(const s of ol(t)){const i=I9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function I9(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Bo(l,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new We(ee.comparator);function Ss(){return C9}const TR=new We(ee.comparator);function za(...t){let e=TR;for(const n of t)e=e.insert(n.key,n);return e}function R9(t){let e=TR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return al()}function SR(){return al()}function al(){return new sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const b9=new ct(ee.comparator);function ge(...t){let e=b9;for(const n of t)e=e.add(n);return e}const k9=new ct(we);function D9(){return k9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function PR(t){return{integerValue:""+t}}function N9(t,e){return u9(e)?PR(e):dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function O9(t,e,n){return t instanceof Gm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&av(i)&&(i=lv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof bh?AR(t,e):t instanceof kh?xR(t,e):function(s,i){const o=V9(s,i),a=gT(o)+gT(s.Pe);return zm(o)&&zm(s.Pe)?PR(a):dv(s.serializer,a)}(t,e)}function M9(t,e,n){return t instanceof bh?AR(t,e):t instanceof kh?xR(t,e):n}function V9(t,e){return t instanceof Qm?function(r){return zm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gm extends wd{}class bh extends wd{constructor(e){super(),this.elements=e}}function AR(t,e){const n=IR(e);for(const r of t.elements)n.some(s=>qn(s,r))||n.push(r);return{arrayValue:{values:n}}}class kh extends wd{constructor(e){super(),this.elements=e}}function xR(t,e){let n=IR(e);for(const r of t.elements)n=n.filter(s=>!qn(s,r));return{arrayValue:{values:n}}}class Qm extends wd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gT(t){return ze(t.integerValue||t.doubleValue)}function IR(t){return uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function L9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof bh&&s instanceof bh||r instanceof kh&&s instanceof kh?Uo(r.elements,s.elements,qn):r instanceof Qm&&s instanceof Qm?qn(r.Pe,s.Pe):r instanceof Gm&&s instanceof Gm}(t.transform,e.transform)}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fv{}function CR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j9(t.key,oi.none()):new pv(t.key,t.data,oi.none());{const n=t.data,r=Vn.empty();let s=new ct(Pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new _d(t.key,r,new Zr(s.toArray()),oi.none())}}function F9(t,e,n){t instanceof pv?function(s,i,o){const a=s.value.clone(),l=vT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _d?function(s,i,o){if(!Mc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=vT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(RR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,r){return t instanceof pv?function(i,o,a,l){if(!Mc(i.precondition,o))return a;const c=i.value.clone(),h=wT(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof _d?function(i,o,a,l){if(!Mc(i.precondition,o))return a;const c=wT(i.fieldTransforms,l,o),h=o.data;return h.setAll(RR(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Mc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Uo(r,s,(i,o)=>L9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pv extends fv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _d extends fv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vT(t,e,n){const r=new Map;Be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,M9(o,a,n[s]))}return r}function wT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,O9(i,o,e))}return r}class j9 extends fv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&F9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=CR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,r)=>yT(n,r))&&Uo(this.baseMutations,e.baseMutations,(n,r)=>yT(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,pe;function bR(t){if(t===void 0)return Sr("GRPC error has no .code"),$.UNKNOWN;switch(t){case qe.OK:return $.OK;case qe.CANCELLED:return $.CANCELLED;case qe.UNKNOWN:return $.UNKNOWN;case qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case qe.INTERNAL:return $.INTERNAL;case qe.UNAVAILABLE:return $.UNAVAILABLE;case qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case qe.NOT_FOUND:return $.NOT_FOUND;case qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case qe.ABORTED:return $.ABORTED;case qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case qe.DATA_LOSS:return $.DATA_LOSS;default:return ae()}}(pe=qe||(qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new si([4294967295,4294967295],0);function _T(t){const e=z9().encode(t),n=new rR;return n.update(e),new Uint8Array(n.digest())}function ET(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new si([n,r],0),new si([s,i],0)]}class mv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=si.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(si.fromNumber(r)));return s.compare(H9)===1&&(s=new si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=_T(e),[r,s]=ET(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new mv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=_T(e),[r,s]=ET(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(ie.min(),s,new We(we),Ss(),ge())}}class pu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class kR{constructor(e,n){this.targetId=e,this.me=n}}class DR{constructor(e,n,r=dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class TT{constructor(){this.fe=0,this.ge=PT(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new pu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=PT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class W9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ss(),this.qe=ST(),this.Qe=new We(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Wm(i))if(r===0){const o=new ee(i.path);this.Ue(n,o,St.newNoDocument(o,ie.min()))}else Be(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(l){if(l instanceof hR)return jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mv(o,s,i)}catch(l){return jo(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Wm(a.target)){const l=new ee(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,St.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ed(e,n,this.Qe,this.ke,r);return this.ke=Ss(),this.qe=ST(),this.Qe=new We(we),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new TT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new TT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ST(){return new We(ee.comparator)}function PT(){return new We(ee.comparator)}const q9={asc:"ASCENDING",desc:"DESCENDING"},K9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G9={and:"AND",or:"OR"};class Q9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function io(t){return Be(!!t),ie.fromTimestamp(function(n){const r=Ts(n);return new Je(r.seconds,r.nanos)}(t))}function OR(t,e){return Jm(t,e).canonicalString()}function Jm(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MR(t){const e=Ne.fromString(t);return Be(UR(e)),e}function Jf(t,e){const n=MR(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(LR(n))}function VR(t,e){return OR(t.databaseId,e)}function Y9(t){const e=MR(t);return e.length===4?Ne.emptyPath():LR(e)}function AT(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LR(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function X9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Be(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(Be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:bR(c.code);return new Y(h,c.message||"")}(o);n=new DR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jf(t,r.document.name),i=io(r.document.updateTime),o=r.document.createTime?io(r.document.createTime):ie.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Vc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jf(t,r.document),i=r.readTime?io(r.readTime):ie.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jf(t,r.document),i=r.removedTargetIds||[];n=new Vc([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new $9(s,i),a=r.targetId;n=new kR(a,o)}}return n}function J9(t,e){return{documents:[VR(t,e.path)]}}function Z9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VR(t,s);const i=function(c){if(c.length!==0)return jR(Rn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Di(p.field),direction:n3(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ym(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function e3(t){let e=Y9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const p=FR(d);return p instanceof Rn&&pR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(E){return new Rh(Ni(E.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,gd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Ch(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Ch(g,p)}(n.endAt)),P9(e,s,o,i,a,"F",l,c)}function t3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ni(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ni(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ni(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ni(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Ni(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>FR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function n3(t){return q9[t]}function r3(t){return K9[t]}function s3(t){return G9[t]}function Di(t){return{fieldPath:t.canonicalString()}}function Ni(t){return Pt.fromServerFormat(t.fieldPath)}function jR(t){return t instanceof Ge?function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NAN"}};if(cT(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NAN"}};if(cT(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(n.field),op:r3(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(s=>jR(s));return r.length===1?r[0]:{compositeFilter:{op:s3(n.op),filters:r}}}(t):ae()}function UR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.ct=e}}function o3(t){const e=e3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.un=new l3}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Es.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class l3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zo(0)}static kn(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ll(r.mutation,s,Zr.empty(),Je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=za();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ss();const o=al(),a=function(){return al()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof _d)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ll(h.mutation,c,h.mutation.getFieldMask(),Je.now())):o.set(c.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new c3(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=al();let s=new We((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Zr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(s.get(a.batchId)||ge()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=SR();h.forEach(p=>{if(!i.has(p)){const g=CR(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ws());let a=-1,l=i;return o.next(c=>U.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ge())).next(h=>({batchId:a,changes:R9(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=za();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=za();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const c=function(d,p){return new fu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,St.newInvalidDocument(h)))});let a=za();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ll(h.mutation,c,Zr.empty(),Je.now()),vd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:io(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:o3(s.bundledQuery),readTime:io(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.overlays=new We(ee.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ws(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ws(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ws(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return U.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new B9(n,r));let i=this.Ir.get(n);i===void 0&&(i=ge(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Tr=new ct(et.Er),this.dr=new ct(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new Ne([])),r=new et(n,e),s=new et(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new Ne([])),r=new et(n,e),s=new et(n,e+1);let i=ge();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ct(et.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new U9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(we);return n.forEach(s=>{const i=new et(s,0),o=new et(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new et(new ee(i),0);let a=new ct(we);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new et(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.Mr=e,this.docs=function(){return new We(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ss();const o=n.path,a=new ee(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||i9(s9(h),r)<=0||(s.has(h.key)||vd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y3(this)}getSize(e){return U.resolve(this.size)}}class y3 extends u3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.persistence=e,this.Nr=new sa(n=>cv(n),hv),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gv,this.targetCount=0,this.kr=zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ov(0),this.Kr=!1,this.Kr=!0,this.$r=new p3,this.referenceDelegate=e(this),this.Ur=new v3(this),this.indexManager=new a3,this.remoteDocumentCache=function(s){return new g3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new i3(n),this.Gr=new d3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new m3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new _3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class _3 extends a9{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Jr=new gv,this.Yr=null}static Zr(e){return new yv(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=ee.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return C4()?8:l9(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new E3;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Na()<=fe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Na()<=fe.DEBUG&&Q("QueryEngine","Query:",ki(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Na()<=fe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):U.resolve())}Yi(e,n){if(mT(n))return U.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Km(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Km(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return mT(n)||s.isEqual(ie.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?U.resolve(null):(Na()<=fe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ki(n)),this.rs(e,o,n,r9(s,-1)).next(a=>a))})}ts(e,n){let r=new ct(ER(e));return n.forEach((s,i)=>{vd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Na()<=fe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ki(n)),this.Ji.getDocumentsMatchingQuery(e,n,Es.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new We(we),this._s=new sa(i=>cv(i),hv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function P3(t,e,n,r){return new S3(t,e,n,r)}async function BR(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ge();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function $R(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function A3(t,e){const n=me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(dt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),function(_,P,w){return _.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=Ss(),c=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(x3(i,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(ie.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function x3(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ss();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function I3(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new es(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Zm(t,e,n){const r=me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hu(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function xT(t,e,n){const r=me(t);let s=ie.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=me(l),p=d._s.get(h);return p!==void 0?U.resolve(d.os.get(p)):d.Ur.getTargetData(c,h)}(r,o,zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:ge())).next(a=>(C3(r,x9(e),a),{documents:a,Ts:i})))}function C3(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class IT{constructor(){this.activeTargetIds=D9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R3{constructor(){this.so=new IT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new IT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Zf(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class N3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Zf(),l=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(h=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw jo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=k3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Zf();return new Promise((o,a)=>{const l=new sR;l.setWithCredentials(!0),l.listenOnce(iR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Oc.NO_ERROR:const h=l.getResponseJson();Q(wt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Oc.TIMEOUT:Q(wt,`RPC '${e}' ${i} timed out`),a(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const d=l.getStatus();if(Q(wt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(g.status);a(new Y(E,g.message))}else a(new Y($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y($.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Q(wt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Q(wt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Zf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lR(),a=aR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Q(wt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);let p=!1,g=!1;const E=new D3({Io:P=>{g?Q(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(p||(Q(wt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),Q(wt,`RPC '${e}' stream ${s} sending:`,P),d.send(P))},To:()=>d.close()}),_=(P,w,v)=>{P.listen(w,T=>{try{v(T)}catch(b){setTimeout(()=>{throw b},0)}})};return _(d,$a.EventType.OPEN,()=>{g||(Q(wt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),_(d,$a.EventType.CLOSE,()=>{g||(g=!0,Q(wt,`RPC '${e}' stream ${s} transport closed`),E.So())}),_(d,$a.EventType.ERROR,P=>{g||(g=!0,jo(wt,`RPC '${e}' stream ${s} transport errored:`,P),E.So(new Y($.UNAVAILABLE,"The operation could not be completed")))}),_(d,$a.EventType.MESSAGE,P=>{var w;if(!g){const v=P.data[0];Be(!!v);const T=v,b=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(b){Q(wt,`RPC '${e}' stream ${s} received error:`,b);const D=b.status;let M=function(I){const x=qe[I];if(x!==void 0)return bR(x)}(D),S=b.message;M===void 0&&(M=$.INTERNAL,S="Unknown error status: "+D+" with message "+b.message),g=!0,E.So(new Y(M,S)),d.close()}else Q(wt,`RPC '${e}' stream ${s} received:`,v),E.bo(v)}}),_(a,oR.STAT_EVENT,P=>{P.stat===Bm.PROXY?Q(wt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Bm.NOPROXY&&Q(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return new Q9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M3 extends O3{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=X9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?io(o.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=AT(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Wm(l)?{documents:J9(i,l)}:{query:Z9(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NR(i,o.resumeToken);const c=Ym(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Xm(i,o.snapshotVersion.toTimestamp());const c=Ym(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=t3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=AT(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Jm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Jm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class L3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Sr(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{gu(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=me(l);c.L_.add(4),await mu(c),c.q_.set("Unknown"),c.L_.delete(4),await Sd(c)}(this))})}),this.q_=new L3(r,s)}}async function Sd(t){if(gu(t))for(const e of t.B_)await e(!0)}async function mu(t){for(const e of t.B_)await e(!1)}function HR(t,e){const n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Tv(n)?Ev(n):ia(n).r_()&&_v(n,e))}function wv(t,e){const n=me(t),r=ia(n);n.N_.delete(e),r.r_()&&WR(n,e),n.N_.size===0&&(r.r_()?r.o_():gu(n)&&n.q_.set("Unknown"))}function _v(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).A_(e)}function WR(t,e){t.Q_.xe(e),ia(t).R_(e)}function Ev(t){t.Q_=new W9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.q_.v_()}function Tv(t){return gu(t)&&!ia(t).n_()&&t.N_.size>0}function gu(t){return me(t).L_.size===0}function qR(t){t.Q_=void 0}async function j3(t){t.q_.set("Online")}async function U3(t){t.N_.forEach((e,n)=>{_v(t,e)})}async function B3(t,e){qR(t),Tv(t)?(t.q_.M_(e),Ev(t)):t.q_.set("Unknown")}async function $3(t,e,n){if(t.q_.set("Online"),e instanceof DR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await RT(t,r)}else if(e instanceof Vc?t.Q_.Ke(e):e instanceof kR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{const r=await $R(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),WR(i,l);const d=new es(h.target,l,c,h.sequenceNumber);_v(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await RT(t,r)}}async function RT(t,e,n){if(!hu(e))throw e;t.L_.add(1),await mu(t),t.q_.set("Offline"),n||(n=()=>$R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sd(t)})}async function bT(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=gu(n);n.L_.add(3),await mu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sd(n)}async function z3(t,e){const n=me(t);e?(n.L_.delete(2),await Sd(n)):e||(n.L_.add(2),await mu(n),n.q_.set("Unknown"))}function ia(t){return t.K_||(t.K_=function(n,r,s){const i=me(n);return i.w_(),new M3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:j3.bind(null,t),Ro:U3.bind(null,t),mo:B3.bind(null,t),d_:$3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Tv(t)?Ev(t):t.q_.set("Unknown")):(await t.K_.stop(),qR(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KR(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),hu(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.W_=new We(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ho{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ho(e,n,oo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class W3{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=DT(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function DT(){return new sa(t=>_R(t),yd)}async function q3(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new H3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=KR(o,`Initialization of query '${ki(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Pv(n)}async function K3(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G3(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Pv(n)}function Q3(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Pv(t){t.Y_.forEach(e=>{e.next()})}var eg,NT;(NT=eg||(eg={})).ea="default",NT.Cache="cache";class Y3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.key=e}}class QR{constructor(e){this.key=e}}class X3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=ER(e),this.Ra=new oo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new kT,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const p=s.get(h),g=vd(this.query,d)?d:null,E=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;p&&g?p.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),P=!0):this.ga(p,g)||(r.track({type:2,doc:g}),P=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),P=!0):p&&!g&&(r.track({type:1,doc:p}),P=!0,(l||c)&&(a=!0)),P&&(g?(o=o.add(g),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,E){const _=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return _(g)-_(E)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ho(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new QR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GR(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ho.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class J3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z3{constructor(e){this.key=e,this.va=!1}}class e${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new sa(a=>_R(a),yd),this.Ma=new Map,this.xa=new Set,this.Oa=new We(ee.comparator),this.Na=new Map,this.La=new gv,this.Ba={},this.ka=new Map,this.qa=zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function t$(t,e,n=!0){const r=eb(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await YR(r,e,n,!0),s}async function n$(t,e){const n=eb(t);await YR(n,e,!0,!1)}async function YR(t,e,n,r){const s=await I3(t.localStore,zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await r$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&HR(t.remoteStore,s),a}async function r$(t,e,n,r,s){t.Ka=(d,p,g)=>async function(_,P,w,v){let T=P.view.ma(w);T.ns&&(T=await xT(_.localStore,P.query,!1).then(({documents:S})=>P.view.ma(S,T)));const b=v&&v.targetChanges.get(P.targetId),D=v&&v.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(T,_.isPrimaryClient,b,D);return MT(_,P.targetId,M.wa),M.snapshot}(t,d,p,g);const i=await xT(t.localStore,e,!0),o=new X3(e,i.Ts),a=o.ma(i.documents),l=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);MT(t,n,c.wa);const h=new J3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function s$(t,e,n){const r=me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!yd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Zm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wv(r.remoteStore,s.targetId),tg(r,s.targetId)}).catch(iv)):(tg(r,s.targetId),await Zm(r.localStore,s.targetId,!0))}async function i$(t,e){const n=me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wv(n.remoteStore,r.targetId))}async function XR(t,e){const n=me(t);try{const r=await A3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Be(o.va):s.removedDocuments.size>0&&(Be(o.va),o.va=!1))}),await ZR(n,r,e)}catch(r){await iv(r)}}function OT(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&Pv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o$(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new We(ee.comparator);o=o.insert(i,St.newNoDocument(i,ie.min()));const a=ge().add(i),l=new Ed(ie.min(),new Map,new We(we),o,a);await XR(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Av(r)}else await Zm(r.localStore,e,!1).then(()=>tg(r,e,n)).catch(iv)}function tg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JR(t,r)})}function JR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(wv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Av(t))}function MT(t,e,n){for(const r of n)r instanceof GR?(t.La.addReference(r.key,e),a$(t,r)):r instanceof QR?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JR(t,r.key)):ae()}function a$(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),Av(t))}function Av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new Z3(n)),t.Oa=t.Oa.insert(n,r),HR(t.remoteStore,new es(zn(vR(n.path)),r,"TargetPurposeLimboResolution",ov.oe))}}async function ZR(t,e,n){const r=me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=vv.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,p=>U.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>U.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!hu(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=h.os.get(p),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,_)}}}(r.localStore,i))}async function l$(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await BR(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ZR(n,r.hs)}}function u$(t,e){const n=me(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let s=ge();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function eb(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o$.bind(null,e),e.Ca.d_=G3.bind(null,e.eventManager),e.Ca.$a=Q3.bind(null,e.eventManager),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return P3(this.persistence,new T3,e.initialUser,this.serializer)}Ga(e){return new w3(yv.Zr,this.serializer)}Wa(e){return new R3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l$.bind(null,this.syncEngine),await z3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W3}()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=function(i){return new N3(i)}(e.databaseInfo);return function(i,o,a,l){return new V3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new F3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>OT(this.syncEngine,n,0),function(){return CT.D()?new CT:new b3}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const d=new e$(s,i,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Q("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await mu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=t9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=KR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await BR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await d$(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>bT(e.remoteStore,s)),t._onlineComponents=e}async function d$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await tp(t,new Dh)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await tp(t,new Dh);return t._offlineComponents}async function f$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await VT(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await VT(t,new ng))),t._onlineComponents}async function p$(t){const e=await f$(t),n=e.eventManager;return n.onListen=t$.bind(null,e.syncEngine),n.onUnlisten=s$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i$.bind(null,e.syncEngine),n}function m$(t,e,n={}){const r=new ii;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new c$({next:p=>{h.Za(),o.enqueueAndForget(()=>K3(i,d)),p.fromCache&&l.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new Y3(a,h,{includeMetadataChanges:!0,_a:!0});return q3(i,d)}(await p$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y$(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(ee.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function rg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pd(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KB;switch(r.type){case"firstParty":return new XB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LT.get(n);r&&(Q("ComponentProvider","Removing Datastore"),LT.delete(n),r.terminate())}(this),Promise.resolve()}}function v$(t,e,n,r={}){var s;const i=(t=rg(t,xv))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Et.MOCK_USER;else{a=E4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(c)}t._authCredentials=new GB(new uR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class Ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ir(this.firestore,e,this._key)}}class ao extends oa{constructor(e,n,r){super(e,n,vR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new ee(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function Bl(t,e,...n){if(t=Cn(t),g$("collection","path",e),t instanceof xv){const r=Ne.fromString(e,...n);return FT(r),new ao(t,null,r)}{if(!(t instanceof Ir||t instanceof ao))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return FT(r),new ao(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zR(this,"async_queue_retry"),this.Vu=()=>{const r=ep();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ii;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hu(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Sr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Sv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class nb extends xv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new UT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function w$(t,e){const n=typeof t=="object"?t:eR(),r=typeof t=="string"?t:"(default)",s=rv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=w4("firestore");i&&v$(s,...i)}return s}function _$(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E$(t),t._firestoreClient}function E$(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new h9(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new h$(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(dt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=/^__.*__$/;function ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Rv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ib(this.Cu)&&T$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class S${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}Qu(e,n,r,s=!1){return new Rv({Cu:e,methodName:n,qu:r,path:Pt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P$(t){const e=t._freezeSettings(),n=Td(t._databaseId);return new S$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A$(t,e,n,r=!1){return bv(n,t.Qu(r?4:3,e))}function bv(t,e){if(ob(t=Cn(t)))return I$("Unsupported field value:",e,t),x$(t,e);if(t instanceof sb)return function(r,s){if(!ib(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=bv(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Je.fromDate(r);return{timestampValue:Xm(s.serializer,i)}}if(r instanceof Je){const i=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xm(s.serializer,i)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:NR(s.serializer,r._byteString)};if(r instanceof Ir){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:OR(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return dv(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Pd(r)}`)}(t,e)}function x$(t,e){const n={};return cR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):du(t,(r,s)=>{const i=bv(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ob(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Iv||t instanceof Wo||t instanceof Ir||t instanceof sb||t instanceof Cv)}function I$(t,e,n){if(!ob(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Pd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}const C$=new RegExp("[~\\*/\\[\\]]");function R$(t,e,n){if(e.search(C$)>=0)throw sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rb(...e.split("."))._internalPath}catch{throw sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b$ extends ab{data(){return super.data()}}function kv(t,e){return typeof e=="string"?R$(t,e):e instanceof rb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}class D$ extends Dv{}function N$(t,e,...n){let r=[];e instanceof Dv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Nv).length,a=i.filter(l=>l instanceof Ad).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ad extends D${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ad(e,n,r)}_apply(e){const n=this._parse(e);return lb(e._query,n),new oa(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=P$(e.firestore);return function(i,o,a,l,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){$T(d,h);const g=[];for(const E of d)g.push(BT(l,i,E));p={arrayValue:{values:g}}}else p=BT(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||$T(d,h),p=A$(a,o,d,h==="in"||h==="not-in");return Ge.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function O$(t,e,n){const r=e,s=kv("where",t);return Ad._create(s,r,n)}class Nv extends Dv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)lb(o,l),o=qm(o,l)}(e._query,n),new oa(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BT(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wR(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ee.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uT(t,new ee(r))}if(n instanceof Ir)return uT(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pd(n)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class M${convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return du(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ze(o.doubleValue));return new Cv(i)}convertGeoPoint(e){return new Iv(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Be(UR(r));const s=new jl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Sr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V$ extends ab{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lc extends V${data(e={}){return super.data(e)}}class L${constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lc(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new pc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new pc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:F$(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}class j$ extends M${constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}}function $l(t){t=rg(t,oa);const e=rg(t.firestore,nb),n=_$(e),r=new j$(e);return k$(t._query),m$(n,t._query).then(s=>new L$(e,r,t,s))}(function(e,n=!0){(function(s){ra=s})(na),Fo(new mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new nb(new QB(r.getProvider("auth-internal")),new ZB(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ds(sT,"4.7.3",e),ds(sT,"4.7.3","esm2017")})();function Ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U$=ub,cb=new uu("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new tv("@firebase/auth");function B$(t,...e){Nh.logLevel<=fe.WARN&&Nh.warn(`Auth (${na}): ${t}`,...e)}function Fc(t,...e){Nh.logLevel<=fe.ERROR&&Nh.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw Vv(t,...e)}function Sn(t,...e){return Vv(t,...e)}function Mv(t,e,n){const r=Object.assign(Object.assign({},U$()),{[e]:n});return new uu("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Mv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(t,"argument-error"),Mv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cb.create(t,...e)}function ne(t,e,...n){if(!t)throw Vv(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fc(e),new Error(e)}function Pr(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z$(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z$()||A4()||"connection"in navigator)?navigator.onLine:!0}function W$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=T4()||x4()}get(){return H$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new yu(3e4,6e4);function Fv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function aa(t,e,n,r,s={}){return db(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=cu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return P4()||(c.referrerPolicy="no-referrer"),hb.fetch()(fb(t,t.config.apiHost,n,a),c)})}async function db(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q$),e);try{const s=new Q$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Mv(t,h,c);Kn(t,h)}}catch(s){if(s instanceof xr)throw s;Kn(t,"network-request-failed",{message:String(s)})}}async function G$(t,e,n,r,s={}){const i=await aa(t,e,n,r,s);return"mfaPendingCredential"in i&&Kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function fb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Lv(t.config,s):`${t.config.apiScheme}://${s}`}class Q${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),K$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y$(t,e){return aa(t,"POST","/v1/accounts:delete",e)}async function pb(t,e){return aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X$(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),s=jv(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ul(np(s.auth_time)),issuedAtTime:ul(np(s.iat)),expirationTime:ul(np(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function np(t){return Number(t)*1e3}function jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const s=KC(n);return s?JSON.parse(s):(Fc("Failed to decode base64 JWT payload"),null)}catch(s){return Fc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HT(t){const e=jv(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&J$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await zl(t,pb(n,{idToken:r}));ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?mb(i.providerUserInfo):[],a=tz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new og(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function ez(t){const e=Cn(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mb(t){return t.map(e=>{var{providerId:n}=e,r=Ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e){const n=await db(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=fb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rz(t,e){return aa(t,"POST","/v2/accounts:revokeToken",Fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=HT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await nz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lo;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new og(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X$(this,e)}reload(){return ez(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await zl(this,Y$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:b,isAnonymous:D,providerData:M,stsTokenManager:S}=n;ne(T&&S,e,"internal-error");const y=lo.fromJSON(this.name,S);ne(typeof T=="string",e,"internal-error"),Or(d,e.name),Or(p,e.name),ne(typeof b=="boolean",e,"internal-error"),ne(typeof D=="boolean",e,"internal-error"),Or(g,e.name),Or(E,e.name),Or(_,e.name),Or(P,e.name),Or(w,e.name),Or(v,e.name);const I=new cr({uid:T,auth:e,email:p,emailVerified:b,displayName:d,isAnonymous:D,photoURL:E,phoneNumber:g,tenantId:_,stsTokenManager:y,createdAt:w,lastLoginAt:v});return M&&Array.isArray(M)&&(I.providerData=M.map(x=>Object.assign({},x))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new lo;s.updateFromServerResponse(n);const i=new cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Oh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new lo;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;function hr(t){Pr(t instanceof Function,"Expected a class definition");let e=WT.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gb.type="NONE";const qT=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jc(this.userKey,s.apiKey,i),this.fullPersistenceKey=jc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(hr(qT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||hr(qT);const o=jc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=cr._fromJSON(e,h);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new uo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new uo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tb(e))return"Blackberry";if(Sb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(Eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yb(t=It()){return/firefox\//i.test(t)}function vb(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(t=It()){return/crios\//i.test(t)}function _b(t=It()){return/iemobile/i.test(t)}function Eb(t=It()){return/android/i.test(t)}function Tb(t=It()){return/blackberry/i.test(t)}function Sb(t=It()){return/webos/i.test(t)}function Uv(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sz(t=It()){var e;return Uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iz(){return I4()&&document.documentMode===10}function Pb(t=It()){return Uv(t)||Eb(t)||Sb(t)||Tb(t)||/windows phone/i.test(t)||_b(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e=[]){let n;switch(t){case"Browser":n=KT(It());break;case"Worker":n=`${KT(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e={}){return aa(t,"GET","/v2/passwordPolicy",Fv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=6;class uz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new oz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pb(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(lr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(ai(this));const n=e?Cn(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await az(this),n=new uz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xd(t){return Cn(t)}class GT{constructor(e){this.auth=e,this.observer=null,this.addObserver=M4(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hz(t){Bv=t}function dz(t){return Bv.loadJS(t)}function fz(){return Bv.gapiScript}function pz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){const n=rv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ah(i,e??{}))return s;Kn(s,"already-initialized")}return n.initialize({options:e})}function gz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yz(t,e,n){const r=xd(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=xb(e),{host:o,port:a}=vz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),wz()}function xb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vz(t){const e=xb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:QT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:QT(o)}}}function QT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return G$(t,"POST","/v1/accounts:signInWithIdp",Fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="http://localhost";class wi extends Ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ov(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new wi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:_z,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends vu{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends vu{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends vu{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=YT(r);return new qo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=YT(r);return new qo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function YT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mh(e,n,r,s)}}function Cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,i,e,r):i})}async function Ez(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject(ai(r));const s="reauthenticate";try{const i=await zl(t,Cb(r,s,e,t),n);ne(i.idToken,r,"internal-error");const o=jv(i.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),qo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t,e,n=!1){if(lr(t.app))return Promise.reject(ai(t));const r="signIn",s=await Cb(t,r,e),i=await qo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Pz(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function Az(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function xz(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=1e3,Cz=10;class bb extends Rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);iz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Cz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Iz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const Rz=bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kb.type="SESSION";const Db=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await bz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=zv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function Dz(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function Nz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Mz(){return Nb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebaseLocalStorageDb",Vz=1,Lh="firebaseLocalStorage",Mb="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function Lz(){const t=indexedDB.deleteDatabase(Ob);return new wu(t).toPromise()}function ag(){const t=indexedDB.open(Ob,Vz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lh,{keyPath:Mb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lh)?e(r):(r.close(),await Lz(),e(await ag()))})})}async function XT(t,e,n){const r=Cd(t,!0).put({[Mb]:e,value:n});return new wu(r).toPromise()}async function Fz(t,e){const n=Cd(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function JT(t,e){const n=Cd(t,!0).delete(e);return new wu(n).toPromise()}const jz=800,Uz=3;class Vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Uz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance(Mz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Nz(),!this.activeServiceWorker)return;this.sender=new kz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Oz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await XT(e,Vh,"1"),await JT(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Fz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cd(s,!1).getAll();return new wu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vb.type="LOCAL";const Bz=Vb;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e){return e?hr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $z(t){return Sz(t.auth,new Hv(t),t.bypassAuthState)}function zz(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Tz(n,new Hv(t),t.bypassAuthState)}async function Hz(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Ez(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $z;case"linkViaPopup":case"linkViaRedirect":return Hz;case"reauthViaPopup":case"reauthViaRedirect":return zz;default:Kn(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new yu(2e3,1e4);async function qz(t,e,n){if(lr(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=xd(t);$$(t,e,$v);const s=Lb(r,n);return new qs(r,"signInViaPopup",e,s).executeNotNull()}class qs extends Fb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wz.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz="pendingRedirect",Uc=new Map;class Gz extends Fb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await Qz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qz(t,e){const n=Jz(e),r=Xz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Yz(t,e){Uc.set(t._key(),e)}function Xz(t){return hr(t._redirectPersistence)}function Jz(t){return jc(Kz,t.config.apiKey,t.name)}async function Zz(t,e,n=!1){if(lr(t.app))return Promise.reject(ai(t));const r=xd(t),s=Lb(r,e),o=await new Gz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=10*60*1e3;class t6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e6&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZT(e))}saveEventToCache(e){this.cachedEventUids.add(ZT(e)),this.lastProcessedEventTime=Date.now()}}function ZT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e={}){return aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i6=/^https?/;async function o6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r6(t);for(const n of e)try{if(a6(n))return}catch{}Kn(t,"unauthorized-domain")}function a6(t){const e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i6.test(n))return!1;if(s6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new yu(3e4,6e4);function eS(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u6(t){return new Promise((e,n)=>{var r,s,i;function o(){eS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eS(),n(Sn(t,"network-request-failed"))},timeout:l6.get()})}if(!((s=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Hn().gapi)===null||i===void 0)&&i.load)o();else{const a=pz("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},dz(`${fz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function c6(t){return Bc=Bc||u6(t),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new yu(5e3,15e3),d6="__/auth/iframe",f6="emulator/auth/iframe",p6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g6(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,f6):`https://${t.config.authDomain}/${d6}`,r={apiKey:e.apiKey,appName:t.name,v:na},s=m6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${cu(r).slice(1)}`}async function y6(t){const e=await c6(t),n=Hn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:g6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=Hn().setTimeout(()=>{i(o)},h6.get());function l(){Hn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w6=500,_6=600,E6="_blank",T6="http://localhost";class tS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S6(t,e,n,r=w6,s=_6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=It().toLowerCase();n&&(a=wb(c)?E6:n),yb(c)&&(e=e||T6,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(sz(c)&&a!=="_self")return P6(e||"",a),new tS(null);const d=window.open(e||"",a,h);ne(d,t,"popup-blocked");try{d.focus()}catch{}return new tS(d)}function P6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",x6="emulator/auth/handler",I6=encodeURIComponent("fac");async function nS(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:na,eventId:s};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",O4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof vu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${I6}=${encodeURIComponent(l)}`:"";return`${C6(t)}?${cu(a).slice(1)}${c}`}function C6({config:t}){return t.emulator?Lv(t,x6):`https://${t.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class R6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=Zz,this._overrideRedirectResult=Yz}async _openPopup(e,n,r,s){var i;Pr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nS(e,n,r,ig(),s);return S6(e,o,zv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nS(e,n,r,ig(),s);return Dz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Pr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y6(e),r=new t6(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rp,{type:rp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[rp];o!==void 0&&n(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pb()||vb()||Uv()}}const b6=R6;var rS="@firebase/auth",sS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N6(t){Fo(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(t)},c=new cz(r,s,i,l);return gz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new mi("auth-internal",e=>{const n=xd(e.getProvider("auth").getImmediate());return(r=>new k6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(rS,sS,D6(t)),ds(rS,sS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=5*60,M6=YC("authIdTokenMaxAge")||O6;let iS=null;const V6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M6)return;const s=n==null?void 0:n.token;iS!==s&&(iS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function L6(t=eR()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mz(t,{popupRedirectResolver:b6,persistence:[Bz,Rz,Db]}),r=YC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=V6(i.toString());Az(n,o,()=>o(n.currentUser)),Pz(n,a=>o(a))}}const s=GC("auth");return s&&yz(n,`http://${s}`),n}function F6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",F6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N6("Browser");const j6={apiKey:"AIzaSyBUHZK-5B6t_nCiNLU7KO3aX6yu1Wn2WEE",authDomain:"school-youni.firebaseapp.com",projectId:"school-youni",storageBucket:"school-youni.firebasestorage.app",messagingSenderId:"288320831466",appId:"1:288320831466:web:f254e1b78a1344d4f73c93",measurementId:"G-LC1G15KJY8"},Ub=ZC(j6),Hl=w$(Ub),Bb=L6(Ub);async function U6(){return(await $l(Bl(Hl,"subjects"))).docs.map(e=>({id:e.id,...e.data()}))}async function B6(t){try{const e=Je.fromDate(new Date(t)),n=N$(Bl(Hl,"tasks"),O$("dueDate","==",e)),[r,s]=await Promise.all([$l(n),$l(Bl(Hl,"subjects"))]),i=new Map(s.docs.map(o=>[Number(o.id),{id:Number(o.id),...o.data()}]));return r.docs.map(o=>{var h,d;const a=o.data(),l=a.subjectId!==void 0?Number(a.subjectId):null,c=l!==null?i.get(l)||{id:l||0,name:"Asignatura desconocida",color:"#CCCCCC",icon:"Book"}:{id:0,name:"Sin asignatura",color:"#CCCCCC",icon:"Book"};return{id:o.id,title:a.title||"",description:a.description||"",dueDate:((h=a.dueDate)==null?void 0:h.toDate())||new Date,completed:a.completed||!1,createdAt:((d=a.createdAt)==null?void 0:d.toDate())||new Date,subjectId:l||0,subject:c}})}catch(e){return console.error("Error fetching tasks:",e),[]}}async function $6(){const t=await $l(Bl(Hl,"tasks")),e=await $l(Bl(Hl,"subjects")),n=new Map(e.docs.map(r=>[Number(r.id),{id:Number(r.id),...r.data()}]));return t.docs.map(r=>{var a,l;const s=r.data(),i=s.subjectId!==void 0?Number(s.subjectId):null,o=i!==null?n.get(i)||{id:i||0,name:"Asignatura desconocida",color:"#CCCCCC",icon:"Book"}:{id:0,name:"Sin asignatura",color:"#CCCCCC",icon:"Book"};return{id:r.id,...s,subjectId:i||0,subject:o,dueDate:((a=s.dueDate)==null?void 0:a.toDate())||new Date,createdAt:((l=s.createdAt)==null?void 0:l.toDate())||new Date}})}function z6(){return V.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-md flex justify-between items-center h-16 z-50",children:[V.jsx("button",{className:"text-violet-600 hover:text-violet-800 flex-1 flex justify-center",children:V.jsx(hM,{className:"w-6 h-6"})}),V.jsx("button",{className:"text-violet-600 hover:text-violet-800 flex-1 flex justify-center",children:V.jsx(uM,{className:"w-6 h-6"})}),V.jsx("div",{className:"flex-1 flex justify-center relative",children:V.jsx("button",{className:"absolute -top-6 bg-gradient-to-r from-purple-500 to-blue-500 text-white p-3 rounded-full shadow-lg hover:from-purple-600 hover:to-blue-600 transition",children:V.jsx(dM,{className:"w-6 h-6"})})}),V.jsx("button",{className:"text-violet-600 hover:text-violet-800 flex-1 flex justify-center",children:V.jsx(pM,{className:"w-6 h-6"})}),V.jsx("button",{className:"text-violet-600 hover:text-violet-800 flex-1 flex justify-center",children:V.jsx(fM,{className:"w-6 h-6"})})]})}function oS({children:t}){return V.jsxs("div",{className:"flex flex-col min-h-screen",children:[V.jsxs("header",{className:"pt-6 px-4 pb-3 bg-white shadow-sm flex items-center justify-between",children:[V.jsxs("div",{className:"flex items-center space-x-3",children:[V.jsx("img",{src:"/icon-192.svg",alt:"icono",className:"w-10 h-10"}),V.jsxs("div",{children:[V.jsx("h1",{className:"text-lg font-bold text-violet-600",children:"MiSemana"}),V.jsx("p",{className:"text-xs text-gray-500",children:"Organiza tu semana escolar!"})]})]}),V.jsx("button",{className:"text-violet-600 text-2xl",children:""})]}),V.jsx("main",{className:"flex-1 p-4 pb-24",children:t}),V.jsxs("footer",{className:"bg-gray-200 text-center text-sm p-2 mt-10 hidden sm:block",children:[" ",new Date().getFullYear()," Hecho por Charly"]}),V.jsx(z6,{})]})}function H6(){return V.jsxs("div",{className:"p-6 bg-white rounded-xl shadow text-center space-y-2",children:[V.jsx("h1",{className:"text-2xl font-bold text-purple-700",children:"Hola, explorador del dinero! "}),V.jsx("p",{className:"text-lg text-gray-600",children:"Esta es tu alcanca mgica. "}),V.jsx("p",{className:"text-sm text-gray-500",children:"Aqu aprenders a ahorrar y cuidar tu plata con alegra."})]})}function W6({saldo:t}){return V.jsxs("div",{className:"bg-green-100 border border-green-300 rounded-xl p-6 text-center shadow-md",children:[V.jsx("h2",{className:"text-2xl font-bold text-green-800",children:" Tu Saldo Actual"}),V.jsxs("p",{className:"text-3xl mt-2 font-extrabold text-green-700",children:["$",t.toLocaleString()]}),V.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Sigue ahorrando para alcanzar tus metas! "})]})}function q6({onAgregar:t}){const[e,n]=C.useState(""),[r,s]=C.useState(""),[i,o]=C.useState(""),a=()=>{!e||!r||!i||(t({nombre:e,metaTotal:Number(r),ahorrado:0,emoji:i}),n(""),s(""),o(""))};return V.jsxs("div",{className:"bg-white border border-purple-300 rounded-xl p-4 shadow-md space-y-2",children:[V.jsx("h3",{className:"font-bold text-purple-700",children:" Agrega una nueva meta"}),V.jsx("input",{className:"w-full p-2 border rounded text-black",placeholder:"Nombre (ej: Bicicleta)",value:e,onChange:l=>n(l.target.value)}),V.jsx("input",{className:"w-full p-2 border rounded text-black",type:"number",placeholder:"Monto total (ej: 50000)",value:r,onChange:l=>s(l.target.value)}),V.jsx("input",{className:"w-full p-2 border rounded text-black",placeholder:"Emoji (ej: )",value:i,onChange:l=>o(l.target.value)}),V.jsx("button",{onClick:a,className:"bg-purple-500 text-white px-4 py-2 rounded w-full hover:bg-purple-600",children:"Agregar Meta"})]})}function K6(){const[t,e]=C.useState([{nombre:"Bicicleta",metaTotal:8e4,ahorrado:25e3,emoji:""},{nombre:"Juguete",metaTotal:25e3,ahorrado:12e3,emoji:""}]),n=r=>{e([...t,r])};return V.jsxs("div",{className:"space-y-4",children:[V.jsx("h2",{className:"text-xl font-bold text-purple-800",children:" Metas de Ahorro"}),t.map((r,s)=>{const i=Math.min(r.ahorrado/r.metaTotal*100,100);return V.jsxs("div",{className:"bg-white rounded-xl shadow p-4 border border-purple-200",children:[V.jsxs("div",{className:"flex justify-between items-center",children:[V.jsxs("span",{className:"text-lg font-semibold",children:[r.emoji," ",r.nombre]}),V.jsxs("span",{className:"text-sm text-gray-500",children:["$",r.ahorrado.toLocaleString()," / $",r.metaTotal.toLocaleString()]})]}),V.jsx("div",{className:"w-full bg-purple-100 h-3 rounded mt-2 overflow-hidden",children:V.jsx("div",{className:"h-full bg-purple-500",style:{width:`${i}%`}})})]},s)}),V.jsx(q6,{onAgregar:n})]})}function G6({selectedDate:t,setSelectedDate:e}){const[n,r]=C.useState(!1),{data:s=[],isLoading:i}=xf({queryKey:["subjects"],queryFn:U6}),{data:o=[],isLoading:a}=xf({queryKey:["tasks/all"],queryFn:$6}),l=t.toISOString().split("T")[0],{data:c=[],isLoading:h}=xf({queryKey:["tasks",l],queryFn:()=>B6(l)});return i||a||h?V.jsx(oS,{children:V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:V.jsx("div",{className:"text-xl font-semibold text-gray-600",children:"Cargando..."})})}):V.jsx(oS,{children:V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:V.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[V.jsx(H6,{}),V.jsx(W6,{saldo:2500}),V.jsx(K6,{})]})})})}/*! Capacitor: https://capacitorjs.com/ - MIT License */const Q6=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(i,o)=>{n.platforms.set(i,o)},s=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=r,n.setPlatform=s,n},Y6=t=>t.CapacitorPlatforms=Q6(t),$b=Y6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});$b.addPlatform;$b.setPlatform;var Ko;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ko||(Ko={}));class sp extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const X6=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},J6=t=>{var e,n,r,s,i;const o=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},c=t.CapacitorPlatforms,h=()=>o!==null?o.name:X6(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||h,p=()=>d()!=="web",g=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,E=S=>{const y=b.get(S);return!!(y!=null&&y.platforms.has(d())||w(S))},_=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||E,P=S=>{var y;return(y=a.PluginHeaders)===null||y===void 0?void 0:y.find(I=>I.name===S)},w=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||P,v=S=>t.console.error(S),T=(S,y,I)=>Promise.reject(`${I} does not have an implementation of "${y}".`),b=new Map,D=(S,y={})=>{const I=b.get(S);if(I)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),I.proxy;const x=d(),k=w(S);let N;const R=async()=>(!N&&x in y?N=typeof y[x]=="function"?N=await y[x]():N=y[x]:o!==null&&!N&&"web"in y&&(N=typeof y.web=="function"?N=await y.web():N=y.web),N),W=(q,J)=>{var re,ue;if(k){const be=k==null?void 0:k.methods.find(ke=>J===ke.name);if(be)return be.rtype==="promise"?ke=>a.nativePromise(S,J.toString(),ke):(ke,ft)=>a.nativeCallback(S,J.toString(),ke,ft);if(q)return(re=q[J])===null||re===void 0?void 0:re.bind(q)}else{if(q)return(ue=q[J])===null||ue===void 0?void 0:ue.bind(q);throw new sp(`"${S}" plugin is not implemented on ${x}`,Ko.Unimplemented)}},oe=q=>{let J;const re=(...ue)=>{const be=R().then(ke=>{const ft=W(ke,q);if(ft){const rt=ft(...ue);return J=rt==null?void 0:rt.remove,rt}else throw new sp(`"${S}.${q}()" is not implemented on ${x}`,Ko.Unimplemented)});return q==="addListener"&&(be.remove=async()=>J()),be};return re.toString=()=>`${q.toString()}() { [capacitor code] }`,Object.defineProperty(re,"name",{value:q,writable:!1,configurable:!1}),re},se=oe("addListener"),X=oe("removeListener"),j=(q,J)=>{const re=se({eventName:q},J),ue=async()=>{const ke=await re;X({eventName:q,callbackId:ke},J)},be=new Promise(ke=>re.then(()=>ke({remove:ue})));return be.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ue()},be},z=new Proxy({},{get(q,J){switch(J){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?j:se;case"removeListener":return X;default:return oe(J)}}});return l[S]=z,b.set(S,{name:S,proxy:z,platforms:new Set([...Object.keys(y),...k?[x]:[]])}),z},M=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||D;return a.convertFileSrc||(a.convertFileSrc=S=>S),a.getPlatform=d,a.handleError=v,a.isNativePlatform=g,a.isPluginAvailable=_,a.pluginMethodNoop=T,a.registerPlugin=M,a.Exception=sp,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Z6=t=>t.Capacitor=J6(t),Wl=Z6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),zb=Wl.registerPlugin;Wl.Plugins;class Hb{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Wl.Exception(e,Ko.Unimplemented)}unavailable(e="not available"){return new Wl.Exception(e,Ko.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const aS=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),lS=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class e5 extends Hb{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=lS(s).trim(),i=lS(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=aS(e.key),r=aS(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}zb("CapacitorCookies",{web:()=>new e5});const t5=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),n5=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},r5=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,s5=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=n5(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(t.data))i.append(a,t.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class i5 extends Hb{async request(e){const n=s5(e,e.webFetchExtra),r=r5(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await t5(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const h={};return i.headers.forEach((d,p)=>{h[p]=d}),{data:l,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}zb("CapacitorHttp",{web:()=>new i5});function Wb(){const[t,e]=C.useState(!1),[n,r]=C.useState(!1);C.useEffect(()=>{e(Wl.isNativePlatform())},[]);const s=async()=>{r(!0);try{if(!t){const i=new ir;await qz(Bb,i),console.log(" Autenticado con Google (Web)");return}alert(" Login nativo deshabilitado")}catch(i){console.error("Error GoogleAuth:",i),alert(" Error: "+((i==null?void 0:i.message)||i))}finally{r(!1)}};return V.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-6 p-4 bg-gray-50",children:[V.jsxs("div",{className:"text-center",children:[V.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Bienvenido"}),V.jsx("p",{className:"text-gray-600",children:"Inicia sesin con Google"})]}),V.jsx("button",{onClick:s,disabled:n,className:"bg-white text-gray-800 px-6 py-4 rounded-lg shadow-md w-80 border border-gray-200 hover:bg-gray-100 transition",children:V.jsx("span",{className:"font-medium",children:n?"Conectando...":"Continuar con Google"})}),V.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["Plataforma: ",t?" Nativa":" Web"," | Estado:  Configurado"]})]})}const qb=C.forwardRef(({className:t,...e},n)=>V.jsx("div",{ref:n,className:tn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qb.displayName="Card";const o5=C.forwardRef(({className:t,...e},n)=>V.jsx("div",{ref:n,className:tn("flex flex-col space-y-1.5 p-6",t),...e}));o5.displayName="CardHeader";const a5=C.forwardRef(({className:t,...e},n)=>V.jsx("div",{ref:n,className:tn("text-2xl font-semibold leading-none tracking-tight",t),...e}));a5.displayName="CardTitle";const l5=C.forwardRef(({className:t,...e},n)=>V.jsx("div",{ref:n,className:tn("text-sm text-muted-foreground",t),...e}));l5.displayName="CardDescription";const Kb=C.forwardRef(({className:t,...e},n)=>V.jsx("div",{ref:n,className:tn("p-6 pt-0",t),...e}));Kb.displayName="CardContent";const u5=C.forwardRef(({className:t,...e},n)=>V.jsx("div",{ref:n,className:tn("flex items-center p-6 pt-0",t),...e}));u5.displayName="CardFooter";function c5(){return V.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:V.jsx(qb,{className:"w-full max-w-md mx-4",children:V.jsxs(Kb,{className:"pt-6",children:[V.jsxs("div",{className:"flex mb-4 gap-2",children:[V.jsx(cM,{className:"h-8 w-8 text-red-500"}),V.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),V.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function h5({children:t}){const[e,n]=C.useState(!1),[r,s]=C.useState(!1);return C.useEffect(()=>{const i=xz(Bb,o=>{s(!!o),n(!0)});return()=>i()},[]),e?r?t:V.jsx(Wb,{}):V.jsx("div",{children:"Cargando..."})}function d5({selectedDate:t,setSelectedDate:e}){return V.jsxs(SN,{children:[V.jsx(Af,{path:"/login",children:V.jsx(Wb,{})}),V.jsx(Af,{path:"/",children:V.jsx(h5,{children:V.jsx(G6,{selectedDate:t,setSelectedDate:e})})}),V.jsx(Af,{children:V.jsx(c5,{})})]})}function f5(){const[t,e]=C.useState(!0),[n,r]=C.useState(()=>{const s=new Date;return s.setHours(12,0,0,0),s});return h4(),C.useEffect(()=>{const s=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(s)},[]),V.jsx(qN,{client:oO,children:V.jsx(VL,{children:V.jsxs("div",{className:"min-h-screen bg-background text-white",children:[V.jsx(XM,{}),t?V.jsx(c4,{}):V.jsx(d5,{selectedDate:n,setSelectedDate:r})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(()=>console.log("Service Worker registered")).catch(()=>console.log("Service Worker registration failed"))});DA(document.getElementById("root")).render(V.jsx(er.StrictMode,{children:V.jsx(f5,{})}));
